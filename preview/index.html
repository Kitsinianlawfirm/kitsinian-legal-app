<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClaimIt - Full Interactive Preview</title>
    <!-- Favicon - Lightning bolt on blue (ClaimIt brand) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' rx='6' fill='%230066FF'/%3E%3Cpath d='M17.5 6L10 17h5.5l-1 9L22 15h-5.5l1-9z' fill='%23F59E0B'/%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'%3E%3Crect width='180' height='180' rx='40' fill='%230066FF'/%3E%3Cpath d='M98 30L52 95h35l-7 55 53-70h-35l7-50z' fill='%23F59E0B'/%3E%3C/svg%3E">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self';">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Primary Colors */
            --primary: #0066FF;
            --primary-light: #4D94FF;
            --primary-dark: #0047B3;

            /* Accent Colors */
            --accent: #FF6B35;
            --accent-light: #FF8F66;

            /* Semantic Colors */
            --success: #00C48C;
            --success-light: #00E6A0;
            --warning: #F59E0B;
            --error: #EF4444;
            --gold: #F59E0B;

            /* Background Colors */
            --bg-gradient-start: #0066FF;
            --bg-gradient-end: #00D4FF;
            --card-bg: #FFFFFF;
            --page-bg: #F8FAFC;
            --bg-secondary: #F1F5F9;

            /* Text Colors */
            --text-primary: #111827;
            --text-secondary: #4B5563;
            --text-muted: #6B7280; /* Improved contrast ratio for WCAG AA compliance */

            /* Border Colors */
            --border-color: #E5E7EB;
            --border-light: #F3F4F6;

            /* Shadows */
            --shadow-color: rgba(0,0,0,0.08);
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);

            /* Animation Timing */
            --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
            --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
            --duration-fast: 200ms;
            --duration-normal: 300ms;
            --duration-slow: 400ms;

            /* Spacing Scale (8px base) */
            --space-1: 4px;
            --space-2: 8px;
            --space-3: 12px;
            --space-4: 16px;
            --space-5: 20px;
            --space-6: 24px;
            --space-7: 32px;
            --space-8: 40px;

            /* Extended Colors - Light Backgrounds */
            --primary-bg-light: #F0F7FF;
            --accent-bg-light: #FFF5F0;
            --success-bg-light: #F0FDF4;
            --success-bg-lighter: #DCFCE7;

            /* Brand Colors */
            --brand-gold: #FFD700;
            --purple: #8B5CF6;
            --purple-light: #A78BFA;

            /* Status Badge Colors */
            --status-submitted-bg: #E5E7EB;
            --status-submitted-text: #4B5563;
            --status-review-bg: #DBEAFE;
            --status-review-text: #1D4ED8;
            --status-qualified-bg: #D1FAE5;
            --status-qualified-text: #059669;
            --status-matched-bg: #FEF3C7;
            --status-matched-text: #D97706;
            --status-retained-bg: #D1FAE5;
            --status-retained-text: #059669;

            /* Typography Scale */
            --font-size-xs: 10px;
            --font-size-sm: 12px;
            --font-size-base: 14px;
            --font-size-md: 16px;
            --font-size-lg: 18px;
            --font-size-xl: 20px;
            --font-size-2xl: 24px;
            --font-size-3xl: 28px;
            --font-size-4xl: 34px;
            --font-size-5xl: 42px;

            /* Extended Spacing */
            --space-1-5: 6px;
            --space-2-5: 10px;
            --space-3-5: 14px;
            --space-10: 48px;
            --space-12: 56px;
            --space-16: 80px;

            /* Border Radius Scale */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-2xl: 20px;
            --radius-3xl: 24px;
            --radius-full: 9999px;

            /* Dark Mode Colors */
            --dark-bg: #0F172A;
            --dark-bg-secondary: #1E293B;
            --dark-card-bg: #1E293B;
            --dark-card-bg-elevated: #334155;
            --dark-text-primary: #F8FAFC;
            --dark-text-secondary: #CBD5E1;
            --dark-text-muted: #94A3B8; /* Improved contrast for dark mode WCAG AA */
            --dark-border-color: #334155;
            --dark-border-light: #475569;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 42px;
            font-weight: 900;
            margin-bottom: 8px;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        .instructions {
            color: white;
            text-align: center;
            margin-bottom: 20px;
            font-size: 14px;
            opacity: 0.8;
        }

        .instructions span {
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 12px;
            margin: 0 4px;
        }

        /* Device Frame - Single container for iPhone and iPad views */
        .device-frame {
            width: 390px;
            height: 844px;
            background: #1a1a1a;
            border-radius: 55px;
            padding: 14px;
            box-shadow: 0 50px 100px rgba(0,0,0,0.4), inset 0 0 0 2px #333;
            transition: width var(--duration-slow) var(--ease-out),
                        height var(--duration-slow) var(--ease-out),
                        border-radius var(--duration-slow) var(--ease-out),
                        padding var(--duration-slow) var(--ease-out);
            will-change: width, height;
        }

        .device-frame.tablet {
            width: 820px;
            height: 1180px;
            border-radius: 40px;
            padding: 20px;
        }

        .device-screen {
            width: 100%;
            height: 100%;
            border-radius: 42px;
            overflow: hidden;
            position: relative;
            background: var(--page-bg);
            isolation: isolate; /* Creates stacking context to contain fixed-position modals */
        }

        .device-frame.tablet .device-screen {
            border-radius: 24px;
        }

        .dynamic-island {
            width: 126px;
            height: 37px;
            background: #000;
            border-radius: 20px;
            position: absolute;
            top: 11px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            pointer-events: none;
        }

        .status-bar {
            height: 54px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            padding: 0 28px 8px;
            font-size: 14px;
            font-weight: 600;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            z-index: 50;
        }

        .status-bar.light { color: white; }
        .status-bar.dark { color: #1a1a1a; }

        .status-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Sign-In Button */
        .signin-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: none;
            background: rgba(255,255,255,0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        transform var(--duration-fast) var(--ease-smooth);
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        .signin-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        .signin-btn:active {
            transform: scale(0.95);
        }

        .signin-btn svg {
            width: 20px;
            height: 20px;
            color: inherit;
        }

        .status-bar.dark .signin-btn {
            background: rgba(0,0,0,0.1);
        }

        .status-bar.dark .signin-btn:hover {
            background: rgba(0,0,0,0.15);
        }

        .signin-btn.signed-in {
            background: var(--primary);
            color: white !important;
        }

        .signin-btn.signed-in:hover {
            background: var(--primary-dark);
        }

        .signin-btn .user-initial {
            font-size: 12px;
            font-weight: 700;
            color: white;
        }

        /* Screen Container */
        .screen-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
        }

        .screen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            transform: translateX(100%);
            transition: opacity var(--duration-slow) var(--ease-out),
                        transform var(--duration-slow) var(--ease-out);
            pointer-events: none;
            overflow-y: auto;
            padding-top: 54px;
            padding-bottom: 90px;
            background: var(--page-bg);
            will-change: transform, opacity;
            -webkit-overflow-scrolling: touch;
        }

        .screen.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: all;
        }

        .screen.slide-left {
            transform: translateX(-30%);
        }

        .screen::-webkit-scrollbar { display: none; }

        /* Detail Screen (slides from right) */
        .detail-screen {
            z-index: 60;
            padding-bottom: 40px;
        }

        /* Tab Bar */
        .tab-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 85px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 8px 8px 20px;
            z-index: 100;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.04);
        }

        .tab-bar.hidden { display: none; }

        .tab {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-1);
            color: var(--text-muted);
            font-size: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: color var(--duration-fast) var(--ease-smooth),
                        background-color var(--duration-fast) var(--ease-smooth);
            padding: var(--space-2) var(--space-4);
            background: none;
            border: none;
            border-radius: 12px;
            min-width: 64px;
            min-height: 56px;
            -webkit-tap-highlight-color: transparent;
        }

        .tab:hover {
            color: var(--text-secondary);
            background: rgba(0, 102, 255, 0.05);
        }

        .tab:active {
            background: rgba(0, 102, 255, 0.12);
        }

        .tab.active {
            color: var(--primary);
            background: rgba(0, 102, 255, 0.1);
        }

        .tab-icon {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform var(--duration-fast) var(--ease-smooth);
            pointer-events: none;
        }

        .tab-icon * {
            pointer-events: none;
        }

        .tab.active .tab-icon { transform: scale(1.1); }

        .tab span {
            pointer-events: none;
        }

        /* Back Button */
        .back-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 12px 20px;
            font-size: 16px;
            font-weight: 600;
            color: var(--primary);
            cursor: pointer;
            background: none;
            border: none;
        }

        .back-btn:hover { opacity: 0.8; }

        /* Detail Header */
        .detail-header {
            padding: 0 20px 20px;
        }

        .detail-category {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            font-size: 12px;
            font-weight: 600;
            border-radius: 16px;
            margin-bottom: 12px;
        }

        .detail-title {
            font-size: 26px;
            font-weight: 800;
            color: var(--text-primary);
            line-height: 1.2;
            margin-bottom: 8px;
        }

        .detail-meta {
            font-size: 14px;
            color: var(--text-secondary);
        }

        /* Article Content */
        .article-content {
            padding: 0 20px;
        }

        .article-content h2 {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin: 24px 0 12px;
            padding-top: 16px;
            border-top: 1px solid var(--border-color);
        }

        .article-content h2:first-child {
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }

        .article-content h3 {
            font-size: 17px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 20px 0 10px;
        }

        .article-content p {
            font-size: 15px;
            line-height: 1.7;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .article-content ul, .article-content ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        .article-content li {
            font-size: 15px;
            line-height: 1.7;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .article-content .tip-box {
            background: linear-gradient(135deg, rgba(0,196,140,0.1) 0%, rgba(0,230,160,0.1) 100%);
            border-left: 4px solid var(--success);
            padding: 16px;
            border-radius: 0 12px 12px 0;
            margin: 20px 0;
        }

        .article-content .tip-box p {
            margin: 0;
            color: var(--text-primary);
        }

        .article-content .warning-box {
            background: linear-gradient(135deg, rgba(255,107,53,0.1) 0%, rgba(255,143,102,0.1) 100%);
            border-left: 4px solid var(--accent);
            padding: 16px;
            border-radius: 0 12px 12px 0;
            margin: 20px 0;
        }

        .article-content .warning-box p {
            margin: 0;
            color: var(--text-primary);
        }

        .article-content .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 16px;
            background: white;
            border-radius: 12px;
            margin-bottom: 8px;
            box-shadow: 0 2px 8px var(--shadow-color);
        }

        .article-content .checklist-item .check {
            width: 24px;
            height: 24px;
            border: 2px solid var(--primary);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            cursor: pointer;
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        color var(--duration-fast) var(--ease-smooth);
        }

        .article-content .checklist-item .check.checked {
            background: var(--primary);
            color: white;
        }

        .article-content .checklist-item span {
            font-size: 15px;
            color: var(--text-primary);
        }

        /* CTA at bottom of article */
        .article-cta {
            margin: 30px 20px;
            padding: 24px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 20px;
            text-align: center;
        }

        .article-cta h3 {
            color: white;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .article-cta p {
            color: rgba(255,255,255,0.9);
            font-size: 14px;
            margin-bottom: 16px;
        }

        .article-cta button {
            background: white;
            color: var(--primary);
            border: none;
            padding: 14px 28px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .article-cta button:hover {
            transform: scale(1.05);
        }

        /* ==================== HOME SCREEN ==================== */
        .home-screen {
            background: linear-gradient(180deg, var(--primary) 0%, var(--primary-dark) 40%, var(--page-bg) 40%);
        }

        .hero {
            padding: 16px 20px 36px;
            text-align: center;
            color: white;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255,255,255,0.2);
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 14px;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }

        .hero h1 {
            font-size: 30px;
            font-weight: 800;
            margin-bottom: 6px;
            line-height: 1.15;
            letter-spacing: -0.5px;
        }

        .hero p { font-size: 15px; opacity: 0.9; margin-bottom: 16px; font-weight: 500; }

        .hero-logo {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px;
            position: relative;
        }
        .hero-logo svg {
            position: absolute;
            right: 100%;
            margin-right: 8px;
        }
        .hero-logo-text {
            font-size: 28px;
            font-weight: 900;
            color: white;
            letter-spacing: -0.5px;
        }
        .hero-logo-text .highlight {
            color: var(--brand-gold);
        }
        .bolt-i {
            color: var(--brand-gold);
            vertical-align: middle;
            margin: 0 -4px 0 -3px;
            display: inline-block;
            position: relative;
            top: -1px;
        }
        .bolt-i-sm {
            color: var(--accent);
            vertical-align: middle;
            margin: 0 -3px 0 -2px;
            display: inline-block;
            position: relative;
            top: -1px;
        }
        .account-header .bolt-i-sm {
            color: var(--brand-gold);
        }

        .stats-row {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .stat {
            text-align: center;
            background: rgba(255,255,255,0.15);
            padding: 10px 16px;
            border-radius: 12px;
        }
        .stat-value { font-size: 20px; font-weight: 800; color: white; }
        .stat-label { font-size: 10px; color: rgba(255,255,255,0.85); margin-top: 2px; font-weight: 500; }
        .stat-disclaimer { font-size: 8px; color: rgba(255,255,255,0.6); margin-top: 1px; cursor: help; text-decoration: underline dotted; }

        /* Legal Footer */
        .legal-footer {
            padding: 16px 20px;
            background: var(--page-bg);
            border-top: 1px solid var(--border-color);
            text-align: center;
        }
        .legal-footer p {
            font-size: 10px;
            color: var(--text-muted);
            line-height: 1.5;
            margin-bottom: 8px;
        }
        .legal-footer-links {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }
        .legal-footer-links a {
            font-size: 10px;
            color: var(--primary);
            text-decoration: none;
        }
        .legal-footer-links a:hover { text-decoration: underline; }

        /* Powered By Section */
        .powered-by {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
        }
        .powered-by span {
            font-size: 9px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .powered-by img {
            height: 16px;
            width: auto;
            opacity: 0.6;
        }

        /* Accessibility: Reduce motion */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Legal Modal */
        /* Legal Modal - contained within phone frame */
        .legal-modal {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 16px;
            border-radius: 42px;
        }
        .legal-modal.active { display: flex; }
        .legal-modal-content {
            background: white;
            border-radius: 16px;
            width: 100%;
            max-height: 85%;
            overflow-y: auto;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        .legal-modal-content h2 {
            font-size: 18px;
            margin-bottom: 12px;
            color: var(--text-primary);
        }
        .legal-modal-content h3 {
            font-size: 14px;
            margin: 16px 0 8px;
            color: var(--text-primary);
        }
        .legal-modal-content p, .legal-modal-content li {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 8px;
        }
        .legal-modal-content ul {
            padding-left: 16px;
            margin-bottom: 8px;
        }
        .legal-modal-close {
            display: block;
            width: 100%;
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 16px;
        }

        /* Accessibility: Screen reader only */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Minimum touch target size */
        button, .tab, .quick-action, .practice-card, .resource-card {
            min-height: 44px;
        }

        .glass-card {
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            margin: -18px 16px 16px;
            padding: 16px;
        }

        .btn-primary {
            width: 100%;
            padding: 18px 24px;
            background: linear-gradient(145deg, #FF7B45 0%, var(--accent) 30%, #E85A25 70%, #FF6B35 100%);
            border: none;
            border-radius: var(--radius-xl);
            color: white;
            font-size: 17px;
            font-weight: 700;
            letter-spacing: 0.3px;
            cursor: pointer;
            box-shadow:
                0 8px 24px rgba(255, 107, 53, 0.4),
                0 4px 8px rgba(255, 107, 53, 0.25),
                inset 0 1px 1px rgba(255, 255, 255, 0.3),
                inset 0 -1px 1px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            text-align: center;
            line-height: 1.3;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
            transition: transform var(--duration-fast) var(--ease-smooth),
                        box-shadow var(--duration-fast) var(--ease-smooth),
                        background var(--duration-fast) var(--ease-smooth);
            transform: translateY(0);
            will-change: transform, box-shadow;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow:
                0 12px 32px rgba(255, 107, 53, 0.5),
                0 6px 12px rgba(255, 107, 53, 0.3),
                inset 0 1px 1px rgba(255, 255, 255, 0.35),
                inset 0 -1px 1px rgba(0, 0, 0, 0.1);
            background: linear-gradient(145deg, #FF8855 0%, #FF7040 30%, #F06030 70%, #FF7B45 100%);
        }

        .btn-primary:active {
            transform: translateY(1px);
            box-shadow:
                0 4px 12px rgba(255, 107, 53, 0.35),
                0 2px 4px rgba(255, 107, 53, 0.2),
                inset 0 1px 1px rgba(255, 255, 255, 0.2),
                inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Inner glow overlay */
        .btn-primary::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, transparent 100%);
            border-radius: var(--radius-xl) var(--radius-xl) 0 0;
            pointer-events: none;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2.5s infinite;
        }

        /* Lightning bolt icon styling */
        .btn-primary .btn-icon {
            flex-shrink: 0;
            filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.15));
        }

        .btn-primary .btn-text {
            white-space: nowrap;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow:
                    0 8px 24px rgba(255, 107, 53, 0.4),
                    0 4px 8px rgba(255, 107, 53, 0.25),
                    inset 0 1px 1px rgba(255, 255, 255, 0.3),
                    inset 0 -1px 1px rgba(0, 0, 0, 0.1);
            }
            50% {
                box-shadow:
                    0 10px 32px rgba(255, 107, 53, 0.55),
                    0 6px 12px rgba(255, 107, 53, 0.35),
                    inset 0 1px 1px rgba(255, 255, 255, 0.3),
                    inset 0 -1px 1px rgba(0, 0, 0, 0.1);
            }
        }

        .pulse { animation: pulse 2.5s ease-in-out infinite; }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 20px 10px;
        }

        .section-title { font-size: 17px; font-weight: 700; color: var(--text-primary); }
        .section-link {
            font-size: 13px;
            font-weight: 600;
            color: var(--primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 2px;
        }

        .quick-actions {
            display: flex;
            gap: 10px;
            padding: 0 20px 16px;
            overflow-x: auto;
        }

        .quick-action {
            min-width: 90px;
            min-height: 88px;
            padding: var(--space-3) var(--space-3);
            background: white;
            border-radius: 16px;
            text-align: center;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out);
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        .quick-action * {
            pointer-events: none;
        }

        .quick-action:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .quick-action:active {
            transform: translateY(0);
            box-shadow: var(--shadow-sm);
        }

        .quick-action-icon {
            width: 44px;
            height: 44px;
            margin: 0 auto 8px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quick-action h4 { font-size: 12px; font-weight: 700; color: var(--text-primary); margin-bottom: 2px; }
        .quick-action p { font-size: 10px; color: var(--text-muted); font-weight: 500; }

        /* Container for practice cards */
        .practice-cards-container {
            padding: 0;
        }

        .practice-card {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-4);
            background: white;
            margin: 0 var(--space-4) var(--space-2);
            border-radius: 16px;
            box-shadow: var(--shadow-sm);
            cursor: pointer;
            min-height: 72px;
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out);
            -webkit-tap-highlight-color: transparent;
        }

        .practice-card * {
            pointer-events: none;
        }

        .practice-card:hover {
            transform: translateX(3px);
            box-shadow: var(--shadow-md);
        }

        .practice-card:active {
            transform: scale(0.98);
        }

        .practice-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .practice-info { flex: 1; min-width: 0; }
        .practice-info h4 {
            font-size: 15px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 3px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .badge-primary {
            font-size: 9px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--success) 0%, #00D9A0 100%);
            color: white;
            padding: 3px 7px;
            border-radius: 5px;
            display: inline-flex;
            align-items: center;
            gap: 3px;
        }

        .practice-info p { font-size: 13px; color: var(--text-secondary); line-height: 1.35; }
        .chevron { color: var(--text-muted); display: flex; align-items: center; }

        .referral-scroll {
            display: flex;
            gap: 10px;
            padding: 0 20px 20px;
            overflow-x: auto;
        }

        .referral-card {
            min-width: 110px;
            min-height: 88px;
            padding: var(--space-4) var(--space-3);
            background: white;
            border-radius: 16px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out);
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        .referral-card * {
            pointer-events: none;
        }

        .referral-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .referral-card:active {
            transform: translateY(0);
        }

        .referral-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }

        .referral-card h4 { font-size: 13px; font-weight: 700; color: var(--text-primary); }

        /* ==================== LEARN SCREEN ==================== */
        .learn-screen { background: var(--page-bg); }

        .learn-header { padding: 20px 20px 0; }
        .learn-header h1 { font-size: 28px; font-weight: 800; color: var(--text-primary); letter-spacing: -0.5px; }
        .learn-header p { font-size: 14px; color: var(--text-secondary); margin-top: 4px; font-weight: 500; }

        .header-logo {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 8px;
        }
        .header-logo span {
            font-size: 18px;
            font-weight: 800;
            color: var(--text-primary);
        }
        .header-logo .highlight {
            color: var(--brand-gold);
        }
        /* White text for dark backgrounds (account screen) */
        .account-header .header-logo span {
            color: white;
        }
        .account-header .header-logo .highlight {
            color: var(--brand-gold);
        }

        .category-scroll {
            display: flex;
            gap: 8px;
            padding: 16px 20px;
            overflow-x: auto;
        }

        .category-chip {
            padding: var(--space-2) var(--space-4);
            background: white;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            white-space: nowrap;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
            transition: border-color var(--duration-fast) var(--ease-smooth),
                        color var(--duration-fast) var(--ease-smooth),
                        background-color var(--duration-fast) var(--ease-smooth);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            min-height: 44px;
            -webkit-tap-highlight-color: transparent;
        }

        .category-chip:hover { border-color: var(--primary); color: var(--primary); }

        .category-chip:active {
            transform: scale(0.97);
        }

        .category-chip.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .category-chip.active svg { color: white; }

        /* Resources grid container */
        .resources-grid {
            padding: 0;
        }

        .resource-card {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-4);
            background: white;
            margin: 0 var(--space-4) var(--space-2);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            cursor: pointer;
            min-height: 72px;
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out);
            -webkit-tap-highlight-color: transparent;
        }

        .resource-card * {
            pointer-events: none;
        }

        .resource-card:hover {
            transform: translateX(3px);
            box-shadow: var(--shadow-md);
        }

        .resource-card:active {
            transform: scale(0.98);
        }

        .resource-icon {
            width: 50px;
            height: 50px;
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .resource-info { flex: 1; min-width: 0; }
        .resource-info h4 {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
            line-height: 1.3;
        }

        .resource-meta { font-size: 12px; color: var(--text-muted); font-weight: 500; }
        .resource-meta span { color: var(--primary); font-weight: 600; }

        /* ==================== CONTACT SCREEN ==================== */
        .contact-screen { background: var(--page-bg); }

        .contact-header {
            text-align: center;
            padding: 24px 20px 20px;
        }

        .contact-header h1 { font-size: 28px; font-weight: 800; color: var(--text-primary); margin-bottom: 6px; letter-spacing: -0.5px; }
        .contact-header p { font-size: 14px; color: var(--text-secondary); font-weight: 500; }

        .contact-card {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4);
            background: white;
            margin: 0 var(--space-4) var(--space-2);
            border-radius: 16px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out);
            cursor: pointer;
            min-height: 72px;
            -webkit-tap-highlight-color: transparent;
        }

        .contact-card * {
            pointer-events: none;
        }

        .contact-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .contact-card:active {
            transform: translateY(0);
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .contact-icon.blue { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%); }
        .contact-icon.green { background: linear-gradient(135deg, var(--success) 0%, #00D9A0 100%); }
        .contact-icon.orange { background: linear-gradient(135deg, var(--accent) 0%, #FF8855 100%); }

        .contact-info { flex: 1; min-width: 0; }
        .contact-info h4 { font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 3px; }
        .contact-info p { font-size: 13px; color: var(--text-secondary); }

        .contact-action {
            padding: 10px 14px;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
        }

        .contact-action.blue { background: var(--primary); }
        .contact-action.green { background: var(--success); }
        .contact-action.orange { background: var(--accent); }

        .office-card {
            background: white;
            margin: 16px 16px;
            border-radius: var(--radius-xl);
            padding: 20px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .office-card h3 {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .office-row {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .office-row:last-child { border-bottom: none; padding-bottom: 0; }
        .office-row-icon { display: flex; align-items: center; justify-content: center; width: 24px; }
        .office-row h4 { font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 2px; }
        .office-row p { font-size: 12px; color: var(--text-secondary); }

        /* ==================== CLAIM SCREEN ==================== */
        .claim-screen { background: var(--page-bg); }

        .progress-container { padding: 12px 20px 0; }

        .progress-bar {
            height: 5px;
            background: var(--border-color);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 3px;
            width: 16%;
            transition: width var(--duration-slow) var(--ease-out);
        }

        .question-container { padding: 20px 20px; }

        .question-text {
            font-size: 24px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 6px;
            line-height: 1.2;
            letter-spacing: -0.5px;
        }

        .question-subtext {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-weight: 500;
        }

        .quiz-option {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-4);
            background: white;
            border-radius: var(--radius-xl);
            margin-bottom: var(--space-2);
            box-shadow: var(--shadow-sm);
            border: 2px solid var(--border-color);
            cursor: pointer;
            transition: transform var(--duration-fast) var(--ease-out),
                        border-color var(--duration-fast) var(--ease-smooth),
                        box-shadow var(--duration-fast) var(--ease-out),
                        background-color var(--duration-fast) var(--ease-smooth);
            position: relative;
            z-index: 1;
            min-height: 56px;
            -webkit-tap-highlight-color: transparent;
        }

        .quiz-option * {
            pointer-events: none;
        }

        .quiz-option:hover {
            transform: translateX(4px);
            border-color: var(--primary);
            box-shadow: var(--shadow-md);
        }

        .quiz-option:active {
            transform: scale(0.98);
        }

        .quiz-option.selected {
            border-color: var(--primary);
            background: #F0F7FF;
        }

        .quiz-option-icon {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .quiz-option span { font-size: 15px; font-weight: 600; color: var(--text-primary); }

        .spacer { height: 30px; }

        /* ==================== CUSTOM SVG ICONS ==================== */
        .icon-svg {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .icon-svg svg {
            width: 100%;
            height: 100%;
        }

        /* Logo */
        .claimit-logo {
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .claimit-logo-icon {
            width: 52px;
            height: 52px;
        }

        .claimit-logo-icon.small {
            width: 40px;
            height: 40px;
        }

        .claimit-logo-text {
            font-size: 36px;
            font-weight: 900;
            color: white;
            letter-spacing: -1px;
        }

        .claimit-logo-text .highlight {
            color: var(--brand-gold);
        }

        /* Quiz Step Visibility */
        .quiz-step {
            display: none;
        }

        .quiz-step.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .quiz-back-btn {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            padding: 0;
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .quiz-back-btn:hover { opacity: 0.7; }

        .quiz-back-btn::before {
            content: '‚Üê';
            font-size: 18px;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 14px;
        }

        .form-input {
            width: 100%;
            padding: var(--space-4) var(--space-4);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-xl);
            font-size: 16px;
            font-family: inherit;
            background: white;
            transition: border-color var(--duration-fast) var(--ease-smooth),
                        box-shadow var(--duration-fast) var(--ease-smooth);
            min-height: 52px;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 102, 255, 0.1);
        }

        .form-textarea {
            width: 100%;
            padding: var(--space-4) var(--space-4);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-xl);
            font-size: 16px;
            font-family: inherit;
            background: white;
            min-height: 100px;
            resize: none;
            transition: border-color var(--duration-fast) var(--ease-smooth),
                        box-shadow var(--duration-fast) var(--ease-smooth);
        }

        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 102, 255, 0.1);
        }

        .btn-submit {
            width: 100%;
            padding: var(--space-4) var(--space-6);
            background: linear-gradient(135deg, var(--success) 0%, var(--success-light) 100%);
            border: none;
            border-radius: 16px;
            color: white;
            font-size: 17px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(0, 196, 140, 0.4);
            margin-top: var(--space-5);
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out);
            min-height: 56px;
            -webkit-tap-highlight-color: transparent;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 28px rgba(0, 196, 140, 0.5);
        }

        .btn-submit:active {
            transform: translateY(1px);
            box-shadow: 0 4px 12px rgba(0, 196, 140, 0.35);
        }

        /* Loading State for Submit Button */
        .btn-submit.loading {
            pointer-events: none;
            opacity: 0.8;
            cursor: wait;
        }

        .btn-submit .btn-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        .btn-submit.loading .btn-spinner {
            display: inline-block;
        }

        .btn-submit.loading .btn-label {
            display: none;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .form-disclaimer {
            font-size: 12px;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 16px;
            line-height: 1.5;
        }
        .form-disclaimer a {
            color: var(--primary);
            text-decoration: underline;
        }

        /* Success Styles */
        .success-container {
            text-align: center;
        }

        .success-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounceIn 0.6s ease;
        }

        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .success-card {
            background: white;
            border-radius: 20px;
            padding: 24px;
            margin: 24px 0;
            box-shadow: 0 8px 32px var(--shadow-color);
            text-align: left;
        }

        .success-card h4 {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .success-step {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 12px 0;
            border-bottom: 1px solid #F0F4F8;
        }

        .success-step:last-child {
            border-bottom: none;
        }

        .step-number {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            flex-shrink: 0;
        }

        .success-step span:last-child {
            font-size: 15px;
            color: var(--text-primary);
        }

        .btn-secondary {
            width: 100%;
            padding: 16px 24px;
            background: white;
            border: 2px solid var(--primary);
            border-radius: var(--radius-xl);
            color: var(--primary);
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: background-color var(--duration-normal) var(--ease-smooth),
                        color var(--duration-normal) var(--ease-smooth);
            min-height: 44px;
            -webkit-tap-highlight-color: transparent;
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: white;
        }

        /* ==================== ONBOARDING ==================== */
        .onboarding-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 200;
            background: linear-gradient(160deg, var(--primary) 0%, var(--primary-dark) 100%);
            transition: opacity var(--duration-slow) var(--ease-out),
                        transform var(--duration-slow) var(--ease-out);
        }

        .onboarding-overlay.hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateY(-20px);
        }

        .onboarding-overlay.hidden * {
            pointer-events: none !important;
        }

        .onboarding-screen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            flex-direction: column;
            padding: 55px var(--space-5) 25px;
            opacity: 0;
            transform: translateX(100%);
            transition: opacity var(--duration-slow) var(--ease-out),
                        transform var(--duration-slow) var(--ease-out);
            pointer-events: none;
            overflow-y: auto;
            will-change: transform, opacity;
        }

        .onboarding-screen.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: all;
        }

        .onboarding-screen.exit-left {
            transform: translateX(-100%);
        }

        .onboarding-logo {
            text-align: center;
            margin-bottom: 12px;
        }

        .onboarding-logo .logo-icon {
            margin-bottom: 6px;
            display: block;
        }

        .onboarding-logo h1 {
            font-size: 34px;
            font-weight: 900;
            color: white;
            letter-spacing: -0.5px;
        }

        .onboarding-logo .tagline {
            font-size: 15px;
            color: rgba(255,255,255,0.85);
            margin-top: 4px;
            font-weight: 500;
        }

        .onboarding-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .trust-badge {
            text-align: center;
            padding: 14px 16px;
            background: white;
            border-radius: 16px;
            min-width: 90px;
            box-shadow: var(--shadow-md);
        }

        .trust-badge .value {
            font-size: 22px;
            font-weight: 800;
            color: var(--primary);
            display: block;
        }

        .trust-badge .label {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-secondary);
            margin-top: 2px;
            display: block;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .value-props {
            margin-bottom: 20px;
        }

        .value-prop {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 16px;
            background: white;
            border-radius: var(--radius-xl);
            margin-bottom: 10px;
            box-shadow: var(--shadow-sm);
        }

        .value-prop-icon {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .value-prop-text {
            color: var(--text-primary);
            font-size: 15px;
            font-weight: 600;
            line-height: 1.4;
        }

        .onboarding-cta {
            margin-top: auto;
            flex-shrink: 0;
        }

        .btn-onboarding {
            width: 100%;
            padding: var(--space-4) var(--space-6);
            background: white;
            border: none;
            border-radius: var(--radius-xl);
            color: var(--primary);
            font-size: 17px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out);
            min-height: 56px;
            -webkit-tap-highlight-color: transparent;
        }

        .btn-onboarding:hover {
            transform: translateY(-2px);
        }

        .btn-onboarding:active {
            transform: translateY(1px);
        }

        .btn-onboarding.accent {
            background: linear-gradient(135deg, var(--accent) 0%, #FF8855 100%);
            color: white;
            box-shadow: 0 8px 24px rgba(255, 107, 53, 0.35);
            position: relative;
            overflow: hidden;
        }

        .btn-onboarding.accent::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.25), transparent);
            animation: shimmer 2s infinite;
        }

        .skip-link {
            text-align: center;
            margin-top: 14px;
        }

        .skip-link a {
            color: rgba(255,255,255,0.75);
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            display: inline-block;
            padding: 12px 24px;
            border-radius: 8px;
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        color var(--duration-fast) var(--ease-smooth);
        }

        .skip-link a:hover,
        .skip-link a:active {
            color: white;
            background: rgba(255,255,255,0.1);
        }

        .onboarding-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 14px;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,255,255,0.35);
            transition: width var(--duration-normal) var(--ease-smooth),
                        border-radius var(--duration-normal) var(--ease-smooth),
                        background-color var(--duration-normal) var(--ease-smooth);
        }

        .dot.active {
            width: 24px;
            border-radius: 4px;
            background: white;
        }

        /* Screen 2 specific */
        .onboarding-question {
            text-align: center;
            margin-bottom: 20px;
        }

        .onboarding-question h2 {
            font-size: 26px;
            font-weight: 800;
            color: white;
            margin-bottom: 6px;
            line-height: 1.2;
        }

        .onboarding-question p {
            font-size: 15px;
            color: rgba(255,255,255,0.8);
            font-weight: 500;
        }

        .onboarding-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 16px;
        }

        .onboarding-option {
            padding: var(--space-4) var(--space-3);
            background: white;
            border-radius: 16px;
            text-align: center;
            cursor: pointer;
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out),
                        border-color var(--duration-fast) var(--ease-smooth),
                        background-color var(--duration-fast) var(--ease-smooth);
            border: 3px solid transparent;
            box-shadow: var(--shadow-sm);
            min-height: 80px;
            -webkit-tap-highlight-color: transparent;
        }

        .onboarding-option * {
            pointer-events: none;
        }

        .onboarding-option:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .onboarding-option:active {
            transform: scale(0.97);
        }

        .onboarding-option.selected {
            border-color: var(--accent);
            background: #FFF5F0;
        }

        .onboarding-option .icon {
            margin-bottom: 8px;
            display: flex;
            justify-content: center;
        }

        .onboarding-option .icon svg {
            color: var(--primary);
        }

        .onboarding-option .label {
            font-size: 13px;
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .onboarding-option.full-width {
            grid-column: span 2;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 16px;
        }

        .onboarding-option.full-width .icon {
            margin-bottom: 0;
        }

        /* Accident Mode Consent Card */
        .consent-card {
            background: linear-gradient(135deg, #FFF5F0 0%, #FFF9F7 100%);
            border: 2px solid #FFE4D6;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
        }

        .consent-icon-container {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #FF6B35 0%, #FF8855 100%);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px;
            color: white;
        }

        .consent-card h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0 0 8px 0;
        }

        .consent-description {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
            margin: 0 0 16px 0;
        }

        .consent-features {
            display: flex;
            flex-direction: column;
            gap: 8px;
            text-align: left;
            margin-bottom: 16px;
        }

        .consent-feature {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .consent-feature svg {
            color: var(--success);
            flex-shrink: 0;
        }

        .consent-toggle-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: white;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .consent-toggle-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .consent-legal-text {
            font-size: 11px;
            color: var(--text-muted);
            line-height: 1.5;
            margin-top: 16px;
            text-align: center;
        }

        /* Legal Agreement Screen (Scroll-to-Accept) */
        .legal-agreement-screen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(20, 25, 35, 0.97);
            display: flex;
            flex-direction: column;
            z-index: 100;
        }

        .legal-agreement-header {
            padding: 20px 20px 16px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
        }

        .legal-agreement-header h2 {
            color: #F8FAFC;
            font-size: 20px;
            font-weight: 700;
            margin: 0 0 4px 0;
        }

        .legal-agreement-header p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 13px;
            margin: 0;
        }

        .legal-agreement-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            color: rgba(255, 255, 255, 0.85);
            font-size: 13px;
            line-height: 1.7;
            -webkit-overflow-scrolling: touch;
        }

        .legal-agreement-content h3 {
            color: #F8FAFC;
            font-size: 16px;
            font-weight: 700;
            margin: 24px 0 12px 0;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
        }

        .legal-agreement-content h3:first-child {
            margin-top: 0;
        }

        .legal-agreement-content h4 {
            color: rgba(255, 255, 255, 0.95);
            font-size: 14px;
            font-weight: 600;
            margin: 20px 0 8px 0;
        }

        .legal-agreement-content p {
            color: rgba(255, 255, 255, 0.75);
            margin: 0 0 12px 0;
        }

        .legal-agreement-content ul {
            margin: 0 0 12px 0;
            padding-left: 20px;
        }

        .legal-agreement-content li {
            color: rgba(255, 255, 255, 0.75);
            margin-bottom: 6px;
        }

        .legal-agreement-content strong {
            color: rgba(255, 255, 255, 0.95);
        }

        .legal-agreement-scroll-end {
            padding: 20px;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            margin-top: 20px;
        }

        .legal-agreement-scroll-end p {
            color: rgba(255, 255, 255, 0.5);
            font-size: 12px;
            font-style: italic;
        }

        .legal-agreement-footer {
            padding: 16px 20px;
            background: rgba(30, 35, 45, 0.95);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
        }

        .scroll-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 12px;
            margin-bottom: 12px;
            transition: opacity 0.3s ease;
        }

        .scroll-indicator.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .scroll-indicator svg {
            animation: bounceDown 1.5s ease-in-out infinite;
        }

        @keyframes bounceDown {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(4px); }
        }

        .legal-agreement-footer .btn-agree {
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }

        .legal-agreement-footer .btn-agree:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.3);
            cursor: not-allowed;
        }

        .legal-agreement-footer .btn-agree:not(:disabled) {
            background: linear-gradient(145deg, #00C48C 0%, #00A876 100%);
            color: white;
            box-shadow: 0 4px 16px rgba(0, 196, 140, 0.3);
        }

        /* Consent Options in Legal Agreement */
        .consent-options {
            margin: 16px 0;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .consent-option {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
        }

        .consent-option:not(:last-child) {
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .consent-option input[type="checkbox"] {
            flex-shrink: 0;
            width: 20px;
            height: 20px;
            margin-top: 2px;
            accent-color: #00C48C;
            cursor: pointer;
        }

        .consent-option-content {
            flex: 1;
        }

        .consent-option-label {
            color: rgba(255, 255, 255, 0.95);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
            cursor: pointer;
        }

        .consent-option-desc {
            color: rgba(255, 255, 255, 0.6);
            font-size: 12px;
            line-height: 1.5;
            margin: 0;
        }

        .consent-required {
            color: #F87171;
            font-size: 11px;
            font-weight: 500;
            margin-left: 4px;
        }

        .consent-optional {
            color: #60A5FA;
            font-size: 11px;
            font-weight: 500;
            margin-left: 4px;
        }

        .legal-agreement-footer .btn-agree:not(:disabled):hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(0, 196, 140, 0.4);
        }

        .legal-ad-notice {
            text-align: center;
            margin-top: 12px;
            font-size: 10px;
            color: rgba(255, 255, 255, 0.4);
        }

        /* Modal Styles - Glassmorphism */
        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 23, 42, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow:
                0 8px 32px rgba(0, 0, 0, 0.12),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
            padding: 32px 24px;
            max-width: 340px;
            width: 100%;
            text-align: center;
            position: relative;
            animation: modalIn 0.3s ease;
        }

        /* Dark mode glass variant */
        .device-screen.dark-mode .modal-content {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow:
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        .device-screen.dark-mode .modal-content h2 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .modal-content p {
            color: var(--dark-text-secondary);
        }

        @keyframes modalIn {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .modal-close {
            position: absolute;
            top: 12px;
            right: 16px;
            background: none;
            border: none;
            font-size: 28px;
            color: var(--text-muted);
            cursor: pointer;
            padding: 4px;
            line-height: 1;
        }

        .modal-icon {
            width: 72px;
            height: 72px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }

        .modal-content h2 {
            font-size: 22px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .modal-content > p {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .modal-hours {
            background: var(--bg-secondary);
            padding: 16px;
            border-radius: 12px;
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .modal-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border-light);
            border-radius: 12px;
            font-size: 15px;
            margin-bottom: 16px;
            outline: none;
            transition: border-color 0.2s;
        }

        .modal-input:focus {
            border-color: var(--primary);
        }

        .modal-btn {
            width: 100%;
            padding: var(--space-3);
            border-radius: 12px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out);
            margin-bottom: var(--space-2);
            min-height: 48px;
            -webkit-tap-highlight-color: transparent;
        }

        .modal-btn.primary {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            color: white;
            border: none;
        }

        .modal-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 53, 0.35);
        }

        .modal-btn.primary:active {
            transform: translateY(1px);
        }

        .modal-btn.secondary {
            background: white;
            color: var(--text-secondary);
            border: 2px solid var(--border-light);
        }

        .modal-btn.secondary:active {
            background: var(--bg-secondary);
        }

        /* Evidence Reminder Modal Styles */
        .evidence-reminder-modal .reminder-modal-content {
            max-width: 380px;
            text-align: left;
        }

        .reminder-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .reminder-modal-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }

        .reminder-header h2 {
            font-size: 20px;
            margin-bottom: 8px;
        }

        .reminder-intro {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .reminder-body {
            margin-bottom: 24px;
        }

        .reminder-message {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 16px;
        }

        .reminder-evidence-box {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 16px;
        }

        .reminder-evidence-box h4 {
            font-size: 12px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
        }

        .reminder-summary-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 6px 0;
            font-size: 14px;
            color: var(--text-primary);
        }

        .reminder-benefits {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .benefit-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .benefit-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--success);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .reminder-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .reminder-actions .modal-btn {
            margin-bottom: 0;
        }

        .reminder-dismiss-link {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 13px;
            cursor: pointer;
            padding: 8px;
            text-decoration: underline;
        }

        .reminder-dismiss-link:hover {
            color: var(--text-secondary);
        }

        .reminder-disclaimer {
            text-align: center;
            color: var(--text-muted);
            font-size: 11px;
            margin-top: 16px;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
        }

        /* Sign-in Divider */
        .signin-divider {
            display: flex;
            align-items: center;
            margin: 20px 0;
            color: var(--text-muted);
            font-size: 13px;
        }

        .signin-divider::before,
        .signin-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border-color);
        }

        .signin-divider span {
            padding: 0 12px;
        }

        /* Apple Sign-in Button */
        .apple-signin-btn {
            width: 100%;
            padding: 14px;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: #000;
            color: #fff;
            border: none;
            min-height: 48px;
            transition: transform 0.2s ease, opacity 0.2s ease;
        }

        .apple-signin-btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .apple-signin-btn:active {
            transform: translateY(1px);
        }

        /* Dark mode variant for Apple button */
        .device-screen.dark-mode .apple-signin-btn {
            background: #fff;
            color: #000;
        }

        .device-screen.dark-mode .signin-divider {
            color: var(--dark-text-muted);
        }

        .device-screen.dark-mode .signin-divider::before,
        .device-screen.dark-mode .signin-divider::after {
            background: var(--dark-border-color);
        }

        .modal-help {
            font-size: 13px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        .modal-help a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }

        /* Account Screen Styles */
        .account-screen {
            background: linear-gradient(180deg, var(--primary) 0%, var(--primary-dark) 35%, var(--page-bg) 35%);
        }

        /* Accident Mode Tab Screen */
        .accident-screen {
            background: linear-gradient(180deg, #DC2626 0%, #B91C1C 35%, var(--page-bg) 35%);
        }

        .accident-screen-header {
            padding: 16px 20px 40px;
            text-align: center;
        }

        .accident-screen-header .header-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 16px;
        }

        .accident-screen-header .header-logo span {
            font-size: 20px;
            font-weight: 800;
            color: white;
        }

        .accident-screen-header h1 {
            color: white;
            font-size: 26px;
            font-weight: 800;
            margin-bottom: 4px;
        }

        .accident-screen-header p {
            color: rgba(255,255,255,0.85);
            font-size: 14px;
        }

        .accident-status-card {
            margin: -20px 16px 20px;
            background: white;
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .accident-status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .accident-status-badge.enabled {
            background: rgba(0, 196, 140, 0.15);
            color: #059669;
        }

        .accident-status-badge.disabled {
            background: rgba(156, 163, 175, 0.15);
            color: #6B7280;
        }

        .accident-status-badge svg {
            width: 16px;
            height: 16px;
        }

        .accident-toggle-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-top: 1px solid var(--border-color);
        }

        .accident-toggle-label h4 {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0 0 4px 0;
        }

        .accident-toggle-label p {
            font-size: 13px;
            color: var(--text-muted);
            margin: 0;
        }

        .accident-info-section {
            padding: 0 16px 20px;
        }

        .accident-info-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: var(--shadow-sm);
        }

        .accident-info-card h3 {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0 0 12px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .accident-info-card h3 svg {
            color: #DC2626;
        }

        .accident-info-card p {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin: 0 0 12px 0;
        }

        .accident-info-card ul {
            margin: 0;
            padding-left: 20px;
        }

        .accident-info-card li {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .accident-enter-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(145deg, #DC2626 0%, #B91C1C 100%);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);
            transition: all 0.2s ease;
        }

        .accident-enter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(220, 38, 38, 0.4);
        }

        .accident-enter-btn:disabled {
            background: #9CA3AF;
            box-shadow: none;
            cursor: not-allowed;
        }

        .accident-enter-btn:disabled:hover {
            transform: none;
        }

        .accident-enter-btn svg {
            width: 22px;
            height: 22px;
        }

        .accident-tab-icon {
            position: relative;
        }

        .accident-tab-dot {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 8px;
            height: 8px;
            background: #DC2626;
            border-radius: 50%;
            border: 2px solid white;
        }

        .tab.accident-tab.active {
            color: #DC2626;
            background: rgba(220, 38, 38, 0.08);
        }

        .tab.accident-tab:hover {
            color: #B91C1C;
            background: rgba(220, 38, 38, 0.05);
        }

        .account-header {
            padding: 16px 20px 40px;
        }

        .account-header h1 {
            color: white;
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 4px;
        }

        .account-header p {
            color: rgba(255,255,255,0.85);
            font-size: 15px;
        }

        .signin-prompt {
            padding: 40px 20px;
            text-align: center;
        }

        .signin-prompt-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }

        .signin-prompt-icon svg {
            width: 40px;
            height: 40px;
            color: white;
        }

        .signin-prompt h2 {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .signin-prompt p {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 24px;
            line-height: 1.5;
        }

        .signin-prompt .btn-signin {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
        }

        .cases-list {
            padding: 20px;
        }

        .cases-list.hidden {
            display: none;
        }

        .user-profile-card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin: -20px 20px 20px;
            box-shadow: var(--shadow-md);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            font-weight: 700;
        }

        .user-info h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .user-info p {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .user-profile-card .signout-link {
            margin-left: auto;
            color: var(--text-muted);
            font-size: 13px;
            cursor: pointer;
            text-decoration: underline;
        }

        .cases-section-header {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            padding: 0 4px;
        }

        .case-card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .case-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .case-type {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .case-date {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .case-status-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .case-status-badge.submitted {
            background: var(--status-submitted-bg);
            color: var(--status-submitted-text);
        }

        .case-status-badge.under-review {
            background: var(--status-review-bg);
            color: var(--status-review-text);
        }

        .case-status-badge.qualified {
            background: var(--status-qualified-bg);
            color: var(--status-qualified-text);
        }

        .case-status-badge.matched {
            background: var(--status-matched-bg);
            color: var(--status-matched-text);
        }

        .case-status-badge.retained {
            background: var(--status-retained-bg);
            color: var(--status-retained-text);
        }

        .case-progress {
            display: flex;
            gap: 4px;
            margin-bottom: 12px;
        }

        .case-progress-step {
            flex: 1;
            height: 4px;
            background: var(--border-color);
            border-radius: 2px;
        }

        .case-progress-step.complete {
            background: var(--success);
        }

        .case-progress-step.current {
            background: var(--primary);
        }

        .case-status-text {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .attorney-card {
            background: linear-gradient(135deg, #F0FDF4 0%, #DCFCE7 100%);
            border-radius: 12px;
            padding: 12px;
            margin-top: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .attorney-avatar {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--success) 0%, #00E5A0 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            font-weight: 700;
        }

        .attorney-info h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .attorney-info p {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .attorney-contact {
            margin-left: auto;
            display: flex;
            gap: 8px;
        }

        .attorney-contact-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background: white;
            color: var(--primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-sm);
        }

        .no-cases-message {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }

        .no-cases-message svg {
            width: 48px;
            height: 48px;
            color: var(--text-muted);
            margin-bottom: 12px;
        }

        .no-cases-message h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .no-cases-message p {
            font-size: 14px;
            margin-bottom: 20px;
        }

        .no-cases-message .btn-start-claim {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        /* ==================== NEW STYLES: OPTIMIZATION UPDATES ==================== */

        /* Progress indicator with text */
        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 4px;
            margin-top: 8px;
        }
        .progress-text {
            font-size: 12px;
            font-weight: 600;
            color: var(--primary);
        }
        .progress-time {
            font-size: 11px;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* Save Progress Link */
        .save-progress-link {
            font-size: 12px;
            color: var(--primary);
            text-decoration: underline;
            cursor: pointer;
            margin-top: 16px;
            display: inline-block;
        }

        /* Security Badges */
        .security-badges {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin: 16px 0;
            flex-wrap: wrap;
        }
        .security-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: var(--text-secondary);
            font-weight: 500;
        }
        .security-badge svg {
            width: 14px;
            height: 14px;
            color: var(--success);
        }

        /* Form Validation Styles */
        .form-input.valid {
            border-color: var(--success);
        }
        .form-input.invalid {
            border-color: var(--error);
        }
        .form-input-wrapper {
            position: relative;
        }
        .validation-icon {
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            display: none;
        }
        .form-input.valid + .validation-icon {
            display: block;
            color: var(--success);
        }
        .form-hint {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 4px;
            padding-left: 4px;
        }

        /* Value Props near form */
        .form-value-props {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        .form-value-prop {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 12px;
            font-weight: 600;
            color: var(--success);
        }
        .form-value-prop svg {
            width: 14px;
            height: 14px;
        }

        /* CTA Enhancements */
        .cta-subtext {
            font-size: 11px;
            color: var(--text-muted);
            text-align: center;
            margin-top: 8px;
        }

        /* How It Works Section */
        .how-it-works {
            padding: 20px;
            background: white;
            margin: 16px;
            border-radius: 20px;
            box-shadow: var(--shadow-sm);
        }
        .how-it-works-header {
            text-align: center;
            margin-bottom: 20px;
        }
        .how-it-works-header h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }
        .how-it-works-header p {
            font-size: 13px;
            color: var(--text-secondary);
        }
        .how-it-works-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
        }
        .how-it-works-steps::before {
            content: '';
            position: absolute;
            top: 28px;
            left: 20%;
            right: 20%;
            height: 2px;
            background: var(--border-color);
            z-index: 0;
        }
        .how-step {
            flex: 1;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        .how-step-number {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            box-shadow: 0 4px 12px rgba(0, 102, 255, 0.25);
        }
        .how-step-number svg {
            width: 24px;
            height: 24px;
            color: white;
        }
        .how-step h4 {
            font-size: 13px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }
        .how-step p {
            font-size: 11px;
            color: var(--text-secondary);
            line-height: 1.3;
        }

        /* FAQ Section */
        .faq-section {
            padding: 0 16px 20px;
        }
        .faq-section h3 {
            font-size: 17px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
            padding: 0 4px;
        }
        .faq-item {
            background: white;
            border-radius: var(--radius-xl);
            margin-bottom: 10px;
            box-shadow: var(--shadow-sm);
            overflow: hidden;
        }
        .faq-question {
            padding: var(--space-3) var(--space-4);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: background-color var(--duration-fast) var(--ease-smooth);
            min-height: 52px;
            -webkit-tap-highlight-color: transparent;
        }
        .faq-question:hover {
            background: var(--page-bg);
        }
        .faq-question:active {
            background: var(--bg-secondary);
        }
        .faq-question span {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            flex: 1;
            line-height: 1.4;
        }
        .faq-toggle {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            transition: transform var(--duration-normal) var(--ease-out);
            flex-shrink: 0;
        }
        .faq-item.open .faq-toggle {
            transform: rotate(180deg);
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--duration-normal) var(--ease-out),
                        padding var(--duration-normal) var(--ease-out);
        }
        .faq-item.open .faq-answer {
            max-height: 200px;
            padding: 0 var(--space-4) var(--space-3);
        }
        .faq-answer p {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Document Upload */
        .document-upload-area {
            border: 2px dashed var(--border-color);
            border-radius: var(--radius-xl);
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: border-color var(--duration-normal) var(--ease-smooth),
                        background-color var(--duration-normal) var(--ease-smooth);
            background: #FAFBFC;
            margin-top: 16px;
            min-height: 80px;
        }
        .document-upload-area:hover {
            border-color: var(--primary);
            background: #F0F7FF;
        }
        .document-upload-area.has-files {
            border-style: solid;
            border-color: var(--success);
            background: #F0FDF4;
        }
        .document-upload-area svg {
            width: 32px;
            height: 32px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }
        .document-upload-area.has-files svg {
            color: var(--success);
        }
        .document-upload-area h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }
        .document-upload-area p {
            font-size: 12px;
            color: var(--text-muted);
        }
        .uploaded-files {
            margin-top: 12px;
            text-align: left;
        }
        .uploaded-file {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 6px;
            box-shadow: var(--shadow-sm);
        }
        .uploaded-file svg {
            width: 18px;
            height: 18px;
            color: var(--success);
            margin: 0;
        }
        .uploaded-file span {
            flex: 1;
            font-size: 13px;
            color: var(--text-primary);
        }
        .uploaded-file .remove-file {
            color: var(--text-muted);
            cursor: pointer;
        }
        .upload-hint {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        /* Learn Section Improvements */
        .article-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            border-top: 1px solid var(--border-color);
            margin-top: 24px;
        }
        .share-buttons {
            display: flex;
            gap: 8px;
        }
        .share-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 1px solid var(--border-color);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        border-color var(--duration-fast) var(--ease-smooth),
                        color var(--duration-fast) var(--ease-smooth);
            min-width: 44px;
            min-height: 44px;
            -webkit-tap-highlight-color: transparent;
        }
        .share-btn:hover {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }
        .share-btn svg {
            width: 16px;
            height: 16px;
        }
        .helpful-feedback {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .helpful-feedback span {
            font-size: 12px;
            color: var(--text-secondary);
        }
        .helpful-btn {
            padding: 6px 12px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            background: white;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        border-color var(--duration-fast) var(--ease-smooth),
                        color var(--duration-fast) var(--ease-smooth);
            min-height: 44px;
            padding: 10px 16px;
            -webkit-tap-highlight-color: transparent;
        }
        .helpful-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .helpful-btn.selected {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }
        .related-articles {
            padding: 20px;
            background: var(--page-bg);
            border-radius: var(--radius-xl);
            margin: 20px;
        }
        .related-articles h3 {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
        }
        .related-article-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: white;
            border-radius: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: transform var(--duration-fast) var(--ease-smooth),
                        box-shadow var(--duration-fast) var(--ease-smooth);
            min-height: 44px;
            -webkit-tap-highlight-color: transparent;
        }
        .related-article-card:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow-sm);
        }
        .related-article-card .icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .related-article-card h4 {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
        }
        .related-article-card p {
            font-size: 11px;
            color: var(--text-muted);
        }

        /* Professional Success Animation */
        @keyframes successPulse {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes checkDraw {
            0% { stroke-dashoffset: 50; }
            100% { stroke-dashoffset: 0; }
        }
        @keyframes successGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 196, 140, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 196, 140, 0.6); }
        }
        .success-animation {
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
            position: relative;
        }
        .success-circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--success) 0%, #00E6A0 100%);
            animation: successPulse 0.5s ease-out forwards, successGlow 2s ease-in-out 0.5s infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 40px rgba(0, 196, 140, 0.4);
        }
        .success-check {
            width: 40px;
            height: 40px;
            stroke: white;
            stroke-width: 4;
            stroke-linecap: round;
            stroke-linejoin: round;
            fill: none;
            stroke-dasharray: 50;
            stroke-dashoffset: 50;
            animation: checkDraw 0.4s ease-out 0.3s forwards;
        }

        /* Post-Submission Enhancements */
        .post-submit-options {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin-top: 16px;
        }
        .post-submit-options h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
        }
        .notification-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--page-bg);
            border-radius: 10px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        border-color var(--duration-fast) var(--ease-smooth);
            min-height: 44px;
            -webkit-tap-highlight-color: transparent;
        }
        .notification-option:hover {
            background: #F0F7FF;
        }
        .notification-option.selected {
            background: #F0FDF4;
            border: 1px solid var(--success);
        }
        .notification-option input[type="checkbox"] {
            display: none;
        }
        .notification-checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        border-color var(--duration-fast) var(--ease-smooth);
        }
        .notification-option.selected .notification-checkbox {
            background: var(--success);
            border-color: var(--success);
        }
        .notification-checkbox svg {
            width: 14px;
            height: 14px;
            color: white;
            opacity: 0;
        }
        .notification-option.selected .notification-checkbox svg {
            opacity: 1;
        }
        .notification-label {
            flex: 1;
        }
        .notification-label h5 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }
        .notification-label p {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Save Progress Modal */
        .save-method-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }
        .save-tab {
            flex: 1;
            padding: 10px 16px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: white;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        border-color var(--duration-fast) var(--ease-smooth),
                        color var(--duration-fast) var(--ease-smooth);
            min-height: 44px;
            -webkit-tap-highlight-color: transparent;
        }
        .save-tab.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .save-method.hidden {
            display: none;
        }
        .save-progress-modal {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 16px;
            border-radius: 42px;
        }
        .save-progress-modal.active { display: flex; }
        .save-progress-content {
            background: white;
            border-radius: 16px;
            padding: 24px 20px;
            width: 100%;
            text-align: center;
        }
        .save-progress-content h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }
        .save-progress-content > p {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }
        .save-email-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 15px;
            margin-bottom: 12px;
        }
        .save-email-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Account Sections Row (stacked on mobile, side-by-side on tablet) */
        .account-sections-row {
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        /* Account Document Upload Section */
        .account-documents {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin: 16px 20px;
            box-shadow: var(--shadow-sm);
        }
        .account-documents h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .account-documents h4 svg {
            width: 18px;
            height: 18px;
            color: var(--primary);
        }

        /* Notification Preferences */
        .notification-prefs {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin: 16px 20px;
            box-shadow: var(--shadow-sm);
        }
        .notification-prefs h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .notification-prefs h4 svg {
            width: 18px;
            height: 18px;
            color: var(--primary);
        }
        .notif-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }
        .notif-toggle:last-child {
            border-bottom: none;
        }
        .notif-toggle-label h5 {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }
        .notif-toggle-label p {
            font-size: 11px;
            color: var(--text-muted);
        }

        /* Accident Mode Settings */
        .accident-mode-settings {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin: 16px 20px;
            box-shadow: var(--shadow-sm);
        }

        .accident-mode-settings h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .accident-mode-settings h4 svg {
            width: 18px;
            height: 18px;
            color: var(--accent);
        }

        .accident-mode-settings .settings-description {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 12px;
        }

        .accident-mode-settings .notif-toggle {
            border-bottom: none;
            padding: 12px 0 8px;
        }

        .accident-mode-note {
            font-size: 11px;
            color: var(--text-muted);
            line-height: 1.5;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid var(--border-light);
        }

        /* Dark mode */
        .device-screen.dark-mode .accident-mode-settings {
            background: var(--dark-card-bg);
        }

        .toggle-switch {
            width: 48px;
            height: 28px;
            background: var(--border-color);
            border-radius: var(--radius-xl);
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }
        .toggle-switch.active {
            background: var(--success);
        }
        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: transform 0.3s;
            box-shadow: var(--shadow-sm);
        }
        .toggle-switch.active::after {
            transform: translateX(20px);
        }

        /* Mobile Optimizations */
        @media (max-width: 400px) {
            .hero h1 { font-size: 26px; }
            .question-text { font-size: 20px; }
            .btn-primary, .btn-submit { font-size: 15px; padding: 14px 20px; }
            .quiz-option { padding: 12px 14px; }
            .quiz-option span { font-size: 14px; }
            .how-it-works-steps::before { display: none; }
            .how-step { padding: 0 4px; }
            .how-step-number { width: 48px; height: 48px; }
            .how-step-number svg { width: 20px; height: 20px; }

            /* Keep CTA above fold on small screens */
            .hero { padding: 12px 16px 24px; }
            .hero p { font-size: 14px; margin-bottom: 12px; }
            .stats-row { margin-bottom: 0; gap: 8px; }
            .stat { padding: 8px 6px; }
            .stat-value { font-size: 18px; }
            .stat-label { font-size: 10px; }
            .glass-card { margin: -12px 12px 12px; padding: 12px; }
            .cta-subtext { font-size: 11px; margin-top: 8px; }
        }

        /* Extra small screens - even more compact */
        @media (max-width: 350px) {
            .hero { padding: 8px 12px 20px; }
            .hero h1 { font-size: 22px; line-height: 1.2; }
            .hero p { font-size: 13px; }
            .hero-logo { margin-bottom: 8px; }
            .hero-logo svg { width: 32px; height: 32px; }
            .hero-logo-text { font-size: 18px; }
            .stats-row { gap: 4px; }
            .stat-value { font-size: 16px; }
            .glass-card { margin: -8px 10px 10px; padding: 10px; }
            .btn-primary { padding: 12px 16px; font-size: 14px; }
        }

        /* Enhanced Touch Targets */
        .quiz-option, .faq-question, .notification-option {
            min-height: 52px;
        }

        /* Smooth Transitions - Specific properties for performance */
        .screen {
            transition: opacity var(--duration-normal) var(--ease-smooth);
        }
        .quiz-step {
            transition: opacity var(--duration-normal) var(--ease-out),
                        transform var(--duration-normal) var(--ease-out);
        }

        /* Focus States for Accessibility */
        .btn-primary:focus, .btn-submit:focus, .btn-secondary:focus,
        .form-input:focus, .quiz-option:focus {
            outline: 3px solid rgba(0, 102, 255, 0.3);
            outline-offset: 2px;
        }

        /* ==================== ACCESSIBILITY ENHANCEMENTS ==================== */

        /* Improved Focus States for All Interactive Elements */
        *:focus-visible {
            outline: 3px solid rgba(0, 102, 255, 0.6);
            outline-offset: 2px;
        }

        /* Remove default outline for mouse users */
        *:focus:not(:focus-visible) {
            outline: none;
        }

        /* Ensure all interactive elements have visible focus */
        .quiz-option:focus-visible,
        .practice-card:focus-visible,
        .quick-action:focus-visible,
        .referral-card:focus-visible,
        .onboarding-option:focus-visible,
        .faq-item:focus-visible,
        .category-chip:focus-visible,
        .section-link:focus-visible,
        .trust-seal:focus-visible,
        .resource-card:focus-visible,
        .contact-card:focus-visible {
            outline: 3px solid var(--primary);
            outline-offset: 2px;
            box-shadow: 0 0 0 6px rgba(0, 102, 255, 0.15);
        }

        /* Improved color contrast - WCAG AA compliant */
        .stat-disclaimer { color: rgba(255,255,255,0.9); font-size: 9px; }
        .legal-footer p { color: var(--text-secondary); }

        /* Minimum touch targets enforcement (44x44px) */
        .legal-footer-links a {
            padding: var(--space-2) var(--space-3);
            min-height: 44px;
            display: inline-flex;
            align-items: center;
            -webkit-tap-highlight-color: transparent;
        }
        .section-link {
            cursor: pointer;
            padding: var(--space-2);
            min-height: 44px;
            display: inline-flex;
            align-items: center;
        }

        /* Status icons styling */
        .status-icons { display: flex; align-items: center; gap: 4px; color: inherit; }
        .status-icons svg { display: block; }

        /* Active state for attorney contact button */
        .attorney-contact-btn {
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        color var(--duration-fast) var(--ease-smooth),
                        transform var(--duration-fast) var(--ease-out);
        }
        .attorney-contact-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.05);
        }
        .attorney-contact-btn:active {
            transform: scale(0.95);
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .quiz-option,
            .practice-card,
            .resource-card,
            .contact-card {
                border-width: 3px;
            }

            .btn-primary,
            .btn-submit,
            .btn-onboarding {
                font-weight: 800;
            }
        }

        /* ==================== WOW FACTOR: SOCIAL PROOF FEED ==================== */

        .social-proof-feed {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin: 16px;
            box-shadow: var(--shadow-sm);
            overflow: hidden;
        }

        .social-proof-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: livePulse 2s ease-in-out infinite;
        }

        @keyframes livePulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        .social-proof-header span {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .proof-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3);
            background: var(--page-bg);
            border-radius: 12px;
            margin-bottom: var(--space-2);
            opacity: 0;
            transform: translateX(-20px);
            transition: opacity var(--duration-slow) var(--ease-out),
                        transform var(--duration-slow) var(--ease-out);
            will-change: transform, opacity;
        }

        .proof-item.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .proof-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 14px;
            flex-shrink: 0;
        }

        .proof-content { flex: 1; }
        .proof-content strong { font-size: 13px; color: var(--text-primary); }
        .proof-content p { font-size: 11px; color: var(--text-muted); margin-top: 2px; }
        .proof-time { font-size: 10px; color: var(--text-muted); white-space: nowrap; }

        /* ==================== WOW FACTOR: TRUST SEALS ==================== */

        .trust-seals {
            display: flex;
            justify-content: center;
            gap: 12px;
            padding: 16px;
            flex-wrap: wrap;
        }

        .trust-seal {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            padding: var(--space-3) var(--space-4);
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            cursor: pointer;
            transition: transform var(--duration-fast) var(--ease-out),
                        box-shadow var(--duration-fast) var(--ease-out);
            position: relative;
            overflow: hidden;
            flex: 1;
            min-width: 90px;
            max-width: 110px;
            min-height: 88px;
            -webkit-tap-highlight-color: transparent;
        }

        .trust-seal:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
        .trust-seal:active { transform: scale(0.97); }
        .trust-seal::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--success), #00E6A0);
        }

        .seal-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .seal-icon.verified { background: linear-gradient(135deg, var(--success) 0%, #00E6A0 100%); }
        .seal-icon.secure { background: linear-gradient(135deg, var(--primary) 0%, #00D4FF 100%); }
        .seal-icon.licensed { background: linear-gradient(135deg, #8B5CF6 0%, #A78BFA 100%); }
        .seal-icon svg { width: 20px; height: 20px; color: white; }

        .seal-check {
            position: absolute;
            bottom: -2px;
            right: -2px;
            width: 16px;
            height: 16px;
            background: var(--success);
            border-radius: 50%;
            border: 2px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .seal-check svg { width: 8px; height: 8px; color: white; }

        .trust-seal h5 { font-size: 10px; font-weight: 700; color: var(--text-primary); text-align: center; }
        .trust-seal p { font-size: 9px; color: var(--text-muted); text-align: center; }

        /* ==================== WOW FACTOR: CASE STRENGTH METER ==================== */

        .case-strength {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin: 16px;
            box-shadow: var(--shadow-sm);
        }

        .strength-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .strength-header h4 {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .strength-score {
            font-size: 20px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--success) 0%, #00E6A0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .strength-meter {
            height: 10px;
            background: var(--border-color);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .strength-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.8s var(--ease-smooth), background var(--duration-slow) var(--ease-smooth);
            position: relative;
            overflow: hidden;
        }

        .strength-fill::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: strengthShine 2s ease-in-out infinite;
        }

        @keyframes strengthShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .strength-fill.good { background: #3B82F6; width: 60%; }
        .strength-fill.strong { background: #10B981; width: 80%; }

        .strength-factors {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px;
        }

        .strength-factor {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 10px;
            background: var(--page-bg);
            border-radius: var(--radius-md);
            transition: background-color var(--duration-normal) var(--ease-smooth);
        }

        .strength-factor.complete { background: var(--success-bg-light); }

        .factor-check {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: background-color var(--duration-normal) var(--ease-smooth),
                        border-color var(--duration-normal) var(--ease-smooth);
        }

        .strength-factor.complete .factor-check {
            background: var(--success);
            border-color: var(--success);
        }

        .factor-check svg { width: 10px; height: 10px; color: white; opacity: 0; }
        .strength-factor.complete .factor-check svg { opacity: 1; }
        .strength-factor span { font-size: 11px; font-weight: 500; color: var(--text-secondary); }
        .strength-factor.complete span { color: var(--text-primary); font-weight: 600; }

        /* ==================== WOW FACTOR: CONFETTI ==================== */

        #confetti-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        .achievement-popup {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            border-radius: 24px;
            padding: var(--space-7) var(--space-6);
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            z-index: 10000;
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55),
                        opacity 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            width: 85%;
            max-width: 300px;
            will-change: transform, opacity;
        }

        .achievement-popup.show {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .achievement-badge {
            width: 70px;
            height: 70px;
            margin: 0 auto 14px;
            background: linear-gradient(135deg, var(--brand-gold) 0%, #FFA500 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 24px rgba(255, 215, 0, 0.4);
        }

        .achievement-badge svg { width: 36px; height: 36px; color: white; }

        .achievement-popup h3 {
            font-size: 18px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 6px;
        }

        .achievement-popup p {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .achievement-dismiss {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border: none;
            padding: 12px 28px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }

        /* ==================== WOW FACTOR: IN-APP TOAST ==================== */

        .toast-container {
            position: absolute;
            bottom: 100px;
            left: 16px;
            right: 16px;
            z-index: 9999;
            pointer-events: none;
        }

        .toast {
            background: var(--text-primary);
            color: white;
            padding: var(--space-3) var(--space-4);
            border-radius: 12px;
            font-size: 13px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: var(--space-2);
            box-shadow: 0 8px 24px rgba(0,0,0,0.2);
            transform: translateY(100px);
            opacity: 0;
            transition: transform var(--duration-normal) var(--ease-out),
                        opacity var(--duration-normal) var(--ease-out);
            pointer-events: auto;
            will-change: transform, opacity;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast svg { width: 20px; height: 20px; flex-shrink: 0; }
        .toast.success svg { color: var(--success); }
        .toast.error svg { color: var(--error); }

        /* ==================== DEVICE TOGGLE ==================== */
        .device-toggle {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .device-toggle-container {
            display: flex;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 4px;
            gap: 4px;
        }

        .device-toggle-btn {
            padding: var(--space-2) var(--space-6);
            border: none;
            border-radius: 21px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--duration-fast) var(--ease-smooth),
                        color var(--duration-fast) var(--ease-smooth),
                        box-shadow var(--duration-fast) var(--ease-smooth);
            background: transparent;
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            min-height: 44px;
            -webkit-tap-highlight-color: transparent;
        }

        .device-toggle-btn:hover {
            color: white;
        }

        .device-toggle-btn:active {
            transform: scale(0.97);
        }

        .device-toggle-btn.active {
            background: white;
            color: var(--primary);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .device-toggle-btn svg {
            width: 18px;
            height: 18px;
        }

        /* ==================== DARK MODE THEME ==================== */
        .device-screen.dark-mode {
            --page-bg: var(--dark-bg);
            --card-bg: var(--dark-card-bg);
            --text-primary: var(--dark-text-primary);
            --text-secondary: var(--dark-text-secondary);
            --text-muted: var(--dark-text-muted);
            --border-color: var(--dark-border-color);
            --border-light: var(--dark-border-light);
            --bg-secondary: var(--dark-bg-secondary);
        }

        .device-screen.dark-mode .screen {
            background: var(--dark-bg);
        }

        .device-screen.dark-mode .card,
        .device-screen.dark-mode .quiz-option,
        .device-screen.dark-mode .article-card,
        .device-screen.dark-mode .case-card,
        .device-screen.dark-mode .success-card,
        .device-screen.dark-mode .post-submit-options {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .quiz-option:hover {
            background: var(--dark-card-bg-elevated);
        }

        .device-screen.dark-mode .question-text,
        .device-screen.dark-mode .detail-title,
        .device-screen.dark-mode .card h4,
        .device-screen.dark-mode .success-card h4,
        .device-screen.dark-mode h2,
        .device-screen.dark-mode h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .question-subtext,
        .device-screen.dark-mode .option-label,
        .device-screen.dark-mode .card p,
        .device-screen.dark-mode .article-content p {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .tab-bar {
            background: rgba(30, 41, 59, 0.95);
            border-top-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .tab {
            color: var(--dark-text-muted);
        }

        .device-screen.dark-mode .tab:hover {
            color: var(--dark-text-secondary);
            background: rgba(255, 255, 255, 0.05);
        }

        .device-screen.dark-mode .tab.active {
            color: var(--primary-light);
            background: rgba(0, 102, 255, 0.15);
        }

        .device-screen.dark-mode .form-group input,
        .device-screen.dark-mode .form-group textarea,
        .device-screen.dark-mode .modal-input {
            background: var(--dark-card-bg-elevated);
            border-color: var(--dark-border-color);
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .form-group input::placeholder,
        .device-screen.dark-mode .form-group textarea::placeholder,
        .device-screen.dark-mode .modal-input::placeholder {
            color: var(--dark-text-muted);
        }

        .device-screen.dark-mode .progress-track {
            background: var(--dark-border-color);
        }

        .device-screen.dark-mode .back-btn {
            color: var(--primary-light);
        }

        .device-screen.dark-mode .article-content h2 {
            border-top-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .faq-item {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .notification-option {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .notification-option h5 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .notification-option p {
            color: var(--dark-text-muted);
        }

        .device-screen.dark-mode .success-step {
            background: var(--dark-card-bg-elevated);
        }

        .device-screen.dark-mode .success-step span:last-child {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .glass-card {
            background: rgba(30, 41, 59, 0.8);
        }

        .device-screen.dark-mode .trust-seal {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .trust-seal h5,
        .device-screen.dark-mode .trust-seal p {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .social-proof-feed {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .proof-item {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .home-section h2,
        .device-screen.dark-mode .section-title {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .practice-area-card,
        .device-screen.dark-mode .category-chip {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .practice-area-card h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .practice-area-card p {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .category-chip {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .category-chip.active {
            background: var(--primary);
            color: white;
        }

        /* Quick Actions - Dark Mode */
        .device-screen.dark-mode .quick-action {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .quick-action h4 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .quick-action p {
            color: var(--dark-text-muted);
        }

        /* Resource Cards - Dark Mode */
        .device-screen.dark-mode .resource-card {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .resource-info h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .resource-info p,
        .device-screen.dark-mode .resource-meta {
            color: var(--dark-text-muted);
        }

        /* Learn Screen - Dark Mode */
        .device-screen.dark-mode .learn-screen {
            background: var(--dark-bg);
        }

        .device-screen.dark-mode .learn-header h1 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .learn-header p {
            color: var(--dark-text-secondary);
        }

        /* Section Headers - Dark Mode */
        .device-screen.dark-mode .section-title {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .section-link {
            color: var(--primary-light);
        }

        /* Legal Footer - Dark Mode */
        .device-screen.dark-mode .legal-footer {
            background: var(--dark-bg-secondary);
            border-top-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .legal-footer p {
            color: var(--dark-text-muted);
        }

        .device-screen.dark-mode .legal-footer-links a {
            color: var(--primary-light);
        }

        .device-screen.dark-mode .powered-by {
            border-top-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .powered-by span {
            color: var(--dark-text-muted);
        }

        .device-screen.dark-mode .powered-by img {
            filter: invert(1);
            opacity: 0.5;
        }

        /* Form Labels - Dark Mode */
        .device-screen.dark-mode .form-label,
        .device-screen.dark-mode label {
            color: var(--dark-text-secondary);
        }

        /* CTA Subtext - Dark Mode */
        .device-screen.dark-mode .cta-subtext {
            color: var(--dark-text-muted);
        }

        /* Glass Card - Dark Mode */
        .device-screen.dark-mode .glass-card {
            background: var(--dark-card-bg);
            border: 1px solid var(--dark-border-color);
        }

        /* Accident Screen - Dark Mode */
        .device-screen.dark-mode .accident-screen {
            background: linear-gradient(180deg, #DC2626 0%, #B91C1C 35%, var(--dark-bg) 35%);
        }

        .device-screen.dark-mode .accident-status-card,
        .device-screen.dark-mode .accident-info-card {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .accident-toggle-label h4,
        .device-screen.dark-mode .accident-info-card h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .accident-toggle-label p,
        .device-screen.dark-mode .accident-info-card p,
        .device-screen.dark-mode .accident-info-card li {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .accident-toggle-row {
            border-top-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .tab.accident-tab.active {
            background: rgba(220, 38, 38, 0.15);
        }

        /* Account Screen - Dark Mode */
        .device-screen.dark-mode .account-screen {
            background: linear-gradient(180deg, var(--primary) 0%, var(--primary-dark) 35%, var(--dark-bg) 35%);
        }

        .device-screen.dark-mode .signin-prompt {
            background: var(--dark-card-bg);
        }

        .device-screen.dark-mode .signin-prompt h2 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .signin-prompt p {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .account-documents,
        .device-screen.dark-mode .user-profile-card {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .account-documents h3,
        .device-screen.dark-mode .user-profile-card h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .document-item {
            background: var(--dark-card-bg-elevated);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .document-item span {
            color: var(--dark-text-secondary);
        }

        /* Claim Screen - Dark Mode */
        .device-screen.dark-mode .claim-screen {
            background: var(--dark-bg);
        }

        .device-screen.dark-mode .progress-bar {
            background: var(--dark-border-color);
        }

        /* Detail/Article Screens - Dark Mode */
        .device-screen.dark-mode .detail-screen {
            background: var(--dark-bg);
        }

        .device-screen.dark-mode .detail-meta {
            color: var(--dark-text-muted);
        }

        .device-screen.dark-mode .article-content h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .article-content ul li,
        .device-screen.dark-mode .article-content ol li {
            color: var(--dark-text-secondary);
        }

        /* Info Box/Callout - Dark Mode */
        .device-screen.dark-mode .info-box,
        .device-screen.dark-mode .callout,
        .device-screen.dark-mode .tip-box {
            background: var(--dark-card-bg-elevated);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .info-box p,
        .device-screen.dark-mode .callout p {
            color: var(--dark-text-secondary);
        }

        /* Related Articles - Dark Mode */
        .device-screen.dark-mode .related-article-card {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .related-article-card h4 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .related-article-card p {
            color: var(--dark-text-muted);
        }

        /* Quiz Option Labels - Dark Mode */
        .device-screen.dark-mode .quiz-option .option-title,
        .device-screen.dark-mode .quiz-option h4 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .quiz-option .option-desc {
            color: var(--dark-text-muted);
        }

        /* Selected Quiz Option - Dark Mode */
        .device-screen.dark-mode .quiz-option.selected {
            background: rgba(0, 102, 255, 0.15);
            border-color: var(--primary);
        }

        /* Toast - Dark Mode */
        .device-screen.dark-mode .toast {
            background: var(--dark-card-bg-elevated);
            color: var(--dark-text-primary);
            border-color: var(--dark-border-color);
        }

        /* Social Proof - Dark Mode */
        .device-screen.dark-mode .social-proof-header span {
            color: var(--dark-text-secondary);
        }

        /* Trust Seals - Dark Mode */
        .device-screen.dark-mode .trust-seals {
            background: transparent;
        }

        .device-screen.dark-mode .seal-icon {
            background: var(--dark-card-bg-elevated);
        }

        /* Referral Modal - Dark Mode */
        .device-screen.dark-mode .referral-info-card {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .referral-info-card h4 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .referral-info-card p {
            color: var(--dark-text-secondary);
        }

        /* Step Numbers in Success Card - Dark Mode */
        .device-screen.dark-mode .step-number {
            background: var(--primary);
            color: white;
        }

        /* File Upload - Dark Mode */
        .device-screen.dark-mode .file-upload-area {
            background: var(--dark-card-bg-elevated);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .file-upload-area p {
            color: var(--dark-text-muted);
        }

        /* Practice Card - Dark Mode */
        .device-screen.dark-mode .practice-card {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .practice-card h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .practice-card p {
            color: var(--dark-text-secondary);
        }

        /* Header Logo Text - Dark Mode (for screens with light bg) */
        .device-screen.dark-mode .header-logo span {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .header-logo .highlight {
            color: var(--brand-gold);
        }

        /* Modal Input Focus - Dark Mode */
        .device-screen.dark-mode .modal-input:focus {
            border-color: var(--primary-light);
            box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.2);
        }

        /* Scrollbar - Dark Mode */
        .device-screen.dark-mode ::-webkit-scrollbar-track {
            background: var(--dark-bg-secondary);
        }

        .device-screen.dark-mode ::-webkit-scrollbar-thumb {
            background: var(--dark-border-light);
        }

        /* User Info - Dark Mode */
        .device-screen.dark-mode .user-info h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .user-info p {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .signout-link {
            color: var(--dark-text-muted);
        }

        /* Case Card - Dark Mode */
        .device-screen.dark-mode .case-card {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .case-type {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .case-date {
            color: var(--dark-text-muted);
        }

        .device-screen.dark-mode .case-status-text {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .case-progress-step {
            background: var(--dark-border-color);
        }

        .device-screen.dark-mode .case-progress-step.completed {
            background: var(--success);
        }

        /* Attorney Card - Dark Mode */
        .device-screen.dark-mode .attorney-card {
            background: linear-gradient(135deg, rgba(0, 196, 140, 0.15) 0%, rgba(0, 230, 160, 0.1) 100%);
        }

        .device-screen.dark-mode .attorney-info h4 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .attorney-info p {
            color: var(--dark-text-secondary);
        }

        /* FAQ - Dark Mode */
        .device-screen.dark-mode .faq-question:hover {
            background: var(--dark-bg-secondary);
        }

        .device-screen.dark-mode .faq-question:active {
            background: var(--dark-card-bg-elevated);
        }

        .device-screen.dark-mode .faq-question span {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .faq-toggle {
            color: var(--dark-text-muted);
        }

        .device-screen.dark-mode .faq-answer p {
            color: var(--dark-text-secondary);
        }

        /* Document Upload - Dark Mode */
        .device-screen.dark-mode .document-upload-area {
            border-color: var(--dark-border-color);
            background: var(--dark-card-bg);
        }

        .device-screen.dark-mode .document-upload-area p {
            color: var(--dark-text-muted);
        }

        /* Empty State - Dark Mode */
        .device-screen.dark-mode .empty-state h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .empty-state p {
            color: var(--dark-text-secondary);
        }

        /* Disclaimer/Terms Modal Text - Dark Mode */
        .device-screen.dark-mode .modal-content ul li,
        .device-screen.dark-mode .modal-content ol li {
            color: var(--dark-text-secondary);
        }

        /* Button Secondary - Dark Mode */
        .device-screen.dark-mode .btn-secondary,
        .device-screen.dark-mode .modal-btn.secondary {
            background: var(--dark-card-bg-elevated);
            color: var(--dark-text-primary);
            border-color: var(--dark-border-color);
        }

        /* Achievement Popup - Dark Mode */
        .device-screen.dark-mode .achievement-popup {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .achievement-popup h3 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .achievement-popup p {
            color: var(--dark-text-secondary);
        }

        /* Status Bar in Dark Mode (when on light screens) */
        .device-screen.dark-mode .status-bar.dark {
            color: var(--dark-text-primary);
        }

        /* ==================== ADDITIONAL DARK MODE FIXES ==================== */

        /* How It Works Card - Dark Mode */
        .device-screen.dark-mode .how-it-works {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .how-it-works h3,
        .device-screen.dark-mode .how-it-works h4 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .how-it-works p {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .step-connector {
            background: var(--dark-border-color);
        }

        /* Category Chips - Dark Mode */
        .device-screen.dark-mode .category-chip {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .category-chip.active {
            background: var(--primary) !important;
            color: white;
            border-color: var(--primary);
        }

        /* Legal Modal - Dark Mode */
        .device-screen.dark-mode .legal-modal-content {
            background: var(--dark-card-bg) !important;
        }

        .device-screen.dark-mode .legal-modal-content h2 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .legal-modal-content p,
        .device-screen.dark-mode .legal-modal-content li {
            color: var(--dark-text-secondary);
        }

        /* Office Card - Dark Mode */
        .device-screen.dark-mode .office-card {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
        }

        /* Onboarding Options - Dark Mode */
        .device-screen.dark-mode .onboarding-option {
            background: rgba(255, 255, 255, 0.1) !important;
            border-color: rgba(255, 255, 255, 0.2);
        }

        .device-screen.dark-mode .onboarding-option.selected {
            background: rgba(255, 255, 255, 0.2) !important;
            border-color: white;
        }

        /* Save Progress Modal - Dark Mode */
        .device-screen.dark-mode .save-progress-content {
            background: var(--dark-card-bg) !important;
        }

        /* Notification Preferences - Dark Mode */
        .device-screen.dark-mode .notification-prefs {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
        }

        /* Case Strength Card - Dark Mode */
        .device-screen.dark-mode .case-strength {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .case-strength h4 {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .case-strength p {
            color: var(--dark-text-secondary);
        }

        /* Social Proof Feed - Dark Mode */
        .device-screen.dark-mode .social-proof-feed {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .proof-item strong {
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .proof-time {
            color: var(--dark-text-muted);
        }

        /* Article CTA Button - Dark Mode */
        .device-screen.dark-mode .article-cta button {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
            color: var(--dark-text-primary);
        }

        /* Info/Tip Boxes - Dark Mode */
        .device-screen.dark-mode .info-box,
        .device-screen.dark-mode .tip-box,
        .device-screen.dark-mode .warning-box {
            background: var(--dark-card-bg-elevated) !important;
            border-color: var(--dark-border-color);
        }

        /* Quick Action Cards - Force Dark Mode */
        .device-screen.dark-mode .quick-action {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
        }

        /* Resource Cards - Force Dark Mode */
        .device-screen.dark-mode .resource-card {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .resource-card h3,
        .device-screen.dark-mode .resource-card h4 {
            color: var(--dark-text-primary);
        }

        /* Home Section Cards - Dark Mode */
        .device-screen.dark-mode .home-section {
            background: transparent;
        }

        /* Practice Card - Force Dark Mode */
        .device-screen.dark-mode .practice-card {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
        }

        /* Referral Card - Dark Mode */
        .device-screen.dark-mode .referral-card {
            background: var(--dark-card-bg) !important;
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .referral-card h4 {
            color: var(--dark-text-primary);
        }

        /* Learn Screen Background - Dark Mode */
        .device-screen.dark-mode .learn-screen {
            background: var(--dark-bg) !important;
        }

        /* Claim Screen Background - Dark Mode */
        .device-screen.dark-mode .claim-screen {
            background: var(--dark-bg) !important;
        }

        /* Global override for any remaining white backgrounds in dark mode */
        .device-screen.dark-mode .card,
        .device-screen.dark-mode [class*="-card"]:not(.article-cta-card) {
            background: var(--dark-card-bg);
            border-color: var(--dark-border-color);
        }

        /* ==================== HERO VALUE PROPS - ALWAYS DARK TEXT ==================== */
        /* These white cards in the hero section need dark text regardless of mode */
        .device-screen.dark-mode .value-prop {
            background: white !important;
        }

        .device-screen.dark-mode .value-prop-text {
            color: #111827 !important;
        }

        /* Hero stat cards - keep white bg with dark text */
        .device-screen.dark-mode .hero-stat-card,
        .device-screen.dark-mode .stat-card,
        .device-screen.dark-mode .trust-stat {
            background: rgba(255, 255, 255, 0.95) !important;
        }

        .device-screen.dark-mode .hero-stat-card span,
        .device-screen.dark-mode .stat-card span,
        .device-screen.dark-mode .trust-stat span {
            color: #111827 !important;
        }

        /* ==================== ONBOARDING - DARK MODE ==================== */

        /* Dark gradient background for onboarding overlay */
        .device-screen.dark-mode .onboarding-overlay {
            background: linear-gradient(160deg, #1E293B 0%, #0F172A 100%) !important;
        }

        /* Trust badges - dark cards with light text */
        .device-screen.dark-mode .onboarding-overlay .trust-badge {
            background: var(--dark-card-bg) !important;
            border: 1px solid var(--dark-border-color);
        }

        .device-screen.dark-mode .onboarding-overlay .trust-badge .value {
            color: var(--primary-light) !important;
        }

        .device-screen.dark-mode .onboarding-overlay .trust-badge .label {
            color: var(--dark-text-secondary) !important;
        }

        /* Value props - dark cards */
        .device-screen.dark-mode .onboarding-overlay .value-prop {
            background: var(--dark-card-bg) !important;
            border: 1px solid var(--dark-border-color);
        }

        .device-screen.dark-mode .onboarding-overlay .value-prop-text {
            color: var(--dark-text-primary) !important;
        }

        .device-screen.dark-mode .onboarding-overlay .value-prop-icon {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%) !important;
        }

        /* CTA button - white on dark */
        .device-screen.dark-mode .btn-onboarding {
            background: white !important;
            color: var(--primary) !important;
        }

        .device-screen.dark-mode .btn-onboarding:hover {
            background: #F8FAFC !important;
        }

        /* Skip link */
        .device-screen.dark-mode .skip-link a {
            color: rgba(255, 255, 255, 0.7) !important;
        }

        .device-screen.dark-mode .skip-link a:hover {
            color: white !important;
        }

        /* Screen 2 - Question text */
        .device-screen.dark-mode .onboarding-question h2 {
            color: white !important;
        }

        .device-screen.dark-mode .onboarding-question p {
            color: rgba(255, 255, 255, 0.8) !important;
        }

        /* Dots indicator */
        .device-screen.dark-mode .onboarding-dots .dot {
            background: rgba(255, 255, 255, 0.3) !important;
        }

        .device-screen.dark-mode .onboarding-dots .dot.active {
            background: white !important;
        }

        /* Continue button in screen 2 */
        .device-screen.dark-mode .btn-onboarding.accent {
            background: linear-gradient(145deg, #FF7B45 0%, var(--accent) 100%) !important;
            color: white !important;
        }

        /* Trust badges in hero - maintain readability */
        .device-screen.dark-mode .trust-badge-text,
        .device-screen.dark-mode .hero .trust-seal p,
        .device-screen.dark-mode .hero .trust-seal h5 {
            color: #4B5563 !important;
        }

        /* ==================== LEARN SCREEN - DARK MODE FIXES ==================== */

        /* Resource card category labels - use lighter blue for contrast */
        .device-screen.dark-mode .resource-meta span {
            color: var(--primary-light) !important;
        }

        /* Resource card titles - ensure high contrast */
        .device-screen.dark-mode .resource-info h4 {
            color: var(--dark-text-primary) !important;
        }

        /* Resource card meta text (time) */
        .device-screen.dark-mode .resource-meta {
            color: var(--dark-text-muted) !important;
        }

        /* Category scroll container */
        .device-screen.dark-mode .category-scroll {
            background: transparent;
        }

        /* Header logo text in Learn/Account screens */
        .device-screen.dark-mode .learn-screen .header-logo span,
        .device-screen.dark-mode .account-screen .header-logo span {
            color: var(--dark-text-primary) !important;
        }

        /* Keep highlight gold in dark mode */
        .device-screen.dark-mode .learn-screen .header-logo .highlight,
        .device-screen.dark-mode .account-screen .header-logo .highlight {
            color: var(--brand-gold) !important;
        }

        /* Learn header titles and subtitles */
        .device-screen.dark-mode .learn-header h1 {
            color: var(--dark-text-primary) !important;
        }

        .device-screen.dark-mode .learn-header p {
            color: var(--dark-text-secondary) !important;
        }

        /* Resources grid background */
        .device-screen.dark-mode .resources-grid {
            background: transparent;
        }

        /* ==================== CHECKLIST ITEMS - ALWAYS DARK TEXT ==================== */
        /* Checklist items have white backgrounds, need dark text regardless of mode */
        .device-screen.dark-mode .checklist-item {
            background: white !important;
        }

        .device-screen.dark-mode .checklist-item span {
            color: #111827 !important;
        }

        .device-screen.dark-mode .checklist-item .check {
            border-color: var(--primary) !important;
            color: var(--primary) !important;
        }

        .device-screen.dark-mode .checklist-item .check.checked {
            background: var(--primary) !important;
            color: white !important;
        }

        /* ==================== DARK MODE - ADDITIONAL FIXES ==================== */
        /* Toggle Switches - Dark Mode */
        .device-screen.dark-mode .toggle-switch {
            background: var(--dark-border-color);
        }

        .device-screen.dark-mode .toggle-switch.active {
            background: var(--primary);
        }

        .device-screen.dark-mode .toggle-switch::after {
            background: var(--dark-text-primary);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Case Status Badges - Dark Mode (maintain semantic colors) */
        .device-screen.dark-mode .case-status-badge {
            border: 1px solid var(--dark-border-color);
        }

        .device-screen.dark-mode .case-status-badge.submitted {
            background: rgba(229, 231, 235, 0.15);
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .case-status-badge.under-review {
            background: rgba(59, 130, 246, 0.2);
            color: #93C5FD;
        }

        .device-screen.dark-mode .case-status-badge.qualified {
            background: rgba(16, 185, 129, 0.2);
            color: #6EE7B7;
        }

        .device-screen.dark-mode .case-status-badge.matched {
            background: rgba(245, 158, 11, 0.2);
            color: #FCD34D;
        }

        .device-screen.dark-mode .case-status-badge.retained {
            background: rgba(16, 185, 129, 0.2);
            color: #6EE7B7;
        }

        /* Accident Status Badge - Dark Mode */
        .device-screen.dark-mode .accident-status-badge {
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .accident-status-badge.enabled {
            background: rgba(16, 185, 129, 0.15);
            color: #6EE7B7;
        }

        .device-screen.dark-mode .accident-status-badge.disabled {
            background: rgba(107, 114, 128, 0.15);
            color: var(--dark-text-muted);
        }

        /* Dropdown/Select Elements - Dark Mode */
        .device-screen.dark-mode select,
        .device-screen.dark-mode .select-dropdown {
            background: var(--dark-card-bg-elevated);
            border-color: var(--dark-border-color);
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode select option {
            background: var(--dark-card-bg);
            color: var(--dark-text-primary);
        }

        /* Dividers and Separators - Dark Mode */
        .device-screen.dark-mode hr,
        .device-screen.dark-mode .divider,
        .device-screen.dark-mode .separator {
            background: var(--dark-border-color);
            border-color: var(--dark-border-color);
        }

        /* Progress Steps - Dark Mode */
        .device-screen.dark-mode .progress-step {
            background: var(--dark-card-bg-elevated);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode .progress-step.completed {
            background: rgba(0, 102, 255, 0.15);
            border-color: var(--primary);
        }

        .device-screen.dark-mode .progress-step span {
            color: var(--dark-text-secondary);
        }

        .device-screen.dark-mode .progress-step.completed span {
            color: var(--primary-light);
        }

        /* How It Works Step Numbers - Enhanced Dark Mode */
        .device-screen.dark-mode .step-number {
            background: var(--dark-card-bg-elevated);
            border-color: var(--dark-border-color);
            color: var(--primary-light);
        }

        /* Alert/Notice Boxes - Dark Mode variants */
        .device-screen.dark-mode .alert,
        .device-screen.dark-mode .notice {
            background: var(--dark-card-bg-elevated);
            border-color: var(--dark-border-color);
            color: var(--dark-text-primary);
        }

        .device-screen.dark-mode .alert-success {
            background: rgba(16, 185, 129, 0.15);
            border-color: rgba(16, 185, 129, 0.3);
        }

        .device-screen.dark-mode .alert-warning {
            background: rgba(245, 158, 11, 0.15);
            border-color: rgba(245, 158, 11, 0.3);
        }

        .device-screen.dark-mode .alert-error {
            background: rgba(239, 68, 68, 0.15);
            border-color: rgba(239, 68, 68, 0.3);
        }

        /* Tooltip/Popover - Dark Mode */
        .device-screen.dark-mode .tooltip,
        .device-screen.dark-mode .popover {
            background: var(--dark-card-bg-elevated);
            border-color: var(--dark-border-color);
            color: var(--dark-text-primary);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        /* Links in body content - Dark Mode (improved contrast) */
        .device-screen.dark-mode a:not(.btn-primary):not(.btn-secondary):not([class*="btn"]) {
            color: var(--primary-light);
        }

        .device-screen.dark-mode a:not(.btn-primary):not(.btn-secondary):not([class*="btn"]):hover {
            color: #93C5FD;
        }

        /* Scrollbar styling for dark mode - webkit */
        .device-screen.dark-mode *::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .device-screen.dark-mode *::-webkit-scrollbar-track {
            background: var(--dark-bg-secondary);
            border-radius: 4px;
        }

        .device-screen.dark-mode *::-webkit-scrollbar-thumb {
            background: var(--dark-border-light);
            border-radius: 4px;
        }

        .device-screen.dark-mode *::-webkit-scrollbar-thumb:hover {
            background: var(--dark-text-muted);
        }

        /* Form Labels & Help Text - Dark Mode */
        .device-screen.dark-mode .help-text,
        .device-screen.dark-mode .form-help,
        .device-screen.dark-mode small {
            color: var(--dark-text-muted);
        }

        /* Disabled State - Dark Mode */
        .device-screen.dark-mode button:disabled,
        .device-screen.dark-mode input:disabled,
        .device-screen.dark-mode .disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Focus States - Dark Mode (accessibility) */
        .device-screen.dark-mode *:focus-visible {
            outline: 2px solid var(--primary-light);
            outline-offset: 2px;
        }

        /* Table Styling - Dark Mode */
        .device-screen.dark-mode table {
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode th {
            background: var(--dark-card-bg-elevated);
            color: var(--dark-text-primary);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode td {
            background: var(--dark-card-bg);
            color: var(--dark-text-secondary);
            border-color: var(--dark-border-color);
        }

        .device-screen.dark-mode tr:hover td {
            background: var(--dark-card-bg-elevated);
        }

        /* Code/Pre blocks - Dark Mode */
        .device-screen.dark-mode code,
        .device-screen.dark-mode pre {
            background: var(--dark-card-bg-elevated);
            color: var(--dark-text-primary);
            border-color: var(--dark-border-color);
        }

        /* Blockquote - Dark Mode */
        .device-screen.dark-mode blockquote {
            background: var(--dark-card-bg);
            border-left-color: var(--primary);
            color: var(--dark-text-secondary);
        }

        /* ==================== Tablet Layout ==================== */
        /* Tablet has a different notch/camera area */
        .device-frame.tablet .dynamic-island {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            top: 16px;
        }

        .device-frame.tablet .status-bar {
            height: 44px;
            padding: 0 20px 6px;
        }

        .device-frame.tablet .screen {
            padding-top: 44px;
            padding-bottom: 0;
        }

        /* Tablet Sidebar Navigation */
        .device-frame.tablet .tab-bar {
            position: absolute;
            left: 0;
            top: 44px;
            bottom: 0;
            width: 80px;
            height: auto;
            flex-direction: column;
            justify-content: flex-start;
            padding: 20px 8px;
            gap: 8px;
            border-top: none;
            border-right: 1px solid rgba(0, 0, 0, 0.06);
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.04);
        }

        .device-frame.tablet .tab {
            flex-direction: column;
            padding: 14px 8px;
            min-width: auto;
            width: 100%;
            border-radius: var(--radius-xl);
        }

        .device-frame.tablet .tab-icon {
            width: 32px;
            height: 32px;
        }

        .device-frame.tablet .tab-icon svg {
            width: 28px !important;
            height: 28px !important;
        }

        .device-frame.tablet .tab span {
            font-size: 11px;
        }

        /* Tablet Screen Container - offset for sidebar */
        .device-frame.tablet .screen-container {
            left: 80px;
            right: 0;
        }

        .device-frame.tablet .screen {
            padding-bottom: 40px;
        }

        /* iPad: Larger hero */
        .device-frame.tablet .hero {
            padding: 30px 40px 50px;
        }

        .device-frame.tablet .hero h1 {
            font-size: 42px;
        }

        .device-frame.tablet .hero p {
            font-size: 18px;
        }

        .device-frame.tablet .hero-logo svg {
            width: 56px !important;
            height: 56px !important;
        }

        .device-frame.tablet .hero-logo-text {
            font-size: 36px;
        }

        .device-frame.tablet .stats-row {
            gap: 20px;
        }

        .device-frame.tablet .stat {
            padding: 16px 28px;
        }

        .device-frame.tablet .stat-value {
            font-size: 28px;
        }

        .device-frame.tablet .stat-label {
            font-size: 13px;
        }

        /* iPad: Glass card */
        .device-frame.tablet .glass-card {
            margin: -24px 40px 24px;
            padding: 24px;
        }

        .device-frame.tablet .btn-primary {
            font-size: 20px;
            padding: 22px 32px;
        }

        .device-frame.tablet .cta-subtext {
            font-size: 14px;
        }

        /* iPad: Trust seals - horizontal layout */
        .device-frame.tablet .trust-seals {
            flex-direction: row;
            justify-content: center;
            gap: 24px;
            padding: 20px 40px;
        }

        .device-frame.tablet .trust-seal {
            min-width: 120px;
        }

        /* iPad: Section headers */
        .device-frame.tablet .section-header {
            padding: 28px 40px 16px;
        }

        .device-frame.tablet .section-title {
            font-size: 22px;
        }

        .device-frame.tablet .section-link {
            font-size: 15px;
        }

        /* iPad: Quick actions - 2 column grid */
        .device-frame.tablet .quick-actions {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            padding: 0 40px 24px;
            overflow-x: visible;
        }

        .device-frame.tablet .quick-action {
            min-width: auto;
            padding: 20px 16px;
        }

        .device-frame.tablet .quick-action-icon {
            width: 56px;
            height: 56px;
        }

        .device-frame.tablet .quick-action h4 {
            font-size: 15px;
        }

        .device-frame.tablet .quick-action p {
            font-size: 12px;
        }

        /* iPad: Practice cards - 2 column grid */
        .device-frame.tablet .practice-cards-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            padding: 0 40px;
        }

        .device-frame.tablet .practice-card {
            margin: 0;
            padding: 18px 20px;
        }

        .device-frame.tablet .practice-icon {
            width: 56px;
            height: 56px;
        }

        .device-frame.tablet .practice-info h4 {
            font-size: 17px;
        }

        .device-frame.tablet .practice-info p {
            font-size: 14px;
        }

        /* iPad: Referral scroll - grid */
        .device-frame.tablet .referral-scroll {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            padding: 0 40px 30px;
            overflow-x: visible;
        }

        .device-frame.tablet .referral-card {
            min-width: auto;
            padding: 20px 16px;
        }

        .device-frame.tablet .referral-icon {
            width: 48px;
            height: 48px;
        }

        .device-frame.tablet .referral-card h4 {
            font-size: 15px;
        }

        /* iPad: Learn screen */
        .device-frame.tablet .learn-header {
            padding: 30px 40px 0;
        }

        .device-frame.tablet .learn-header h1 {
            font-size: 34px;
        }

        .device-frame.tablet .learn-header p {
            font-size: 16px;
        }

        .device-frame.tablet .header-logo span {
            font-size: 22px;
        }

        .device-frame.tablet .category-chips {
            padding: 16px 40px;
            gap: 12px;
        }

        .device-frame.tablet .category-chip {
            padding: 12px 20px;
            font-size: 15px;
        }

        /* iPad: Resource cards - 2 column grid */
        .device-frame.tablet .resources-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            padding: 0 40px 30px;
        }

        .device-frame.tablet .resource-card {
            margin: 0;
            padding: 20px;
        }

        .device-frame.tablet .resource-icon {
            width: 52px;
            height: 52px;
        }

        .device-frame.tablet .resource-info h4 {
            font-size: 17px;
        }

        .device-frame.tablet .resource-info p {
            font-size: 14px;
        }

        .device-frame.tablet .resource-tag {
            font-size: 12px;
            padding: 5px 12px;
        }

        /* iPad: Account screen */
        .device-frame.tablet .account-header {
            padding: 30px 40px !important;
        }

        .device-frame.tablet .account-header h1 {
            font-size: 34px !important;
        }

        .device-frame.tablet .signin-prompt,
        .device-frame.tablet .cases-list {
            padding: 0 40px;
        }

        .device-frame.tablet .user-profile-card {
            padding: 24px;
        }

        .device-frame.tablet .user-avatar {
            width: 70px;
            height: 70px;
            font-size: 28px;
        }

        .device-frame.tablet #user-name {
            font-size: 22px;
        }

        .device-frame.tablet #user-phone {
            font-size: 15px;
        }

        /* iPad: Cases list - 2 column */
        .device-frame.tablet .cases-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .device-frame.tablet .case-card {
            margin: 0;
            padding: 20px;
        }

        .device-frame.tablet .case-type {
            font-size: 17px;
        }

        /* iPad: Account screen - Enhanced layout */
        .device-frame.tablet .account-screen {
            background: linear-gradient(180deg, var(--primary) 0%, var(--primary-dark) 30%, var(--page-bg) 30%);
        }

        .device-frame.tablet .signin-prompt {
            max-width: 500px;
            margin: 0 auto;
            padding: 60px 40px;
        }

        .device-frame.tablet .signin-prompt-icon {
            width: 100px;
            height: 100px;
            margin-bottom: 28px;
        }

        .device-frame.tablet .signin-prompt-icon svg {
            width: 50px;
            height: 50px;
        }

        .device-frame.tablet .signin-prompt h2 {
            font-size: 26px;
            margin-bottom: 12px;
        }

        .device-frame.tablet .signin-prompt p {
            font-size: 16px;
            margin-bottom: 32px;
            max-width: 380px;
            margin-left: auto;
            margin-right: auto;
        }

        .device-frame.tablet .signin-prompt .btn-signin {
            padding: 16px 40px;
            font-size: 17px;
            border-radius: 14px;
        }

        .device-frame.tablet .user-profile-card {
            max-width: 650px;
            margin: -20px auto 24px;
            padding: 24px 28px;
        }

        .device-frame.tablet .cases-list {
            max-width: 750px;
            margin: 0 auto;
        }

        .device-frame.tablet .cases-section-header {
            font-size: 14px;
            margin-bottom: 16px;
        }

        .device-frame.tablet .cases-container {
            margin-bottom: 24px;
        }

        /* iPad: Account - Documents & Notifications side by side */
        .device-frame.tablet .account-sections-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 0;
            max-width: 750px;
            margin: 0 auto;
        }

        .device-frame.tablet .account-documents,
        .device-frame.tablet .notification-prefs {
            margin: 0;
            padding: 20px 24px;
        }

        .device-frame.tablet .account-documents h4,
        .device-frame.tablet .notification-prefs h4 {
            font-size: 15px;
            margin-bottom: 16px;
        }

        .device-frame.tablet .account-documents h4 svg,
        .device-frame.tablet .notification-prefs h4 svg {
            width: 20px;
            height: 20px;
        }

        .device-frame.tablet .document-upload-area {
            padding: 28px 20px;
        }

        .device-frame.tablet .document-upload-area h4 {
            font-size: 15px;
        }

        .device-frame.tablet .document-upload-area p {
            font-size: 13px;
        }

        .device-frame.tablet .notif-toggle {
            padding: 14px 0;
        }

        .device-frame.tablet .notif-toggle-label h5 {
            font-size: 15px;
        }

        .device-frame.tablet .notif-toggle-label p {
            font-size: 12px;
        }

        .device-frame.tablet .toggle-switch {
            width: 52px;
            height: 30px;
        }

        /* iPad: Quiz/Claim screen */
        .device-frame.tablet .claim-screen {
            padding: 20px 40px;
        }

        .device-frame.tablet .question-container {
            max-width: 650px;
            margin: 0 auto;
        }

        .device-frame.tablet .question-text {
            font-size: 28px;
        }

        .device-frame.tablet .question-subtext {
            font-size: 16px;
        }

        .device-frame.tablet .quiz-step {
            padding: 20px 0;
        }

        .device-frame.tablet .quiz-option {
            padding: 20px 24px;
            font-size: 17px;
        }

        .device-frame.tablet .quiz-option-icon {
            width: 52px;
            height: 52px;
        }

        .device-frame.tablet .progress-container {
            padding: 20px 0;
        }

        .device-frame.tablet .progress-text {
            font-size: 15px;
        }

        /* iPad: Article/Detail screens */
        .device-frame.tablet .article-content {
            padding: 0 60px;
            max-width: 700px;
            margin: 0 auto;
        }

        .device-frame.tablet .article-content h2 {
            font-size: 26px;
        }

        .device-frame.tablet .article-content h3 {
            font-size: 20px;
        }

        .device-frame.tablet .article-content p,
        .device-frame.tablet .article-content li {
            font-size: 17px;
            line-height: 1.8;
        }

        .device-frame.tablet .detail-header {
            padding: 0 60px 30px;
            max-width: 700px;
            margin: 0 auto;
        }

        .device-frame.tablet .detail-title {
            font-size: 34px;
        }

        .device-frame.tablet .detail-meta {
            font-size: 16px;
        }

        .device-frame.tablet .back-btn {
            padding: 16px 40px;
            font-size: 18px;
        }

        /* iPad: Legal footer */
        .device-frame.tablet .legal-footer {
            padding: 24px 40px;
        }

        .device-frame.tablet .legal-footer p {
            font-size: 12px;
        }

        .device-frame.tablet .legal-footer-links a {
            font-size: 12px;
        }

        /* iPad: Onboarding */
        .device-frame.tablet .onboarding-overlay {
            padding: 60px 80px;
        }

        .device-frame.tablet .onboarding-logo h1 {
            font-size: 48px;
        }

        .device-frame.tablet .onboarding-logo .tagline {
            font-size: 20px;
        }

        .device-frame.tablet .trust-badges {
            gap: 30px;
        }

        .device-frame.tablet .trust-badge .value {
            font-size: 36px;
        }

        .device-frame.tablet .trust-badge .label {
            font-size: 14px;
        }

        .device-frame.tablet .value-props {
            gap: 20px;
        }

        .device-frame.tablet .value-prop {
            padding: 20px 24px;
            font-size: 17px;
        }

        .device-frame.tablet .btn-onboarding {
            font-size: 18px;
            padding: 18px 36px;
        }

        .device-frame.tablet .onboarding-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .device-frame.tablet .onboarding-option {
            padding: 24px 20px;
        }

        .device-frame.tablet .onboarding-option .icon svg {
            width: 40px !important;
            height: 40px !important;
        }

        .device-frame.tablet .onboarding-option .label {
            font-size: 15px;
        }

        /* iPad: Modal styling */
        .device-frame.tablet .legal-modal-content {
            max-width: 600px;
            padding: 30px;
        }

        .device-frame.tablet .legal-modal-content h2 {
            font-size: 24px;
        }

        .device-frame.tablet .legal-modal-content p,
        .device-frame.tablet .legal-modal-content li {
            font-size: 15px;
        }

        /* iPad: Form inputs */
        .device-frame.tablet .form-input {
            padding: 18px;
            font-size: 17px;
        }

        .device-frame.tablet textarea.form-input {
            min-height: 140px;
        }

        .device-frame.tablet .form-label {
            font-size: 15px;
        }

        /* iPad: Adjust screen container for sidebar */
        .device-frame.tablet .screen-container {
            position: absolute;
            top: 0;
            left: 80px;
            right: 0;
            bottom: 0;
            overflow: hidden;
        }

        /* ============================================
           ACCIDENT MODE STYLES
           ============================================ */

        /* Emergency Banner on Home Screen */
        .accident-mode-banner {
            background: linear-gradient(135deg, #DC2626 0%, #B91C1C 100%);
            border-radius: 16px;
            padding: 16px;
            margin: 0 16px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
        }

        .accident-mode-banner:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);
        }

        .accident-mode-banner:active {
            transform: translateY(0);
        }

        .accident-banner-icon {
            width: 48px;
            height: 48px;
            background: rgba(255,255,255,0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .accident-banner-icon svg {
            width: 28px;
            height: 28px;
            color: white;
        }

        .accident-banner-content {
            flex: 1;
        }

        .accident-banner-content h4 {
            color: white;
            font-size: 15px;
            font-weight: 700;
            margin: 0 0 2px 0;
        }

        .accident-banner-content p {
            color: rgba(255,255,255,0.85);
            font-size: 12px;
            margin: 0;
        }

        .accident-banner-arrow {
            color: white;
            opacity: 0.7;
        }

        /* Accident Mode Screen Container */
        .accident-mode-screen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #0F172A;
            z-index: 100;
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .accident-mode-screen.active {
            display: flex;
        }

        /* Accident Mode Header */
        .accident-header {
            background: linear-gradient(135deg, #DC2626 0%, #991B1B 100%);
            padding: 60px 20px 20px;
            text-align: center;
        }

        .accident-header h1 {
            color: white;
            font-size: 24px;
            font-weight: 800;
            margin: 0 0 4px 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .accident-header p {
            color: rgba(255,255,255,0.8);
            font-size: 14px;
            margin: 0;
        }

        /* Accident Mode Content */
        .accident-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        /* Safety Check Screen */
        .safety-check-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100%;
            text-align: center;
            padding: 20px;
        }

        .safety-icon {
            width: 100px;
            height: 100px;
            background: rgba(220, 38, 38, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
            animation: pulse-safety 2s ease-in-out infinite;
        }

        @keyframes pulse-safety {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 20px rgba(220, 38, 38, 0); }
        }

        .safety-icon svg {
            width: 50px;
            height: 50px;
            color: #DC2626;
        }

        .safety-question {
            color: white;
            font-size: 28px;
            font-weight: 800;
            margin: 0 0 12px 0;
        }

        .safety-subtext {
            color: rgba(255,255,255,0.7);
            font-size: 16px;
            margin: 0 0 32px 0;
            max-width: 280px;
        }

        .btn-emergency {
            width: 100%;
            max-width: 300px;
            padding: 20px;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin-bottom: 16px;
        }

        .btn-emergency.btn-911 {
            background: #DC2626;
            color: white;
            box-shadow: 0 8px 24px rgba(220, 38, 38, 0.4);
        }

        .btn-emergency.btn-911:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(220, 38, 38, 0.5);
        }

        .btn-emergency.btn-safe {
            background: #059669;
            color: white;
            box-shadow: 0 8px 24px rgba(5, 150, 105, 0.4);
        }

        .btn-emergency.btn-safe:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(5, 150, 105, 0.5);
        }

        .btn-emergency svg {
            width: 24px;
            height: 24px;
        }

        /* Progress Bar */
        .accident-progress {
            display: flex;
            gap: 8px;
            padding: 16px 20px;
            background: rgba(255,255,255,0.05);
        }

        .progress-step {
            flex: 1;
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
            transition: background 0.3s ease;
        }

        .progress-step.completed {
            background: #059669;
        }

        .progress-step.active {
            background: #0066FF;
        }

        /* Photo Checklist */
        .photo-checklist {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .photo-item {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: background 0.2s ease, transform 0.2s ease;
            border: 2px solid transparent;
        }

        .photo-item:hover {
            background: rgba(255,255,255,0.12);
        }

        .photo-item.captured {
            border-color: #059669;
            background: rgba(5, 150, 105, 0.15);
        }

        .photo-item-number {
            width: 32px;
            height: 32px;
            background: rgba(255,255,255,0.15);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 14px;
            flex-shrink: 0;
        }

        .photo-item.captured .photo-item-number {
            background: #059669;
        }

        .photo-item.captured .photo-item-number::after {
            content: '‚úì';
        }

        .photo-item.captured .photo-item-number span {
            display: none;
        }

        .photo-item-content {
            flex: 1;
        }

        .photo-item-content h4 {
            color: white;
            font-size: 15px;
            font-weight: 600;
            margin: 0 0 2px 0;
        }

        .photo-item-content p {
            color: rgba(255,255,255,0.6);
            font-size: 12px;
            margin: 0;
        }

        .photo-item-action {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .photo-item.captured .photo-item-action {
            background: rgba(255,255,255,0.1);
        }

        .photo-item-action svg {
            width: 20px;
            height: 20px;
            color: white;
        }

        /* Photo Counter */
        .photo-counter {
            text-align: center;
            padding: 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            margin-bottom: 16px;
        }

        .photo-counter-value {
            font-size: 32px;
            font-weight: 800;
            color: white;
        }

        .photo-counter-label {
            color: rgba(255,255,255,0.6);
            font-size: 14px;
        }

        /* Voice Recording */
        .voice-recorder {
            text-align: center;
            padding: 24px;
        }

        .record-button {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: #DC2626;
            border: 4px solid rgba(255,255,255,0.3);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 8px 32px rgba(220, 38, 38, 0.4);
        }

        .record-button:hover {
            transform: scale(1.05);
        }

        .record-button.recording {
            animation: pulse-record 1s ease-in-out infinite;
            background: #B91C1C;
        }

        @keyframes pulse-record {
            0%, 100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.6); }
            50% { box-shadow: 0 0 0 20px rgba(220, 38, 38, 0); }
        }

        .record-button svg {
            width: 48px;
            height: 48px;
            color: white;
        }

        .record-timer {
            font-size: 36px;
            font-weight: 700;
            color: white;
            margin-bottom: 8px;
            font-variant-numeric: tabular-nums;
        }

        .record-status {
            color: rgba(255,255,255,0.6);
            font-size: 14px;
        }

        /* Voice Prompts */
        .voice-prompts {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 16px;
            margin-top: 24px;
        }

        .voice-prompts h4 {
            color: white;
            font-size: 14px;
            font-weight: 600;
            margin: 0 0 12px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .voice-prompts ul {
            margin: 0;
            padding: 0 0 0 20px;
            color: rgba(255,255,255,0.7);
            font-size: 13px;
        }

        .voice-prompts li {
            margin-bottom: 6px;
        }

        .voice-prompts.warning {
            background: rgba(220, 38, 38, 0.15);
            border: 1px solid rgba(220, 38, 38, 0.3);
        }

        .voice-prompts.warning h4 {
            color: #FCA5A5;
        }

        /* Witness Form */
        .witness-form {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .witness-card {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 16px;
        }

        .witness-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .witness-card-header h4 {
            color: white;
            font-size: 15px;
            font-weight: 600;
            margin: 0;
        }

        .witness-remove {
            background: none;
            border: none;
            color: rgba(255,255,255,0.5);
            cursor: pointer;
            padding: 4px;
        }

        .accident-input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            color: white;
            font-size: 15px;
            margin-bottom: 12px;
            box-sizing: border-box;
        }

        .accident-input::placeholder {
            color: rgba(255,255,255,0.4);
        }

        .accident-input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255,255,255,0.15);
        }

        .btn-add-witness {
            width: 100%;
            padding: 14px;
            background: transparent;
            border: 2px dashed rgba(255,255,255,0.3);
            border-radius: 12px;
            color: rgba(255,255,255,0.7);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.2s ease;
        }

        .btn-add-witness:hover {
            border-color: var(--primary);
            color: white;
            background: rgba(0, 102, 255, 0.1);
        }

        /* Critical Reminders */
        .reminders-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .reminder-section {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 16px;
        }

        .reminder-section h4 {
            font-size: 14px;
            font-weight: 700;
            margin: 0 0 12px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .reminder-section.do h4 {
            color: #34D399;
        }

        .reminder-section.dont h4 {
            color: #FCA5A5;
        }

        .reminder-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 8px 0;
            color: rgba(255,255,255,0.85);
            font-size: 14px;
        }

        .reminder-item svg {
            width: 18px;
            height: 18px;
            flex-shrink: 0;
            margin-top: 1px;
        }

        .reminder-section.do .reminder-item svg {
            color: #34D399;
        }

        .reminder-section.dont .reminder-item svg {
            color: #FCA5A5;
        }

        /* Evidence Review */
        .evidence-summary {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .evidence-section {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 16px;
        }

        .evidence-section h4 {
            color: white;
            font-size: 14px;
            font-weight: 600;
            margin: 0 0 12px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }

        .photo-thumb {
            aspect-ratio: 1;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .photo-thumb svg {
            width: 24px;
            height: 24px;
            color: rgba(255,255,255,0.4);
        }

        .photo-thumb.has-photo {
            background: linear-gradient(135deg, #059669, #047857);
        }

        .photo-thumb.has-photo svg {
            color: white;
        }

        .auto-data-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .auto-data-item {
            background: rgba(255,255,255,0.08);
            border-radius: 8px;
            padding: 12px;
        }

        .auto-data-item label {
            color: rgba(255,255,255,0.5);
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 4px;
        }

        .auto-data-item span {
            color: white;
            font-size: 14px;
            font-weight: 600;
        }

        /* Success Screen */
        .success-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100%;
            text-align: center;
            padding: 24px;
        }

        .success-icon {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #059669, #047857);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
            animation: success-pop 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes success-pop {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }

        .success-icon svg {
            width: 50px;
            height: 50px;
            color: white;
        }

        .success-title {
            color: white;
            font-size: 28px;
            font-weight: 800;
            margin: 0 0 12px 0;
        }

        .success-message {
            color: rgba(255,255,255,0.7);
            font-size: 16px;
            margin: 0 0 32px 0;
            max-width: 300px;
        }

        /* Accident Mode Footer */
        .accident-footer {
            padding: 16px 20px;
            background: rgba(0,0,0,0.3);
        }

        .btn-accident-primary {
            width: 100%;
            padding: 16px;
            background: var(--primary);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 12px rgba(0, 102, 255, 0.3);
        }

        .btn-accident-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
        }

        .btn-accident-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-accident-secondary {
            width: 100%;
            padding: 14px;
            background: transparent;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 12px;
            color: rgba(255,255,255,0.8);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 12px;
            transition: all 0.2s ease;
        }

        .btn-accident-secondary:hover {
            border-color: rgba(255,255,255,0.5);
            color: white;
        }

        /* Close Button */
        .accident-close {
            position: absolute;
            top: 52px;
            right: 16px;
            width: 36px;
            height: 36px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: background 0.2s ease;
        }

        .accident-close:hover {
            background: rgba(255,255,255,0.2);
        }

        /* Step Title in Content */
        .step-title {
            color: white;
            font-size: 20px;
            font-weight: 700;
            margin: 0 0 8px 0;
        }

        .step-subtitle {
            color: rgba(255,255,255,0.6);
            font-size: 14px;
            margin: 0 0 20px 0;
        }

        /* Additional Accident Mode Styles */

        .accident-exit-btn {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }

        .accident-exit-btn:hover {
            background: rgba(255,255,255,0.2);
        }

        .accident-progress-bar {
            height: 4px;
            background: rgba(255,255,255,0.2);
            width: 100%;
        }

        .accident-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0066FF 0%, #00D4FF 100%);
            transition: width 0.3s ease;
        }

        .accident-step {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title-accident {
            color: white;
            font-size: 22px;
            font-weight: 700;
            margin: 0 0 8px 0;
            text-align: center;
        }

        .section-subtitle-accident {
            color: rgba(255,255,255,0.6);
            font-size: 14px;
            margin: 0 0 24px 0;
            text-align: center;
        }

        .photo-item-icon {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            color: rgba(255,255,255,0.7);
        }

        .photo-item.captured .photo-item-icon {
            background: #059669;
            color: white;
        }

        .photo-item-info {
            flex: 1;
        }

        .photo-item-info h4 {
            color: white;
            font-size: 14px;
            font-weight: 600;
            margin: 0 0 2px 0;
        }

        .photo-item-info p {
            color: rgba(255,255,255,0.5);
            font-size: 12px;
            margin: 0;
        }

        .photo-item-status {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .photo-item-status .check-icon {
            opacity: 0;
            color: #059669;
            transition: opacity 0.2s ease;
        }

        .photo-item.captured .photo-item-status .check-icon {
            opacity: 1;
        }

        .photo-counter {
            text-align: center;
            padding: 12px;
            color: rgba(255,255,255,0.7);
            font-size: 14px;
            font-weight: 500;
            margin-top: 16px;
        }

        .accident-nav-buttons {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .accident-nav-buttons .btn-accident-secondary {
            flex: 1;
            margin-top: 0;
        }

        .accident-nav-buttons .btn-accident-primary {
            flex: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .recorder-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
        }

        .recorder-circle {
            width: 100px;
            height: 100px;
            background: rgba(220, 38, 38, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .recorder-circle.recording {
            background: rgba(220, 38, 38, 0.4);
            animation: pulse-recorder 1.5s ease-in-out infinite;
        }

        @keyframes pulse-recorder {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .recorder-circle svg {
            color: #DC2626;
        }

        .recorder-timer {
            font-size: 32px;
            font-weight: 700;
            color: white;
            font-variant-numeric: tabular-nums;
        }

        .record-button {
            width: 100%;
            max-width: 200px;
            padding: 16px 24px;
            background: #DC2626;
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.4);
        }

        .record-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(220, 38, 38, 0.5);
        }

        .record-button.recording {
            background: #991B1B;
            animation: pulse-btn 1s ease-in-out infinite;
        }

        @keyframes pulse-btn {
            0%, 100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.5); }
            50% { box-shadow: 0 0 0 12px rgba(220, 38, 38, 0); }
        }

        .recording-tip {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 16px;
            margin-top: 24px;
            text-align: left;
        }

        .recording-tip strong {
            color: white;
            display: block;
            margin-bottom: 8px;
        }

        .recording-tip ul {
            margin: 0;
            padding-left: 20px;
            color: rgba(255,255,255,0.7);
            font-size: 13px;
        }

        .recording-tip li {
            margin-bottom: 4px;
        }

        .witness-input-group {
            margin-bottom: 12px;
        }

        .witness-input-group label {
            display: block;
            color: rgba(255,255,255,0.7);
            font-size: 13px;
            margin-bottom: 6px;
        }

        .witness-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 16px;
        }

        .witness-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 16px;
        }

        .witness-card-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .witness-card-info strong {
            color: white;
            font-size: 15px;
        }

        .witness-card-info span {
            color: rgba(255,255,255,0.6);
            font-size: 13px;
        }

        .witness-remove-btn {
            width: 32px;
            height: 32px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 8px;
            color: rgba(255,255,255,0.6);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .witness-remove-btn:hover {
            background: rgba(220, 38, 38, 0.3);
            color: #FCA5A5;
        }

        .witness-skip-note {
            text-align: center;
            color: rgba(255,255,255,0.5);
            font-size: 13px;
            margin-top: 16px;
        }

        .do-section {
            border-left: 4px solid #059669;
        }

        .dont-section {
            border-left: 4px solid #DC2626;
        }

        .do-header {
            color: #34D399 !important;
        }

        .dont-header {
            color: #FCA5A5 !important;
        }

        .reminder-icon {
            font-size: 18px;
        }

        .reminder-header {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 700;
            margin: 0 0 12px 0;
        }

        .reminder-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .reminder-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 0;
            cursor: pointer;
        }

        .reminder-item span {
            color: rgba(255,255,255,0.85);
            font-size: 14px;
        }

        .reminder-item.dont span {
            text-decoration: none;
        }

        .reminder-checkbox {
            width: 20px;
            height: 20px;
            accent-color: #059669;
            cursor: pointer;
        }

        .reminder-item.dont .reminder-checkbox {
            accent-color: #DC2626;
        }

        .evidence-card {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 16px;
        }

        .evidence-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .evidence-icon {
            font-size: 20px;
        }

        .evidence-title {
            color: white;
            font-size: 14px;
            font-weight: 600;
        }

        .evidence-card-content {
            color: rgba(255,255,255,0.7);
            font-size: 14px;
            padding-left: 30px;
        }

        .submit-disclaimer {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            padding: 16px;
            background: rgba(0, 102, 255, 0.1);
            border-radius: 12px;
            margin-top: 16px;
        }

        .submit-disclaimer svg {
            color: #60A5FA;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .submit-disclaimer span {
            color: rgba(255,255,255,0.8);
            font-size: 13px;
        }

        .btn-submit-evidence {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-submit-evidence .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Compact Evidence Summary */
        .evidence-summary-compact {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 12px 16px;
            margin-bottom: 20px;
        }

        .evidence-summary-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 14px;
        }

        .evidence-summary-row:last-child {
            border-bottom: none;
        }

        .evidence-summary-row span:first-child {
            color: rgba(255,255,255,0.7);
        }

        .evidence-summary-row span:last-child {
            color: white;
            font-weight: 500;
        }

        /* Distribution Options */
        .distribution-options {
            margin: 20px 0;
        }

        .distribution-title {
            color: white;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .distribution-option {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 16px;
            background: rgba(255,255,255,0.06);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 14px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .distribution-option:hover {
            background: rgba(255,255,255,0.1);
            border-color: rgba(255,255,255,0.2);
        }

        .distribution-option.selected {
            background: rgba(0, 196, 140, 0.15);
            border-color: #00C48C;
        }

        .distribution-icon {
            font-size: 28px;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .distribution-content {
            flex: 1;
        }

        .distribution-content h4 {
            color: white;
            font-size: 15px;
            font-weight: 600;
            margin: 0 0 4px 0;
        }

        .distribution-content p {
            color: rgba(255,255,255,0.6);
            font-size: 13px;
            margin: 0;
        }

        .distribution-check {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            opacity: 0;
            transition: all 0.2s ease;
        }

        .distribution-option.selected .distribution-check {
            opacity: 1;
            background: #00C48C;
        }

        .distribution-check svg {
            color: white;
        }

        /* Distribution Email Input */
        .distribution-email-input {
            margin: 16px 0;
        }

        .distribution-email-input label {
            display: block;
            color: rgba(255,255,255,0.8);
            font-size: 13px;
            margin-bottom: 8px;
        }

        .distribution-email-input input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            color: white;
            font-size: 16px;
        }

        .distribution-email-input input::placeholder {
            color: rgba(255,255,255,0.4);
        }

        .distribution-email-input input:focus {
            outline: none;
            border-color: #00C48C;
            background: rgba(255,255,255,0.15);
        }

        .email-note {
            color: rgba(255,255,255,0.5);
            font-size: 12px;
            margin-top: 8px;
        }

        /* Reminder Notice (shown after self-save) */
        .reminder-notice {
            display: flex;
            gap: 14px;
            padding: 18px;
            background: linear-gradient(135deg, rgba(0, 102, 255, 0.15) 0%, rgba(0, 196, 140, 0.1) 100%);
            border: 1px solid rgba(0, 102, 255, 0.3);
            border-radius: 16px;
            margin-top: 20px;
            text-align: left;
        }

        .reminder-icon {
            font-size: 28px;
            flex-shrink: 0;
        }

        .reminder-content h4 {
            color: white;
            font-size: 15px;
            font-weight: 600;
            margin: 0 0 6px 0;
        }

        .reminder-content p {
            color: rgba(255,255,255,0.7);
            font-size: 13px;
            margin: 0 0 12px 0;
            line-height: 1.4;
        }

        .btn-reminder-cta {
            padding: 10px 18px;
            background: linear-gradient(135deg, #0066FF 0%, #0052CC 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .btn-reminder-cta:hover {
            transform: scale(1.02);
        }

        .success-container-accident {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100%;
            text-align: center;
            padding: 24px;
        }

        .success-icon-accident {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #059669, #047857);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
            animation: success-bounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes success-bounce {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .success-icon-accident svg {
            color: white;
        }

        .success-title-accident {
            color: white;
            font-size: 28px;
            font-weight: 800;
            margin: 0 0 12px 0;
        }

        .success-subtitle-accident {
            color: rgba(255,255,255,0.7);
            font-size: 16px;
            margin: 0 0 32px 0;
        }

        .next-steps-accident {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 20px;
            width: 100%;
            max-width: 320px;
            text-align: left;
        }

        .next-steps-accident h3 {
            color: white;
            font-size: 16px;
            font-weight: 600;
            margin: 0 0 16px 0;
            text-align: center;
        }

        .next-step-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 0;
            color: rgba(255,255,255,0.85);
            font-size: 14px;
        }

        .next-step-number {
            width: 28px;
            height: 28px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: 700;
            flex-shrink: 0;
        }

        .emergency-contact-card {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 16px;
            margin-top: 24px;
            text-align: center;
        }

        .emergency-contact-card p {
            color: rgba(255,255,255,0.6);
            font-size: 13px;
            margin: 0 0 8px 0;
        }

        .emergency-phone {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 18px;
            font-weight: 700;
            text-decoration: none;
        }

        .emergency-phone svg {
            color: #34D399;
        }
    </style>
</head>
<body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="visually-hidden" style="position: absolute; top: -40px; left: 0; background: var(--primary); color: white; padding: 8px 16px; z-index: 10000; text-decoration: none; font-weight: 600;" onfocus="this.style.top='0'" onblur="this.style.top='-40px'">Skip to main content</a>

    <!-- SVG Icon Definitions -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <defs>
            <!-- ClaimIt Logo Mark - Shield with Lightning Bolt -->
            <symbol id="logo-mark" viewBox="0 0 64 64">
                <path d="M32 4L8 16v20c0 14 10.5 22 24 28 13.5-6 24-14 24-28V16L32 4z" fill="url(#logo-gradient)"/>
                <path d="M36 18L26 34h8l-4 14 14-18h-9l5-12h-4z" fill="white"/>
                <defs>
                    <linearGradient id="logo-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#FFD700"/>
                        <stop offset="100%" style="stop-color:#FFA500"/>
                    </linearGradient>
                </defs>
            </symbol>

            <!-- Car/Vehicle -->
            <symbol id="icon-car" viewBox="0 0 24 24">
                <path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z" fill="currentColor"/>
            </symbol>

            <!-- Injury/Personal Injury - First Aid Kit -->
            <symbol id="icon-injury" viewBox="0 0 24 24">
                <!-- First aid kit box -->
                <rect x="2" y="7" width="20" height="14" rx="2" fill="currentColor"/>
                <!-- Handle on top -->
                <path d="M8 7V5c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2v2" stroke="currentColor" stroke-width="2" fill="none"/>
                <!-- Medical cross -->
                <rect x="10" y="10" width="4" height="8" rx="0.5" fill="white"/>
                <rect x="7" y="12" width="10" height="4" rx="0.5" fill="white"/>
            </symbol>

            <!-- Slip/Fall -->
            <symbol id="icon-fall" viewBox="0 0 24 24">
                <circle cx="12" cy="4" r="2.5" fill="currentColor"/>
                <path d="M10.5 8.5L7 11l1.5 1.5 2.5-2 1 4.5-4 4 1.5 1.5L13 17l1-4 2 1.5V20h2v-7l-3.5-2.5-.5-2 2 1.5 2-2L14 6l-3.5 2.5z" fill="currentColor"/>
            </symbol>

            <!-- Shield/Insurance -->
            <symbol id="icon-shield" viewBox="0 0 24 24">
                <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" fill="currentColor"/>
            </symbol>

            <!-- Lemon - Clean distinct silhouette -->
            <symbol id="icon-lemon" viewBox="0 0 24 24">
                <!-- Lemon body - distinct pointed oval shape -->
                <path d="M12 4C8 4 4 7 3 12c-1 5 2 8 9 8s10-3 9-8c-1-5-5-8-9-8z" fill="currentColor"/>
                <!-- Pointed tip on right -->
                <path d="M21 12c1-1 2-.5 2 0s-1 1-2 0z" fill="currentColor"/>
                <!-- Leaf -->
                <path d="M11 4c-1-2 1-3 3-2s2 2 0 3c-1 0-2 0-3-1z" fill="currentColor" opacity="0.7"/>
            </symbol>

            <!-- Property Damage - house with fire/damage -->
            <symbol id="icon-property" viewBox="0 0 24 24">
                <!-- House outline -->
                <path d="M12 3L2 12h3v8h14v-8h3L12 3zm6 16H6v-7.81l6-5.4 6 5.4V19z" fill="currentColor"/>
                <!-- Fire flames -->
                <path d="M10 14c0 1.5.5 2.5 1.5 3 .3-1 .5-1.5 1-2 .3.8.5 1.5.5 2 1-.5 1.5-1.5 1.5-3 0-2-1.5-3-2.5-4-1 1-2 2-2 4z" fill="currentColor" opacity="0.7"/>
                <!-- Water drops -->
                <ellipse cx="8" cy="16" rx="1" ry="1.5" fill="currentColor" opacity="0.5"/>
                <ellipse cx="16" cy="17" rx="1" ry="1.5" fill="currentColor" opacity="0.5"/>
            </symbol>

            <!-- Question/Other -->
            <symbol id="icon-question" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" fill="currentColor"/>
            </symbol>

            <!-- Money/No Fees -->
            <symbol id="icon-money" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z" fill="currentColor"/>
            </symbol>

            <!-- Clock/Time -->
            <symbol id="icon-clock" viewBox="0 0 24 24">
                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" fill="currentColor"/>
            </symbol>

            <!-- Handshake/Trust -->
            <symbol id="icon-handshake" viewBox="0 0 24 24">
                <path d="M12.22 19.85c-.18.18-.5.21-.71 0L6.5 14.84a.996.996 0 010-1.41l5.01-5.01c.18-.18.44-.29.71-.29h4.59c.55 0 1 .45 1 1v4.59c0 .27-.11.52-.29.71l-5.3 5.42zM8.5 9.5L3.21 14.79c-.39.39-.39 1.02 0 1.41l2.59 2.59c.39.39 1.02.39 1.41 0L12 14l-3.5-4.5zm7 0l2.79-2.79c.39-.39.39-1.02 0-1.41l-2.59-2.59c-.39-.39-1.02-.39-1.41 0L12 5l3.5 4.5z" fill="currentColor"/>
            </symbol>

            <!-- Phone -->
            <symbol id="icon-phone" viewBox="0 0 24 24">
                <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" fill="currentColor"/>
            </symbol>

            <!-- Chat -->
            <symbol id="icon-chat" viewBox="0 0 24 24">
                <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17L4 17.17V4h16v12z" fill="currentColor"/>
                <path d="M7 9h10v2H7zm0-3h10v2H7z" fill="currentColor"/>
            </symbol>

            <!-- Book/Guide -->
            <symbol id="icon-book" viewBox="0 0 24 24">
                <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z" fill="currentColor"/>
            </symbol>

            <!-- Location/Track -->
            <symbol id="icon-location" viewBox="0 0 24 24">
                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="currentColor"/>
            </symbol>

            <!-- Checkmark -->
            <symbol id="icon-check" viewBox="0 0 24 24">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" fill="currentColor"/>
            </symbol>

            <!-- Calendar -->
            <symbol id="icon-calendar" viewBox="0 0 24 24">
                <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z" fill="currentColor"/>
            </symbol>

            <!-- Hospital/Serious -->
            <symbol id="icon-hospital" viewBox="0 0 24 24">
                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z" fill="currentColor"/>
            </symbol>

            <!-- Bandage/Minor -->
            <symbol id="icon-bandage" viewBox="0 0 24 24">
                <path d="M17.73 12.02l3.98-3.98c.39-.39.39-1.02 0-1.41l-4.34-4.34c-.39-.39-1.02-.39-1.41 0l-3.98 3.98L8 2.29C7.8 2.1 7.55 2 7.29 2c-.25 0-.51.1-.7.29L2.25 6.63c-.39.39-.39 1.02 0 1.41l3.98 3.98L2.25 16c-.39.39-.39 1.02 0 1.41l4.34 4.34c.39.39 1.02.39 1.41 0l3.98-3.98 3.98 3.98c.2.2.45.29.71.29.26 0 .51-.1.71-.29l4.34-4.34c.39-.39.39-1.02 0-1.41l-3.99-3.98zM12 9c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-4.71 1.96L3.66 7.34l3.63-3.63 3.62 3.62-3.62 3.63zM10 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2.66 9.34l-3.63-3.62 3.63-3.63 3.62 3.62-3.62 3.63z" fill="currentColor"/>
            </symbol>

            <!-- Thinking/Unsure -->
            <symbol id="icon-thinking" viewBox="0 0 24 24">
                <circle cx="15.5" cy="9.5" r="1.5" fill="currentColor"/>
                <circle cx="8.5" cy="9.5" r="1.5" fill="currentColor"/>
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z" fill="currentColor"/>
            </symbol>

            <!-- Hand/Stop -->
            <symbol id="icon-hand" viewBox="0 0 24 24">
                <path d="M10.5 13H8v-3h2.5V7.5h3V10H16v3h-2.5v2.5h-3V13zM12 2L4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3z" fill="currentColor"/>
            </symbol>

            <!-- Document/File -->
            <symbol id="icon-document" viewBox="0 0 24 24">
                <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" fill="currentColor"/>
            </symbol>

            <!-- X/Denied -->
            <symbol id="icon-denied" viewBox="0 0 24 24">
                <path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z" fill="currentColor"/>
            </symbol>

            <!-- Low Offer -->
            <symbol id="icon-lowball" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
            </symbol>

            <!-- Building/Office -->
            <symbol id="icon-building" viewBox="0 0 24 24">
                <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z" fill="currentColor"/>
            </symbol>

            <!-- Clock/Hours -->
            <symbol id="icon-hours" viewBox="0 0 24 24">
                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="currentColor"/>
                <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z" fill="currentColor"/>
            </symbol>

            <!-- Lightning/Fast -->
            <symbol id="icon-lightning" viewBox="0 0 24 24">
                <path d="M7 2v11h3v9l7-12h-4l4-8z" fill="currentColor"/>
            </symbol>

            <!-- Sleek Bolt (from shield logo) -->
            <symbol id="bolt-sleek" viewBox="0 0 24 24">
                <path d="M13 2L6 13h5l-2 9 9-12h-6l4-8z" fill="currentColor"/>
            </symbol>

            <!-- Family -->
            <symbol id="icon-family" viewBox="0 0 24 24">
                <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2.01 2.01 0 0018.06 7h-.12c-.78 0-1.49.46-1.82 1.17L14 13h-4l-2.12-4.83A2.01 2.01 0 006.06 7h-.12c-.78 0-1.49.46-1.82 1.17L1.5 16H4v6h4v-6h2v6h4v-6h2v6h4zM6 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2z" fill="currentColor"/>
            </symbol>

            <!-- Gavel/Legal -->
            <symbol id="icon-gavel" viewBox="0 0 24 24">
                <path d="M1 21h12v2H1v-2zM5.24 8.07l2.83-2.83 14.14 14.14-2.83 2.83L5.24 8.07zM12.32 1l5.66 5.66-2.83 2.83-5.66-5.66L12.32 1zM3.83 9.48l5.66 5.66-2.83 2.83L1 12.31l2.83-2.83z" fill="currentColor"/>
            </symbol>

            <!-- Work/Employment -->
            <symbol id="icon-work" viewBox="0 0 24 24">
                <path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z" fill="currentColor"/>
            </symbol>

            <!-- Home/Real Estate -->
            <symbol id="icon-home" viewBox="0 0 24 24">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" fill="currentColor"/>
            </symbol>

            <!-- Arrow Right -->
            <symbol id="icon-arrow-right" viewBox="0 0 24 24">
                <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" fill="currentColor"/>
            </symbol>

            <!-- Chevron Right -->
            <symbol id="icon-chevron" viewBox="0 0 24 24">
                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" fill="currentColor"/>
            </symbol>

            <!-- Star/Top -->
            <symbol id="icon-star" viewBox="0 0 24 24">
                <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" fill="currentColor"/>
            </symbol>

            <!-- Alarm/Deadline -->
            <symbol id="icon-alarm" viewBox="0 0 24 24">
                <path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" fill="currentColor"/>
            </symbol>

            <!-- User/Account -->
            <symbol id="icon-user" viewBox="0 0 24 24">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="currentColor"/>
            </symbol>

            <!-- Checkmark Circle -->
            <symbol id="icon-check-circle" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
            </symbol>

            <!-- Briefcase/Case -->
            <symbol id="icon-briefcase" viewBox="0 0 24 24">
                <path d="M20 7h-4V5c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5z" fill="currentColor"/>
            </symbol>

            <!-- Lock/Security -->
            <symbol id="icon-lock" viewBox="0 0 24 24">
                <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" fill="currentColor"/>
            </symbol>

            <!-- Upload/Cloud -->
            <symbol id="icon-upload" viewBox="0 0 24 24">
                <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" fill="currentColor"/>
            </symbol>

            <!-- Bell/Notification -->
            <symbol id="icon-bell" viewBox="0 0 24 24">
                <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z" fill="currentColor"/>
            </symbol>

            <!-- Share -->
            <symbol id="icon-share" viewBox="0 0 24 24">
                <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" fill="currentColor"/>
            </symbol>

            <!-- Message/SMS -->
            <symbol id="icon-sms" viewBox="0 0 24 24">
                <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-9 9H9V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z" fill="currentColor"/>
            </symbol>

            <!-- Email -->
            <symbol id="icon-email" viewBox="0 0 24 24">
                <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" fill="currentColor"/>
            </symbol>

            <!-- Thumbs Up -->
            <symbol id="icon-thumbup" viewBox="0 0 24 24">
                <path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z" fill="currentColor"/>
            </symbol>

            <!-- Image/Photo -->
            <symbol id="icon-image" viewBox="0 0 24 24">
                <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" fill="currentColor"/>
            </symbol>

            <!-- Chevron Down -->
            <symbol id="icon-chevron-down" viewBox="0 0 24 24">
                <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z" fill="currentColor"/>
            </symbol>
        </defs>
    </svg>

    <div class="header">
        <h1 style="display: flex; align-items: center; justify-content: center; gap: 12px;">
            <svg class="claimit-logo-icon" style="width: 48px; height: 48px;"><use href="#logo-mark"/></svg>
            Claim<span style="color: var(--brand-gold);">It</span>
        </h1>
        <p>Get What You Deserve</p>
    </div>

    <div class="instructions">
        <span>üëÜ Tap tabs</span> to navigate ‚Ä¢ <span>üìñ Tap guides</span> to read content
    </div>

    <!-- Device Toggle -->
    <div class="device-toggle">
        <div class="device-toggle-container">
            <button class="device-toggle-btn active" id="toggle-iphone" onclick="switchDevice('iphone')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="5" y="2" width="14" height="20" rx="3"/>
                    <line x1="12" y1="18" x2="12" y2="18"/>
                </svg>
                iPhone
            </button>
            <button class="device-toggle-btn" id="toggle-ipad" onclick="switchDevice('ipad')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="3" width="20" height="18" rx="2"/>
                    <circle cx="12" cy="17" r="1"/>
                </svg>
                iPad
            </button>
        </div>
        <div class="device-toggle-container" style="margin-left: 16px;">
            <button class="device-toggle-btn active" id="toggle-light" onclick="toggleTheme('light')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"/>
                    <line x1="12" y1="1" x2="12" y2="3"/>
                    <line x1="12" y1="21" x2="12" y2="23"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                    <line x1="1" y1="12" x2="3" y2="12"/>
                    <line x1="21" y1="12" x2="23" y2="12"/>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                </svg>
                Light
            </button>
            <button class="device-toggle-btn" id="toggle-dark" onclick="toggleTheme('dark')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
                Dark
            </button>
        </div>
    </div>

    <div class="device-frame" id="device-frame">
        <div class="device-screen">
            <div class="dynamic-island"></div>

            <!-- ONBOARDING OVERLAY -->
            <div class="onboarding-overlay" id="onboarding">
                <!-- Screen 2: Trust & Value (Welcome) -->
                <div class="onboarding-screen" id="onboarding-1">
                    <div class="onboarding-logo">
                        <svg class="logo-icon" style="width: 56px; height: 56px;"><use href="#logo-mark"/></svg>
                        <h1>Claim<span style="color: var(--brand-gold);">It</span></h1>
                        <div class="tagline">Your Fight. Our Fury.</div>
                    </div>

                    <div class="onboarding-content">
                        <div class="trust-badges">
                            <div class="trust-badge">
                                <span class="value">$50M+</span>
                                <span class="label">Recovered</span>
                            </div>
                            <div class="trust-badge">
                                <span class="value">5000+</span>
                                <span class="label">Cases Won</span>
                            </div>
                            <div class="trust-badge">
                                <span class="value">98%</span>
                                <span class="label">Success</span>
                            </div>
                        </div>

                        <div class="value-props">
                            <div class="value-prop">
                                <div class="value-prop-icon"><svg style="width: 22px; height: 22px; color: white;"><use href="#icon-money"/></svg></div>
                                <div class="value-prop-text">$0 upfront. We only get paid when you do.</div>
                            </div>
                            <div class="value-prop">
                                <div class="value-prop-icon"><svg style="width: 22px; height: 22px; color: white;"><use href="#icon-clock"/></svg></div>
                                <div class="value-prop-text">90-second claim check ‚Äî no paperwork</div>
                            </div>
                            <div class="value-prop">
                                <div class="value-prop-icon"><svg style="width: 22px; height: 22px; color: white;"><use href="#icon-shield"/></svg></div>
                                <div class="value-prop-text">Aggressive attorneys who've recovered $50M+</div>
                            </div>
                        </div>
                    </div>

                    <div class="onboarding-cta">
                        <div class="onboarding-dots">
                            <div class="dot"></div>
                            <div class="dot active"></div>
                            <div class="dot"></div>
                        </div>
                        <button class="btn-onboarding" onclick="nextOnboarding()">
                            Check If You Qualify <svg style="width: 20px; height: 20px; color: var(--primary);"><use href="#icon-arrow-right"/></svg>
                        </button>
                        <div class="skip-link">
                            <a href="#" onclick="skipOnboarding(); return false;">I'll explore first</a>
                        </div>
                    </div>
                </div>

                <!-- Screen 3: Quick Quiz Start -->
                <div class="onboarding-screen" id="onboarding-2">
                    <div class="onboarding-logo" style="margin-bottom: 8px;">
                        <svg style="width: 40px; height: 40px;"><use href="#logo-mark"/></svg>
                    </div>

                    <div class="onboarding-question">
                        <h2>What happened to you?</h2>
                        <p>Select to start your free case review</p>
                    </div>

                    <div class="onboarding-content" style="justify-content: flex-start;">
                        <div class="onboarding-options">
                            <div class="onboarding-option" onclick="selectOnboardingOption(this, 'car-accident')">
                                <span class="icon"><svg style="width: 32px; height: 32px; color: #0066FF;"><use href="#icon-car"/></svg></span>
                                <span class="label">Car Accident</span>
                            </div>
                            <div class="onboarding-option" onclick="selectOnboardingOption(this, 'injury')">
                                <span class="icon"><svg style="width: 32px; height: 32px; color: #0066FF;"><use href="#icon-injury"/></svg></span>
                                <span class="label">I Was Injured</span>
                            </div>
                            <div class="onboarding-option" onclick="selectOnboardingOption(this, 'slip-fall')">
                                <span class="icon"><svg style="width: 32px; height: 32px; color: #0066FF;"><use href="#icon-fall"/></svg></span>
                                <span class="label">Slip & Fall</span>
                            </div>
                            <div class="onboarding-option" onclick="selectOnboardingOption(this, 'insurance')">
                                <span class="icon"><svg style="width: 32px; height: 32px; color: #0066FF;"><use href="#icon-shield"/></svg></span>
                                <span class="label">Insurance Issue</span>
                            </div>
                            <div class="onboarding-option" onclick="selectOnboardingOption(this, 'lemon')">
                                <span class="icon"><svg style="width: 32px; height: 32px; color: #0066FF;"><use href="#icon-lemon"/></svg></span>
                                <span class="label">Lemon Vehicle</span>
                            </div>
                            <div class="onboarding-option" onclick="selectOnboardingOption(this, 'property')">
                                <span class="icon"><svg style="width: 32px; height: 32px; color: #0066FF;"><use href="#icon-property"/></svg></span>
                                <span class="label">Property Damage</span>
                            </div>
                            <div class="onboarding-option full-width" onclick="selectOnboardingOption(this, 'other')">
                                <span class="icon"><svg style="width: 28px; height: 28px; color: #0066FF;"><use href="#icon-question"/></svg></span>
                                <span class="label">Something Else</span>
                            </div>
                        </div>
                    </div>

                    <div class="onboarding-cta">
                        <div class="onboarding-dots">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot active"></div>
                        </div>
                        <button class="btn-onboarding accent" id="onboarding-continue-btn" onclick="completeOnboardingWithConsent()" style="opacity: 0.5; pointer-events: none;">
                            Calculate My Compensation
                        </button>
                        <div class="skip-link">
                            <a href="#" onclick="skipOnboarding(); return false;">Skip for now</a>
                        </div>
                    </div>
                </div>

                <!-- Screen 1: Consent & Agreement (FIRST SCREEN) -->
                <!-- Screen 1: Legal Agreement (Scroll-to-Accept) -->
                <div class="onboarding-screen active" id="onboarding-3">
                    <div class="legal-agreement-screen">
                        <div class="legal-agreement-header">
                            <h2>User Agreement</h2>
                            <p>Please review and scroll to continue</p>
                        </div>

                        <div class="legal-agreement-content" id="legal-scroll-container" onscroll="checkLegalScroll()">
                            <h3>Terms of Service</h3>
                            <p><strong>Effective Date:</strong> February 2, 2025</p>
                            <p>Welcome to ClaimIt, operated by Kitsinian Law Firm, APC. By using this application, you agree to these terms.</p>

                            <h4>No Attorney-Client Relationship</h4>
                            <p>Using this app does not create an attorney-client relationship. Such a relationship only forms when you sign a written retainer agreement with an attorney.</p>

                            <h4>No Legal Advice</h4>
                            <p>Information provided through this app is for general informational purposes only and should not be construed as legal advice. For advice specific to your situation, consult a licensed attorney.</p>

                            <h4>No Guarantees</h4>
                            <p>Past results do not guarantee future outcomes. All statistics and success rates represent historical data only and vary based on individual circumstances.</p>

                            <h4>Fee Arrangements</h4>
                            <p>"No Fee Unless We Win" means no attorney's fees unless we recover compensation for you. However, you may still be responsible for case costs including filing fees, expert witness fees, and other litigation expenses.</p>

                            <h4>Eligibility</h4>
                            <p>You must be 18 years of age or older to use this application.</p>

                            <h3>Privacy Policy</h3>
                            <p><strong>Effective Date:</strong> February 2, 2025</p>
                            <p>Kitsinian Law Firm, APC ("we," "us," or "our") operates the ClaimIt mobile application. This Privacy Policy explains how we collect, use, disclose, and protect your information.</p>

                            <h4>Information We Collect</h4>
                            <ul>
                                <li><strong>Contact Information:</strong> Name, phone number, email address</li>
                                <li><strong>Case Information:</strong> Details about your legal matter, including descriptions, dates, and circumstances</li>
                                <li><strong>Device Information:</strong> Device type, operating system, and app usage data</li>
                                <li><strong>Evidence Data:</strong> Photos, voice recordings, and documents you choose to capture or upload</li>
                            </ul>

                            <h4>How We Use Your Information</h4>
                            <ul>
                                <li>To evaluate your potential legal case</li>
                                <li>To contact you regarding your inquiry</li>
                                <li>To match you with appropriate legal representation</li>
                                <li>To improve our services and user experience</li>
                            </ul>

                            <h4>Information Sharing</h4>
                            <p>We do not sell your personal information. We may share your information with:</p>
                            <ul>
                                <li>Attorneys in our referral network (with your consent)</li>
                                <li>Service providers who assist our operations</li>
                                <li>Law enforcement or government agencies as required by law</li>
                            </ul>

                            <h4>California Privacy Rights (CCPA)</h4>
                            <p>California residents have the right to:</p>
                            <ul>
                                <li>Know what personal data we collect about you</li>
                                <li>Request deletion of your personal data</li>
                                <li>Opt-out of the sale of personal data (we do not sell your data)</li>
                                <li>Exercise these rights without discrimination</li>
                            </ul>
                            <p>Contact: privacy@claimit.com</p>

                            <h3>Legal Disclaimers</h3>

                            <h4>Attorney Advertising</h4>
                            <p>This application constitutes attorney advertising. Kitsinian Law Firm, APC. Principal office located in Los Angeles, California. Licensed to practice in California state and federal courts.</p>

                            <h4>Success Rate Disclaimer</h4>
                            <p>Statistics displayed in this app represent historical data. <strong>Past results do not guarantee future outcomes.</strong> Each case is unique and evaluated on its own merits.</p>

                            <h4>Accident Mode Features</h4>
                            <p>The Accident Mode feature allows you to capture evidence following an incident. By using this feature:</p>
                            <ul>
                                <li>Photos, recordings, and data are stored locally on your device</li>
                                <li>Data is only transmitted when you explicitly choose to share it</li>
                                <li>Using Accident Mode does not create an attorney-client relationship</li>
                                <li>We may contact you regarding your captured evidence if you share it with us</li>
                            </ul>

                            <h4>Contact Information</h4>
                            <p>For questions about these terms or our practices:</p>
                            <ul>
                                <li>Email: legal@claimit.com</li>
                                <li>Privacy inquiries: privacy@claimit.com</li>
                            </ul>

                            <h3>Consent to Attorney Contact</h3>
                            <p><strong>California Rule of Professional Conduct 7.3</strong></p>
                            <p>By using this application and providing your contact information, you expressly consent to be contacted by Kitsinian Law Firm, APC, and/or attorneys in our referral network regarding your potential legal matter.</p>

                            <h4>You Consent to the Following:</h4>
                            <ul>
                                <li><strong>Direct Contact:</strong> You consent to receive telephone calls, text messages, and/or emails regarding your legal inquiry, even if your number is on a Do Not Call registry.</li>
                                <li><strong>Written Solicitation:</strong> You understand that this communication constitutes a written solicitation of professional employment pursuant to California Rules of Professional Conduct Rule 7.3.</li>
                                <li><strong>Attorney Advertising:</strong> You acknowledge that this application and all communications from Kitsinian Law Firm, APC constitute attorney advertising.</li>
                                <li><strong>Referral Network:</strong> If your case is outside our practice areas, you consent to having your information shared with qualified attorneys in our referral network who may contact you.</li>
                            </ul>

                            <h4>Your Rights</h4>
                            <ul>
                                <li>You may withdraw consent at any time by contacting us at optout@claimit.com</li>
                                <li>Withdrawing consent does not affect any attorney-client relationship already established</li>
                                <li>You are under no obligation to hire any attorney who contacts you</li>
                            </ul>

                            <div class="legal-agreement-scroll-end" id="legal-scroll-end">
                                <p>‚Äî End of Agreement ‚Äî</p>
                            </div>
                        </div>

                        <div class="legal-agreement-footer">
                            <div class="scroll-indicator" id="scroll-indicator">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 5v14M5 12l7 7 7-7"/>
                                </svg>
                                <span>Scroll down to continue</span>
                            </div>

                            <button class="btn-agree" id="btn-agree-continue" onclick="proceedFromConsent()" disabled>
                                I Have Read and Agree
                            </button>
                            <div class="legal-ad-notice">
                                ADVERTISEMENT: Kitsinian Law Firm, APC, Los Angeles, CA
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="status-bar light" id="status-bar">
                <span>9:41</span>
                <div class="status-right">
                    <button class="signin-btn" id="signin-btn" onclick="toggleSignIn()">
                        <svg><use href="#icon-user"/></svg>
                    </button>
                    <span class="status-icons">
                        <svg style="width:17px;height:10px" viewBox="0 0 17 10"><path fill="currentColor" d="M1 6h2v4H1V6zm4-2h2v6H5V4zm4-2h2v8H9V2zm4-2h2v10h-2V0z"/></svg>
                        <svg style="width:15px;height:10px" viewBox="0 0 15 10"><path fill="currentColor" d="M7.5 2.5a7 7 0 0 1 5 2.1l-1.4 1.4a5 5 0 0 0-7.2 0L2.5 4.6a7 7 0 0 1 5-2.1zM7.5 6a4 4 0 0 1 2.8 1.2L7.5 10 4.7 7.2A4 4 0 0 1 7.5 6z"/></svg>
                        <svg style="width:25px;height:10px" viewBox="0 0 25 10"><rect x="0" y="1" width="21" height="8" rx="2" stroke="currentColor" fill="none"/><rect x="2" y="3" width="16" height="4" rx="1" fill="currentColor"/><path fill="currentColor" d="M23 4v2a1 1 0 0 0 0-2z"/></svg>
                    </span>
                </div>
            </div>

            <!-- Confetti Canvas -->
            <canvas id="confetti-canvas"></canvas>

            <!-- Achievement Popup -->
            <div class="achievement-popup" id="achievementPopup">
                <div class="achievement-badge">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 15l-2 5l9-13h-7l2-5l-9 13h7z"/>
                    </svg>
                </div>
                <h3 id="achievementTitle">Claim Started!</h3>
                <p id="achievementDesc">You've taken the first step toward justice.</p>
                <button class="achievement-dismiss" onclick="hideAchievement()">Continue</button>
            </div>

            <!-- Toast Container -->
            <div class="toast-container" id="toastContainer" role="status" aria-live="polite" aria-atomic="true">
                <div class="toast" id="toast">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                    <span id="toastMessage">Success!</span>
                </div>
            </div>

            <div class="screen-container" id="main-content" role="main">
                <!-- HOME SCREEN -->
                <div class="screen home-screen active" id="screen-home">
                    <div class="hero">
                        <div class="hero-logo">
                            <svg style="width: 44px; height: 44px;"><use href="#logo-mark"/></svg>
                            <span class="hero-logo-text">Claim<span class="highlight">It</span></span>
                        </div>
                        <h1>Hurt in an Accident?<br>Get Paid.</h1>
                        <p>The bills are piling up. The insurance company won't call back. We can help.</p>
                        <div class="stats-row">
                            <div class="stat"><div class="stat-value">$50M+</div><div class="stat-label">Recovered</div></div>
                            <div class="stat"><div class="stat-value">5000+</div><div class="stat-label">Cases</div></div>
                            <div class="stat" onclick="showLegalDisclaimer()"><div class="stat-value">98%</div><div class="stat-label">Success</div><div class="stat-disclaimer">*Results vary</div></div>
                        </div>
                    </div>

                    <div class="glass-card">
                        <button class="btn-primary pulse" onclick="switchTab('claim')">
                            <svg class="btn-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M13 2L4.5 14H11L10 22L18.5 10H12L13 2Z" fill="white" stroke="white" stroke-width="1.5" stroke-linejoin="round"/>
                            </svg>
                            <span class="btn-text">Get My Free Case Review</span>
                        </button>
                        <div class="cta-subtext">$0 upfront ‚Ä¢ No obligation ‚Ä¢ 100% confidential</div>
                    </div>

                    <!-- Trust Seals -->
                    <div class="trust-seals">
                        <div class="trust-seal" role="button" tabindex="0">
                            <div class="seal-icon verified">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                                    <polyline points="9 12 12 15 16 10"/>
                                </svg>
                                <div class="seal-check">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                                </div>
                            </div>
                            <h5>Verified</h5>
                            <p>CA Attorneys</p>
                        </div>
                        <div class="trust-seal" role="button" tabindex="0">
                            <div class="seal-icon secure">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                </svg>
                                <div class="seal-check">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                                </div>
                            </div>
                            <h5>256-bit SSL</h5>
                            <p>Encrypted</p>
                        </div>
                        <div class="trust-seal" role="button" tabindex="0">
                            <div class="seal-icon licensed">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                    <polyline points="14 2 14 8 20 8"/>
                                    <path d="M9 15l2 2 4-4"/>
                                </svg>
                                <div class="seal-check">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                                </div>
                            </div>
                            <h5>Bar Compliant</h5>
                            <p>Ethical</p>
                        </div>
                    </div>

                    <!-- Social Proof Feed -->
                    <div class="social-proof-feed">
                        <div class="social-proof-header">
                            <div class="live-dot"></div>
                            <span>Live Activity</span>
                        </div>
                        <div id="proofFeed"></div>
                    </div>

                    <!-- How It Works Section -->
                    <div class="how-it-works">
                        <div class="how-it-works-header">
                            <h3>How It Works</h3>
                            <p>Get help in 3 simple steps</p>
                        </div>
                        <div class="how-it-works-steps">
                            <div class="how-step">
                                <div class="how-step-number"><svg><use href="#icon-document"/></svg></div>
                                <h4>Tell Us</h4>
                                <p>90 seconds, no paperwork</p>
                            </div>
                            <div class="how-step">
                                <div class="how-step-number"><svg><use href="#icon-phone"/></svg></div>
                                <h4>We Call</h4>
                                <p>A real attorney calls you back</p>
                            </div>
                            <div class="how-step">
                                <div class="how-step-number"><svg><use href="#icon-shield"/></svg></div>
                                <h4>We Win</h4>
                                <p>We fight until you get paid</p>
                            </div>
                        </div>
                    </div>

                    <div class="section-header">
                        <span class="section-title">Quick Actions</span>
                    </div>
                    <div class="quick-actions">
                        <div class="quick-action" onclick="switchTab('claim')" tabindex="0" role="button" aria-label="Start a new claim" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();switchTab('claim');}"><div class="quick-action-icon"><svg style="width: 26px; height: 26px; color: white;" aria-hidden="true"><use href="#icon-lightning"/></svg></div><h4>New Claim</h4><p>Start review</p></div>
                        <div class="quick-action" onclick="switchTab('learn')" tabindex="0" role="button" aria-label="View legal guides" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();switchTab('learn');}"><div class="quick-action-icon"><svg style="width: 26px; height: 26px; color: white;" aria-hidden="true"><use href="#icon-book"/></svg></div><h4>Guides</h4><p>Free resources</p></div>
                        <div class="quick-action" onclick="switchTab('account')" tabindex="0" role="button" aria-label="View my cases" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();switchTab('account');}"><div class="quick-action-icon"><svg style="width: 26px; height: 26px; color: white;" aria-hidden="true"><use href="#icon-briefcase"/></svg></div><h4>My Cases</h4><p>Track status</p></div>
                    </div>

                    <div class="section-header">
                        <span class="section-title">We Fight For</span>
                        <span class="section-link" onclick="switchTab('learn')" role="button" tabindex="0">See All <svg style="width: 12px; height: 12px;"><use href="#icon-chevron"/></svg></span>
                    </div>

                    <div class="practice-cards-container">
                        <div class="practice-card" onclick="showArticle('pa-personal-injury')" tabindex="0" role="button" aria-label="Learn about Personal Injury cases" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();showArticle('pa-personal-injury');}"><div class="practice-icon"><svg style="width: 28px; height: 28px; color: white;" aria-hidden="true"><use href="#icon-injury"/></svg></div><div class="practice-info"><h4>Personal Injury <span class="badge-primary"><svg style="width: 10px; height: 10px; color: white;" aria-hidden="true"><use href="#icon-star"/></svg> Top</span></h4><p>Accidents, negligence, pain & suffering</p></div><span class="chevron" aria-hidden="true"><svg style="width: 18px; height: 18px;"><use href="#icon-chevron"/></svg></span></div>
                        <div class="practice-card" onclick="showArticle('pa-premises-liability')" tabindex="0" role="button" aria-label="Learn about Premises Liability cases" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();showArticle('pa-premises-liability');}"><div class="practice-icon"><svg style="width: 28px; height: 28px; color: white;" aria-hidden="true"><use href="#icon-building"/></svg></div><div class="practice-info"><h4>Premises Liability</h4><p>Slip & fall, unsafe properties</p></div><span class="chevron" aria-hidden="true"><svg style="width: 18px; height: 18px;"><use href="#icon-chevron"/></svg></span></div>
                        <div class="practice-card" onclick="showArticle('pa-property-damage')" tabindex="0" role="button" aria-label="Learn about Property Damage cases" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();showArticle('pa-property-damage');}"><div class="practice-icon"><svg style="width: 28px; height: 28px; color: white;" aria-hidden="true"><use href="#icon-property"/></svg></div><div class="practice-info"><h4>Property Damage</h4><p>Fire, water, theft, vehicle damage</p></div><span class="chevron" aria-hidden="true"><svg style="width: 18px; height: 18px;"><use href="#icon-chevron"/></svg></span></div>
                        <div class="practice-card" onclick="showArticle('pa-insurance-bad-faith')" tabindex="0" role="button" aria-label="Learn about Insurance Bad Faith cases" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();showArticle('pa-insurance-bad-faith');}"><div class="practice-icon"><svg style="width: 28px; height: 28px; color: white;" aria-hidden="true"><use href="#icon-shield"/></svg></div><div class="practice-info"><h4>Insurance Bad Faith</h4><p>Denied claims, lowball offers</p></div><span class="chevron" aria-hidden="true"><svg style="width: 18px; height: 18px;"><use href="#icon-chevron"/></svg></span></div>
                        <div class="practice-card" onclick="showArticle('pa-lemon-law')" tabindex="0" role="button" aria-label="Learn about Lemon Law cases" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();showArticle('pa-lemon-law');}"><div class="practice-icon"><svg style="width: 28px; height: 28px; color: white;" aria-hidden="true"><use href="#icon-lemon"/></svg></div><div class="practice-info"><h4>Lemon Law</h4><p>Defective vehicles, buybacks</p></div><span class="chevron" aria-hidden="true"><svg style="width: 18px; height: 18px;"><use href="#icon-chevron"/></svg></span></div>
                    </div>

                    <div class="section-header">
                        <span class="section-title">Referral Network</span>
                        <span class="section-link" onclick="switchTab('learn')" role="button" tabindex="0">See All <svg style="width: 12px; height: 12px;"><use href="#icon-chevron"/></svg></span>
                    </div>

                    <div class="referral-scroll">
                        <div class="referral-card" onclick="showReferralInfo('Family Law')"><div class="referral-icon"><svg style="width: 24px; height: 24px; color: white;"><use href="#icon-family"/></svg></div><h4>Family Law</h4></div>
                        <div class="referral-card" onclick="showReferralInfo('Criminal Defense')"><div class="referral-icon"><svg style="width: 24px; height: 24px; color: white;"><use href="#icon-gavel"/></svg></div><h4>Criminal</h4></div>
                        <div class="referral-card" onclick="showReferralInfo('Employment Law')"><div class="referral-icon"><svg style="width: 24px; height: 24px; color: white;"><use href="#icon-work"/></svg></div><h4>Employment</h4></div>
                        <div class="referral-card" onclick="showReferralInfo('Real Estate Law')"><div class="referral-icon"><svg style="width: 24px; height: 24px; color: white;"><use href="#icon-home"/></svg></div><h4>Real Estate</h4></div>
                    </div>

                    <!-- FAQ Section -->
                    <div class="faq-section">
                        <h3>Common Questions</h3>
                        <div class="faq-item" onclick="toggleFaq(this)">
                            <div class="faq-question">
                                <span>Do I have to pay anything upfront?</span>
                                <div class="faq-toggle"><svg style="width: 16px; height: 16px;"><use href="#icon-chevron-down"/></svg></div>
                            </div>
                            <div class="faq-answer">
                                <p><strong>Absolutely not.</strong> We work on contingency ‚Äî meaning we only get paid if YOU get paid. If we don't win, you owe us nothing. Zero.</p>
                            </div>
                        </div>
                        <div class="faq-item" onclick="toggleFaq(this)">
                            <div class="faq-question">
                                <span>How long does this take?</span>
                                <div class="faq-toggle"><svg style="width: 16px; height: 16px;"><use href="#icon-chevron-down"/></svg></div>
                            </div>
                            <div class="faq-answer">
                                <p>The claim check takes <strong>90 seconds</strong>. A real attorney (not a call center) will call you within 24 hours ‚Äî usually much faster.</p>
                            </div>
                        </div>
                        <div class="faq-item" onclick="toggleFaq(this)">
                            <div class="faq-question">
                                <span>Is my information private?</span>
                                <div class="faq-toggle"><svg style="width: 16px; height: 16px;"><use href="#icon-chevron-down"/></svg></div>
                            </div>
                            <div class="faq-answer">
                                <p><strong>Yes.</strong> Everything you share is protected by attorney-client privilege and 256-bit encryption. We never sell your information.</p>
                            </div>
                        </div>
                        <div class="faq-item" onclick="toggleFaq(this)">
                            <div class="faq-question">
                                <span>What if I'm not sure I have a case?</span>
                                <div class="faq-toggle"><svg style="width: 16px; height: 16px;"><use href="#icon-chevron-down"/></svg></div>
                            </div>
                            <div class="faq-answer">
                                <p>That's perfectly okay! Our free consultation exists to help you find out. There's no obligation - we'll honestly tell you if we can help.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Legal Footer -->
                    <div class="legal-footer">
                        <p>¬© 2025 Kitsinian Law Firm, APC. This is attorney advertising. Results vary based on individual circumstances. Using this app does not create an attorney-client relationship.</p>
                        <div class="legal-footer-links">
                            <a href="#" onclick="showPrivacyModal(); return false;">Privacy Policy</a>
                            <a href="#" onclick="showTermsModal(); return false;">Terms of Service</a>
                            <a href="#" onclick="showLegalDisclaimer(); return false;">Disclaimers</a>
                            <a href="#" onclick="showPrivacyModal(); return false;">Do Not Sell My Info</a>
                        </div>
                        <div class="powered-by">
                            <span>Powered by</span>
                            <img src="klf-logo.png" alt="Kitsinian Law Firm, APC">
                        </div>
                    </div>

                    <div class="spacer"></div>
                </div>

                <!-- CLAIM SCREEN -->
                <div class="screen claim-screen" id="screen-claim">
                    <div class="progress-container">
                        <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
                        <div class="progress-info">
                            <span class="progress-text" id="progress-text">Step 1 of 4</span>
                            <span class="progress-time"><svg style="width: 12px; height: 12px;"><use href="#icon-clock"/></svg> ~90 seconds</span>
                        </div>
                    </div>

                    <!-- Step 1: What happened -->
                    <div class="quiz-step active" id="quiz-step-1">
                        <div class="question-container">
                            <div class="question-text">What happened to you?</div>
                            <div class="question-subtext">Select the option that best describes your situation</div>
                            <div class="quiz-option" onclick="selectCaseType(this, 'car-accident')"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-car"/></svg></div><span>Car or vehicle accident</span></div>
                            <div class="quiz-option" onclick="selectCaseType(this, 'injury')"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-injury"/></svg></div><span>I was injured</span></div>
                            <div class="quiz-option" onclick="selectCaseType(this, 'slip-fall')"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-fall"/></svg></div><span>Slip, trip, or fall</span></div>
                            <div class="quiz-option" onclick="selectCaseType(this, 'insurance')"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-shield"/></svg></div><span>Insurance dispute</span></div>
                            <div class="quiz-option" onclick="selectCaseType(this, 'lemon')"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-lemon"/></svg></div><span>Defective vehicle (Lemon)</span></div>
                            <div class="quiz-option" onclick="selectCaseType(this, 'property')"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-property"/></svg></div><span>Property was damaged</span></div>
                            <div class="quiz-option" onclick="selectCaseType(this, 'other')"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-question"/></svg></div><span>Something else</span></div>
                        </div>
                    </div>

                    <!-- Step 2: Dynamic - Details based on case type -->
                    <div class="quiz-step" id="quiz-step-2">
                        <div class="question-container">
                            <button class="quiz-back-btn" onclick="goToStep(1)">Back</button>
                            <div class="question-text" id="step2-question">Tell us more</div>
                            <div class="question-subtext" id="step2-subtext">Select the option that applies</div>
                            <div id="step2-options">
                                <!-- Options populated dynamically -->
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: When did it happen -->
                    <div class="quiz-step" id="quiz-step-3">
                        <div class="question-container">
                            <button class="quiz-back-btn" onclick="goToStep(2)">Back</button>
                            <div class="question-text">When did this happen?</div>
                            <div class="question-subtext">California has strict deadlines. Your time to file may be running out.</div>
                            <div class="quiz-option" onclick="selectAndAdvance(this, 'recent', 4)"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-calendar"/></svg></div><span>Within the last week</span></div>
                            <div class="quiz-option" onclick="selectAndAdvance(this, '1month', 4)"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-calendar"/></svg></div><span>Within the last month</span></div>
                            <div class="quiz-option" onclick="selectAndAdvance(this, '6months', 4)"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-clock"/></svg></div><span>1-6 months ago</span></div>
                            <div class="quiz-option" onclick="selectAndAdvance(this, '1year', 4)"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-clock"/></svg></div><span>6-12 months ago</span></div>
                            <div class="quiz-option" onclick="selectAndAdvance(this, 'over1year', 4)"><div class="quiz-option-icon"><svg style="width: 26px; height: 26px; color: white;"><use href="#icon-alarm"/></svg></div><span>Over a year ago</span></div>
                        </div>
                    </div>

                    <!-- Step 4: Contact Form -->
                    <div class="quiz-step" id="quiz-step-4">
                        <div class="question-container">
                            <button class="quiz-back-btn" onclick="goToStep(3)">Back</button>
                            <div class="question-text">You're Almost There!</div>
                            <div class="question-subtext">Enter your info so our attorneys can fight for you</div>

                            <!-- Value Props -->
                            <div class="form-value-props">
                                <div class="form-value-prop"><svg><use href="#icon-check-circle"/></svg> No upfront costs</div>
                                <div class="form-value-prop"><svg><use href="#icon-check-circle"/></svg> 24-hour response</div>
                                <div class="form-value-prop"><svg><use href="#icon-check-circle"/></svg> 100% confidential</div>
                            </div>

                            <div class="form-group">
                                <div class="form-input-wrapper">
                                    <label for="lead-name" class="visually-hidden">Full Name</label>
                                    <input type="text" id="lead-name" placeholder="Your Full Name *" class="form-input" aria-label="Full Name (required)" required maxlength="100" autocomplete="name" oninput="validateInput(this, 'name')">
                                    <svg class="validation-icon"><use href="#icon-check-circle"/></svg>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-input-wrapper">
                                    <label for="lead-phone" class="visually-hidden">Phone Number</label>
                                    <input type="tel" id="lead-phone" placeholder="Phone Number *" class="form-input" aria-label="Phone Number (required)" required maxlength="14" autocomplete="tel" oninput="formatPhoneNumber(this)">
                                    <svg class="validation-icon"><use href="#icon-check-circle"/></svg>
                                </div>
                                <div class="form-hint">We'll call to discuss your case</div>
                            </div>
                            <div class="form-group">
                                <div class="form-input-wrapper">
                                    <label for="lead-email" class="visually-hidden">Email Address</label>
                                    <input type="email" id="lead-email" placeholder="Email Address" class="form-input" aria-label="Email Address" maxlength="254" autocomplete="email" oninput="validateInput(this, 'email')">
                                    <svg class="validation-icon"><use href="#icon-check-circle"/></svg>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="lead-description" class="visually-hidden">Case Description</label>
                                <textarea id="lead-description" placeholder="Tell us more for faster review (optional)..." class="form-textarea" aria-label="Case Description" maxlength="2000"></textarea>
                            </div>

                            <!-- Document Upload Area -->
                            <div class="document-upload-area" id="doc-upload-area" onclick="document.getElementById('file-input').click()">
                                <input type="file" id="file-input" multiple accept="image/*,.pdf" style="display:none" onchange="handleFileUpload(this)">
                                <svg><use href="#icon-upload"/></svg>
                                <h4>Have photos or documents?</h4>
                                <p>Tap to upload for faster review</p>
                                <div class="uploaded-files" id="uploaded-files"></div>
                            </div>
                            <div class="upload-hint">Accident photos, medical bills, police report, etc.</div>

                            <button class="btn-submit" id="submit-btn" onclick="submitLead()" aria-label="Submit for free case evaluation">
                                <span class="btn-spinner"></span>
                                <span class="btn-label">Get My Free Demand Letter ‚Äî Free</span>
                            </button>

                            <!-- Security Badges -->
                            <div class="security-badges">
                                <div class="security-badge"><svg><use href="#icon-lock"/></svg> 256-bit Encryption</div>
                                <div class="security-badge"><svg><use href="#icon-shield"/></svg> Attorney-Client Privilege</div>
                            </div>

                            <p class="form-disclaimer">By submitting, you agree to our <a href="#" onclick="showTermsModal(); return false;">Terms</a> and <a href="#" onclick="showPrivacyModal(); return false;">Privacy Policy</a>. Free consultation, no obligation.</p>

                            <div style="text-align: center;">
                                <a class="save-progress-link" onclick="showSaveProgressModal()">Save progress & continue later</a>
                            </div>
                        </div>
                    </div>

                    <!-- Step 5: Success -->
                    <div class="quiz-step" id="quiz-step-5">
                        <div class="question-container success-container">
                            <!-- Professional Success Animation -->
                            <div class="success-animation">
                                <div class="success-circle">
                                    <svg class="success-check" viewBox="0 0 24 24">
                                        <path d="M5 13l4 4L19 7" stroke="white" stroke-width="3" fill="none"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="question-text">Your Fight Has Begun!</div>
                            <div class="question-subtext">An attorney is reviewing your case right now. Expect a call within 24 hours ‚Äî but probably much sooner.</div>

                            <div class="success-card">
                                <h4>What happens next?</h4>
                                <div class="success-step"><span class="step-number">1</span><span>Our team reviews your case details</span></div>
                                <div class="success-step"><span class="step-number">2</span><span>An attorney calls to discuss your options</span></div>
                                <div class="success-step"><span class="step-number">3</span><span>We fight to get you the compensation you deserve</span></div>
                            </div>

                            <!-- Notification Preferences -->
                            <div class="post-submit-options">
                                <h4>How should we update you?</h4>
                                <div class="notification-option" onclick="toggleNotificationOption(this)" data-type="sms">
                                    <div class="notification-checkbox"><svg><use href="#icon-check"/></svg></div>
                                    <div class="notification-label">
                                        <h5>Text me updates</h5>
                                        <p>Get case status via SMS</p>
                                    </div>
                                </div>
                                <div class="notification-option" onclick="toggleNotificationOption(this)" data-type="email">
                                    <div class="notification-checkbox"><svg><use href="#icon-check"/></svg></div>
                                    <div class="notification-label">
                                        <h5>Email me updates</h5>
                                        <p>Receive detailed updates by email</p>
                                    </div>
                                </div>
                            </div>

                            <button class="btn-primary" onclick="switchTab('account')" style="margin-top: 16px;">
                                <svg style="width: 20px; height: 20px; color: white;"><use href="#icon-briefcase"/></svg> Track My Case
                            </button>

                            <button class="btn-secondary" onclick="resetQuiz()" style="margin-top: 10px;">
                                Submit Another Case
                            </button>
                        </div>
                    </div>

                    <div class="spacer"></div>
                </div>

                <!-- LEARN SCREEN -->
                <div class="screen learn-screen" id="screen-learn">
                    <div class="learn-header">
                        <div class="header-logo"><svg style="width: 28px; height: 28px;"><use href="#logo-mark"/></svg><span>Claim<span class="highlight">It</span></span></div>
                        <h1>Learn</h1><p>The knowledge they don't want you to have.</p>
                    </div>
                    <div class="category-scroll category-chips">
                        <div class="category-chip active"><svg style="width: 14px; height: 14px;"><use href="#icon-star"/></svg> Popular</div>
                        <div class="category-chip"><svg style="width: 14px; height: 14px;"><use href="#icon-book"/></svg> Guides</div>
                        <div class="category-chip"><svg style="width: 14px; height: 14px;"><use href="#icon-check"/></svg> Checklists</div>
                        <div class="category-chip"><svg style="width: 14px; height: 14px;"><use href="#icon-alarm"/></svg> Deadlines</div>
                    </div>

                    <div class="resources-grid">
                        <div class="resource-card" onclick="showArticle('car-accident')">
                            <div class="resource-icon" style="background: linear-gradient(135deg, #00C48C 0%, #00E6A0 100%);"><svg style="width: 30px; height: 30px; color: white;"><use href="#icon-car"/></svg></div>
                            <div class="resource-info"><h4>After a Car Accident: Step-by-Step</h4><div class="resource-meta"><span>Guide</span> ‚Ä¢ 8 min</div></div>
                        </div>

                        <div class="resource-card" onclick="showArticle('checklist')">
                            <div class="resource-icon" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);"><svg style="width: 30px; height: 30px; color: white;"><use href="#icon-check"/></svg></div>
                            <div class="resource-info"><h4>Injury Claim Checklist</h4><div class="resource-meta"><span>Checklist</span> ‚Ä¢ 5 min</div></div>
                        </div>

                        <div class="resource-card" onclick="showArticle('lemon-law')">
                            <div class="resource-icon" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);"><svg style="width: 30px; height: 30px; color: white;"><use href="#icon-lemon"/></svg></div>
                            <div class="resource-info"><h4>California Lemon Law Guide</h4><div class="resource-meta"><span>Guide</span> ‚Ä¢ 12 min</div></div>
                        </div>

                        <div class="resource-card" onclick="showArticle('insurance')">
                            <div class="resource-icon" style="background: linear-gradient(135deg, #9333EA 0%, #A855F7 100%);"><svg style="width: 30px; height: 30px; color: white;"><use href="#icon-shield"/></svg></div>
                            <div class="resource-info"><h4>Fight Insurance Bad Faith</h4><div class="resource-meta"><span>Know Your Rights</span> ‚Ä¢ 8 min</div></div>
                        </div>

                        <div class="resource-card" onclick="showArticle('deadlines')">
                            <div class="resource-icon" style="background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);"><svg style="width: 30px; height: 30px; color: white;"><use href="#icon-alarm"/></svg></div>
                            <div class="resource-info"><h4>Don't Miss These Deadlines</h4><div class="resource-meta"><span>Timeline</span> ‚Ä¢ 6 min</div></div>
                        </div>
                    </div>
                    <div class="spacer"></div>
                </div>

                <!-- ACCIDENT MODE SCREEN -->
                <div class="screen accident-screen" id="screen-accident">
                    <div class="accident-screen-header">
                        <div class="header-logo">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                            <span>Accident Mode</span>
                        </div>
                        <h1>Emergency Evidence</h1>
                        <p>Capture critical information after an accident</p>
                    </div>

                    <div class="accident-status-card">
                        <div class="accident-status-badge enabled" id="accident-status-badge">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                <polyline points="22 4 12 14.01 9 11.01"/>
                            </svg>
                            <span id="accident-status-text">Enabled & Ready</span>
                        </div>
                        <p style="font-size: 14px; color: var(--text-secondary); margin: 0;">When enabled, you'll receive a notification to quickly collect evidence if an accident is detected.</p>

                        <div class="accident-toggle-row">
                            <div class="accident-toggle-label">
                                <h4>Accident Mode</h4>
                                <p>Enable crash detection alerts</p>
                            </div>
                            <div class="toggle-switch active" id="accident-mode-toggle" onclick="toggleAccidentMode(this)"></div>
                        </div>
                    </div>

                    <div class="accident-info-section">
                        <div class="accident-info-card">
                            <h3>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M12 16v-4M12 8h.01"/>
                                </svg>
                                How It Works
                            </h3>
                            <p>When an accident is detected or you manually activate Accident Mode, ClaimIt guides you through collecting critical evidence:</p>
                            <ul>
                                <li><strong>Photo Checklist</strong> - Capture all necessary scene photos</li>
                                <li><strong>Voice Recording</strong> - Record what happened while it's fresh</li>
                                <li><strong>Witness Info</strong> - Collect contact details</li>
                                <li><strong>Critical Reminders</strong> - Know what NOT to say</li>
                            </ul>
                        </div>

                        <div class="accident-info-card">
                            <h3>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                                </svg>
                                Automatic Detection
                            </h3>
                            <p>When enabled, ClaimIt can detect sudden impacts and send you an instant notification. Tap the notification to immediately start collecting evidence.</p>
                        </div>

                        <button class="accident-enter-btn" id="manual-accident-btn" onclick="enterAccidentMode()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                            Enter Accident Mode Now
                        </button>
                        <p style="text-align: center; font-size: 12px; color: var(--text-muted); margin-top: 12px;">Use this if you've just been in an accident</p>
                    </div>
                    <div class="spacer"></div>
                </div>

                <!-- ACCOUNT SCREEN -->
                <div class="screen account-screen" id="screen-account">
                    <div class="account-header">
                        <div class="header-logo"><svg style="width: 28px; height: 28px;"><use href="#logo-mark"/></svg><span>Claim<span class="highlight">It</span></span></div>
                        <h1>My Cases</h1>
                        <p>Track your claim evaluations</p>
                    </div>

                    <!-- If not signed in: prompt to sign in -->
                    <div class="signin-prompt" id="signin-prompt">
                        <div class="signin-prompt-icon">
                            <svg><use href="#icon-user"/></svg>
                        </div>
                        <h2>Track Your Fight</h2>
                        <p>Track the status of your submitted claims and see which attorney has been assigned to your case.</p>
                        <button class="btn-signin" onclick="showSignInModal()">
                            <svg style="width: 18px; height: 18px;"><use href="#icon-user"/></svg>
                            Sign In
                        </button>
                    </div>

                    <!-- If signed in: show user profile and cases -->
                    <div class="cases-list hidden" id="cases-list">
                        <div class="user-profile-card" id="user-profile-card">
                            <div class="user-avatar" id="user-avatar">J</div>
                            <div class="user-info">
                                <h3 id="user-name">John Doe</h3>
                                <p id="user-phone">(555) 123-4567</p>
                            </div>
                            <span class="signout-link" onclick="signOut()">Sign Out</span>
                        </div>

                        <div class="cases-section-header">Your Cases</div>
                        <div id="cases-container">
                            <!-- Cases will be dynamically inserted here -->
                        </div>

                        <!-- Document Upload & Notification Preferences (side-by-side on tablet) -->
                        <div class="account-sections-row">
                            <div class="account-documents">
                                <h4><svg style="width: 16px; height: 16px;"><use href="#icon-upload"/></svg> Upload Documents</h4>
                                <div class="document-upload-area" id="account-upload-area" onclick="document.getElementById('account-file-input').click()">
                                    <input type="file" id="account-file-input" multiple accept="image/*,.pdf" style="display:none" onchange="handleAccountFileUpload(this)">
                                    <svg><use href="#icon-upload"/></svg>
                                    <h4>Upload supporting documents</h4>
                                    <p>Photos, medical records, receipts</p>
                                </div>
                            </div>

                            <div class="notification-prefs">
                                <h4><svg><use href="#icon-bell"/></svg> Notification Preferences</h4>
                                <div class="notif-toggle">
                                    <div class="notif-toggle-label">
                                        <h5>SMS Updates</h5>
                                        <p>Get text message updates</p>
                                    </div>
                                    <div class="toggle-switch active" onclick="toggleSwitch(this)" data-pref="sms"></div>
                                </div>
                                <div class="notif-toggle">
                                    <div class="notif-toggle-label">
                                        <h5>Email Updates</h5>
                                        <p>Receive detailed email notifications</p>
                                    </div>
                                    <div class="toggle-switch active" onclick="toggleSwitch(this)" data-pref="email"></div>
                                </div>
                                <div class="notif-toggle">
                                    <div class="notif-toggle-label">
                                        <h5>Push Notifications</h5>
                                        <p>Instant alerts when status changes</p>
                                    </div>
                                    <div class="toggle-switch" onclick="toggleSwitch(this)" data-pref="push"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Accident Mode Settings -->
                        <div class="accident-mode-settings">
                            <h4>
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                    <line x1="12" y1="9" x2="12" y2="13"/>
                                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                                </svg>
                                Accident Mode
                            </h4>
                            <p class="settings-description">Emergency evidence collection if you're in a car accident</p>
                            <div class="notif-toggle">
                                <div class="notif-toggle-label">
                                    <h5>Enable Accident Mode</h5>
                                    <p>Show emergency banner on Home screen</p>
                                </div>
                                <div class="toggle-switch" id="accident-settings-toggle" onclick="toggleAccidentModeFromSettings(this)" data-pref="accident-mode"></div>
                            </div>
                            <p class="accident-mode-note">When enabled, you'll see a quick-access banner to collect photos, voice recordings, and witness info immediately after an accident.</p>
                        </div>
                    </div>
                    <div class="spacer"></div>
                </div>

                <!-- ARTICLE: Car Accident -->
                <div class="screen detail-screen" id="article-car-accident">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category">üìñ Guide</div>
                        <h1 class="detail-title">What to Do After a Car Accident</h1>
                        <div class="detail-meta">8 min read ‚Ä¢ Updated Jan 2025</div>
                    </div>
                    <div class="article-content">
                        <p>Being in a car accident is stressful and overwhelming. Knowing what to do can protect your health, your rights, and your potential claim.</p>

                        <h2>At the Scene</h2>

                        <h3>1. Check for Injuries</h3>
                        <p>Check yourself and passengers for injuries. Call 911 if anyone is hurt. Don't move seriously injured people unless there's immediate danger.</p>

                        <h3>2. Move to Safety</h3>
                        <p>If possible, move vehicles out of traffic. Turn on hazard lights. Set up flares or triangles if you have them.</p>

                        <h3>3. Call the Police</h3>
                        <p>Always get a police report, even for minor accidents. The report documents the scene and may assign fault. Get the report number before officers leave.</p>

                        <div class="tip-box">
                            <p><strong>üí° Pro Tip:</strong> Always get a police report, even if the other driver asks you not to. It's crucial evidence for your claim.</p>
                        </div>

                        <h3>4. Exchange Information</h3>
                        <p>Collect from all drivers:</p>
                        <ul>
                            <li>Name, address, phone number</li>
                            <li>Driver's license number</li>
                            <li>Insurance company and policy number</li>
                            <li>License plate number</li>
                            <li>Vehicle make, model, color</li>
                        </ul>

                        <h3>5. Document Everything</h3>
                        <p>Take photos of all vehicles, damage, and the scene. Photograph skid marks, traffic signs, and road conditions. Get contact info for witnesses.</p>

                        <div class="warning-box">
                            <p><strong>‚ö†Ô∏è Important:</strong> Don't say "I'm sorry" or admit fault. Stick to facts when talking to police.</p>
                        </div>

                        <h2>After Leaving the Scene</h2>

                        <h3>6. Seek Medical Attention</h3>
                        <p>See a doctor within 24-48 hours, even if you feel fine. Some injuries don't show symptoms immediately. Medical records link your injuries to the accident.</p>

                        <h3>7. Notify Your Insurance</h3>
                        <p>Report the accident promptly. Stick to facts; don't speculate about fault. Don't give recorded statements without legal advice.</p>

                        <h2>Important Deadlines</h2>
                        <ul>
                            <li><strong>Police Report:</strong> Get a copy within a few weeks</li>
                            <li><strong>Insurance Claim:</strong> File promptly per your policy</li>
                            <li><strong>Lawsuit Deadline:</strong> 2 years from accident date in California</li>
                        </ul>
                    </div>

                    <div class="article-cta">
                        <h3>Were you in an accident?</h3>
                        <p>Get a free case evaluation in 2 minutes</p>
                        <button onclick="startQuizWithTopic('car-accident')">Start My Claim Review</button>
                    </div>

                    <!-- Article Actions -->
                    <div class="article-actions">
                        <div class="share-buttons">
                            <button class="share-btn" onclick="shareArticle('sms')" title="Share via Text">
                                <svg><use href="#icon-sms"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('email')" title="Share via Email">
                                <svg><use href="#icon-email"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('copy')" title="Copy Link">
                                <svg><use href="#icon-share"/></svg>
                            </button>
                        </div>
                        <div class="helpful-feedback">
                            <span>Helpful?</span>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'yes')">üëç Yes</button>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'no')">üëé No</button>
                        </div>
                    </div>

                    <!-- Related Articles -->
                    <div class="related-articles">
                        <h3>Related Articles</h3>
                        <div class="related-article-card" onclick="showArticle('checklist')">
                            <div class="icon" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-check-circle"/></svg>
                            </div>
                            <div>
                                <h4>Personal Injury Checklist</h4>
                                <p>5 min read</p>
                            </div>
                        </div>
                        <div class="related-article-card" onclick="showArticle('deadlines')">
                            <div class="icon" style="background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-clock"/></svg>
                            </div>
                            <div>
                                <h4>California Legal Deadlines</h4>
                                <p>6 min read</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ARTICLE: Checklist -->
                <div class="screen detail-screen" id="article-checklist">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">‚úÖ Checklist</div>
                        <h1 class="detail-title">Personal Injury Claim Checklist</h1>
                        <div class="detail-meta">5 min read ‚Ä¢ Interactive checklist</div>
                    </div>
                    <div class="article-content">
                        <p>Use this checklist to gather everything you need for your claim. Tap items to mark them complete.</p>

                        <h2>Immediate Documentation</h2>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Photos of your injuries</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Photos of the accident scene</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Photos of property damage</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Witness names and contact info</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Police report number</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Other party's insurance info</span></div>

                        <h2>Medical Records</h2>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Emergency room records</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Doctor visit notes</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Physical therapy records</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Prescription records</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Medical imaging (X-rays, MRIs)</span></div>

                        <h2>Financial Documentation</h2>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>All medical bills</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Pay stubs (before and after)</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Lost income calculations</span></div>
                        <div class="checklist-item" onclick="toggleCheck(this)"><div class="check">‚úì</div><span>Out-of-pocket expense receipts</span></div>
                    </div>

                    <div class="article-cta">
                        <h3>Have your documents ready?</h3>
                        <p>Let us review your case for free</p>
                        <button onclick="startQuizWithTopic('injury')">Start My Claim Review</button>
                    </div>

                    <!-- Article Actions -->
                    <div class="article-actions">
                        <div class="share-buttons">
                            <button class="share-btn" onclick="shareArticle('sms')" title="Share via Text">
                                <svg><use href="#icon-sms"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('email')" title="Share via Email">
                                <svg><use href="#icon-email"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('copy')" title="Copy Link">
                                <svg><use href="#icon-share"/></svg>
                            </button>
                        </div>
                        <div class="helpful-feedback">
                            <span>Helpful?</span>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'yes')">üëç Yes</button>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'no')">üëé No</button>
                        </div>
                    </div>

                    <!-- Related Articles -->
                    <div class="related-articles">
                        <h3>Related Articles</h3>
                        <div class="related-article-card" onclick="showArticle('car-accident')">
                            <div class="icon" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-car"/></svg>
                            </div>
                            <div>
                                <h4>After a Car Accident</h4>
                                <p>10 min read</p>
                            </div>
                        </div>
                        <div class="related-article-card" onclick="showArticle('insurance')">
                            <div class="icon" style="background: linear-gradient(135deg, #9333EA 0%, #A855F7 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-shield"/></svg>
                            </div>
                            <div>
                                <h4>Fight Insurance Bad Faith</h4>
                                <p>8 min read</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ARTICLE: Lemon Law -->
                <div class="screen detail-screen" id="article-lemon-law">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);">üçã Guide</div>
                        <h1 class="detail-title">California Lemon Law Guide</h1>
                        <div class="detail-meta">12 min read ‚Ä¢ Complete guide</div>
                    </div>
                    <div class="article-content">
                        <p>California has some of the strongest lemon laws in the country. If you're stuck with a defective vehicle, you have rights.</p>

                        <h2>What Qualifies as a "Lemon"?</h2>
                        <p>Your vehicle may qualify if:</p>

                        <h3>Repair Attempts</h3>
                        <ul>
                            <li><strong>2 or more attempts</strong> to fix a safety defect, OR</li>
                            <li><strong>4 or more attempts</strong> to fix any substantial defect, OR</li>
                            <li>Vehicle has been <strong>in the shop 30+ days</strong> total</li>
                        </ul>

                        <div class="tip-box">
                            <p><strong>üí° Good News:</strong> Under California law, the manufacturer pays your attorney fees if you win. There's no cost to you!</p>
                        </div>

                        <h2>What Vehicles Are Covered?</h2>
                        <ul>
                            <li>‚úÖ New cars, trucks, and SUVs</li>
                            <li>‚úÖ Used vehicles still under manufacturer's warranty</li>
                            <li>‚úÖ Leased vehicles</li>
                            <li>‚úÖ Demonstrator vehicles</li>
                        </ul>

                        <h2>What Can You Get?</h2>

                        <h3>Refund ("Buyback")</h3>
                        <ul>
                            <li>Full purchase price</li>
                            <li>Down payment</li>
                            <li>Monthly payments made</li>
                            <li>Registration and taxes</li>
                            <li>Incidental costs (towing, rentals)</li>
                        </ul>

                        <h3>Replacement</h3>
                        <p>A new vehicle of the same make and model that's acceptable to you.</p>

                        <div class="warning-box">
                            <p><strong>‚è∞ Time Limit:</strong> Generally 4 years from when you first noticed the defect. Don't wait!</p>
                        </div>
                    </div>

                    <div class="article-cta">
                        <h3>Stuck with a lemon?</h3>
                        <p>Find out if you qualify for a buyback</p>
                        <button onclick="startQuizWithTopic('lemon')">Check My Vehicle</button>
                    </div>

                    <!-- Article Actions -->
                    <div class="article-actions">
                        <div class="share-buttons">
                            <button class="share-btn" onclick="shareArticle('sms')" title="Share via Text">
                                <svg><use href="#icon-sms"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('email')" title="Share via Email">
                                <svg><use href="#icon-email"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('copy')" title="Copy Link">
                                <svg><use href="#icon-share"/></svg>
                            </button>
                        </div>
                        <div class="helpful-feedback">
                            <span>Helpful?</span>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'yes')">üëç Yes</button>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'no')">üëé No</button>
                        </div>
                    </div>

                    <!-- Related Articles -->
                    <div class="related-articles">
                        <h3>Related Articles</h3>
                        <div class="related-article-card" onclick="showArticle('insurance')">
                            <div class="icon" style="background: linear-gradient(135deg, #9333EA 0%, #A855F7 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-shield"/></svg>
                            </div>
                            <div>
                                <h4>Fight Insurance Bad Faith</h4>
                                <p>8 min read</p>
                            </div>
                        </div>
                        <div class="related-article-card" onclick="showArticle('deadlines')">
                            <div class="icon" style="background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-clock"/></svg>
                            </div>
                            <div>
                                <h4>California Legal Deadlines</h4>
                                <p>6 min read</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ARTICLE: Insurance -->
                <div class="screen detail-screen" id="article-insurance">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category" style="background: linear-gradient(135deg, #9333EA 0%, #A855F7 100%);">‚úä Know Your Rights</div>
                        <h1 class="detail-title">Fight Insurance Bad Faith</h1>
                        <div class="detail-meta">8 min read ‚Ä¢ Know your rights</div>
                    </div>
                    <div class="article-content">
                        <p>Insurance companies are businesses focused on profits. Know your rights to level the playing field.</p>

                        <h2>California Insurance Deadlines</h2>
                        <p>Insurers MUST follow these timelines:</p>
                        <ul>
                            <li><strong>15 days</strong> - Acknowledge your claim</li>
                            <li><strong>Immediately</strong> - Begin investigation</li>
                            <li><strong>40 days</strong> - Accept or deny after proof submitted</li>
                            <li><strong>30 days</strong> - Pay undisputed amounts after settlement</li>
                        </ul>

                        <h2>Signs of Bad Faith</h2>
                        <p>Your insurer may be acting in bad faith if they:</p>
                        <ul>
                            <li>üö© Deny claim without explanation</li>
                            <li>üö© Unreasonably delay processing</li>
                            <li>üö© Offer far less than claim is worth</li>
                            <li>üö© Misrepresent policy terms</li>
                            <li>üö© Fail to conduct proper investigation</li>
                            <li>üö© Refuse to communicate</li>
                        </ul>

                        <div class="warning-box">
                            <p><strong>‚ö†Ô∏è Don't Accept the First Offer:</strong> Insurance companies often lowball initial offers. You don't have to accept.</p>
                        </div>

                        <h2>What You Can Recover</h2>
                        <p>Bad faith claims can recover:</p>
                        <ul>
                            <li>Original claim amount</li>
                            <li>Consequential damages</li>
                            <li>Emotional distress</li>
                            <li>Attorney fees</li>
                            <li>Punitive damages (in egregious cases)</li>
                        </ul>
                    </div>

                    <div class="article-cta">
                        <h3>Insurance treating you unfairly?</h3>
                        <p>Find out if you have a bad faith claim</p>
                        <button onclick="startQuizWithTopic('insurance')">Review My Claim</button>
                    </div>

                    <!-- Article Actions -->
                    <div class="article-actions">
                        <div class="share-buttons">
                            <button class="share-btn" onclick="shareArticle('sms')" title="Share via Text">
                                <svg><use href="#icon-sms"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('email')" title="Share via Email">
                                <svg><use href="#icon-email"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('copy')" title="Copy Link">
                                <svg><use href="#icon-share"/></svg>
                            </button>
                        </div>
                        <div class="helpful-feedback">
                            <span>Helpful?</span>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'yes')">üëç Yes</button>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'no')">üëé No</button>
                        </div>
                    </div>

                    <!-- Related Articles -->
                    <div class="related-articles">
                        <h3>Related Articles</h3>
                        <div class="related-article-card" onclick="showArticle('car-accident')">
                            <div class="icon" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-car"/></svg>
                            </div>
                            <div>
                                <h4>After a Car Accident</h4>
                                <p>10 min read</p>
                            </div>
                        </div>
                        <div class="related-article-card" onclick="showArticle('lemon-law')">
                            <div class="icon" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-document"/></svg>
                            </div>
                            <div>
                                <h4>California Lemon Law Guide</h4>
                                <p>12 min read</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ARTICLE: Deadlines -->
                <div class="screen detail-screen" id="article-deadlines">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category" style="background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);">‚è∞ Timeline</div>
                        <h1 class="detail-title">California Legal Deadlines</h1>
                        <div class="detail-meta">6 min read ‚Ä¢ Critical info</div>
                    </div>
                    <div class="article-content">
                        <p>Missing a deadline can mean losing your right to legal action. Know these critical timeframes.</p>

                        <div class="warning-box">
                            <p><strong>‚ö†Ô∏è Warning:</strong> These are general guidelines. Some cases have shorter deadlines. Consult an attorney immediately if you're unsure.</p>
                        </div>

                        <h2>Personal Injury Claims</h2>
                        <ul>
                            <li><strong>Personal injury (general):</strong> 2 years from injury</li>
                            <li><strong>Medical malpractice:</strong> 3 years from injury OR 1 year from discovery</li>
                            <li><strong>Against government:</strong> 6 months to file claim</li>
                            <li><strong>Minors:</strong> Until 2 years after turning 18</li>
                        </ul>

                        <h2>Property Damage</h2>
                        <ul>
                            <li><strong>Property damage from accident:</strong> 3 years</li>
                            <li><strong>Against government:</strong> 6 months claim + 2 years lawsuit</li>
                        </ul>

                        <h2>Employment Claims</h2>
                        <ul>
                            <li><strong>Discrimination (DFEH):</strong> 3 years to file complaint</li>
                            <li><strong>Wage claims:</strong> 3-4 years depending on type</li>
                            <li><strong>Wrongful termination:</strong> 2-3 years depending on basis</li>
                        </ul>

                        <div class="tip-box">
                            <p><strong>üí° Don't Wait:</strong> Even if you have time, evidence disappears, witnesses forget, and records get lost. Cases are stronger when fresh.</p>
                        </div>

                        <h2>Government Claims</h2>
                        <p>Claims against cities, counties, or state require:</p>
                        <ol>
                            <li>Filing administrative claim within <strong>6 months</strong></li>
                            <li>Waiting for response (45 days)</li>
                            <li>Then filing lawsuit</li>
                        </ol>
                    </div>

                    <div class="article-cta">
                        <h3>Don't miss your deadline</h3>
                        <p>Get a free case evaluation today</p>
                        <button onclick="startQuizWithTopic('other')">Check My Deadline</button>
                    </div>

                    <!-- Article Actions -->
                    <div class="article-actions">
                        <div class="share-buttons">
                            <button class="share-btn" onclick="shareArticle('sms')" title="Share via Text">
                                <svg><use href="#icon-sms"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('email')" title="Share via Email">
                                <svg><use href="#icon-email"/></svg>
                            </button>
                            <button class="share-btn" onclick="shareArticle('copy')" title="Copy Link">
                                <svg><use href="#icon-share"/></svg>
                            </button>
                        </div>
                        <div class="helpful-feedback">
                            <span>Helpful?</span>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'yes')">üëç Yes</button>
                            <button class="helpful-btn" onclick="helpfulFeedback(this, 'no')">üëé No</button>
                        </div>
                    </div>

                    <!-- Related Articles -->
                    <div class="related-articles">
                        <h3>Related Articles</h3>
                        <div class="related-article-card" onclick="showArticle('car-accident')">
                            <div class="icon" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-car"/></svg>
                            </div>
                            <div>
                                <h4>After a Car Accident</h4>
                                <p>10 min read</p>
                            </div>
                        </div>
                        <div class="related-article-card" onclick="showArticle('checklist')">
                            <div class="icon" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">
                                <svg style="width: 18px; height: 18px; color: white;"><use href="#icon-check-circle"/></svg>
                            </div>
                            <div>
                                <h4>Personal Injury Checklist</h4>
                                <p>5 min read</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PRACTICE AREA: Personal Injury -->
                <div class="screen detail-screen" id="article-pa-personal-injury">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">‚ö° We Handle Directly</div>
                        <h1 class="detail-title">Personal Injury</h1>
                        <div class="detail-meta" onclick="showNoFeeDisclaimer()" style="cursor: help;">No Fee Unless We Win*</div>
                    </div>
                    <div class="article-content">
                        <p>If you've been injured due to someone else's negligence, you deserve compensation. We fight aggressively to get you the maximum recovery.</p>

                        <h2>What We Handle</h2>
                        <ul>
                            <li>Car, truck, and motorcycle accidents</li>
                            <li>Pedestrian and bicycle accidents</li>
                            <li>Dog bites and animal attacks</li>
                            <li>Assault and battery injuries</li>
                            <li>Wrongful death claims</li>
                        </ul>

                        <h2>Types of Compensation</h2>
                        <ul>
                            <li><strong>Medical expenses:</strong> Past, present, and future</li>
                            <li><strong>Lost wages:</strong> Time missed from work</li>
                            <li><strong>Pain & suffering:</strong> Physical and emotional</li>
                            <li><strong>Loss of enjoyment:</strong> Impact on quality of life</li>
                            <li><strong>Property damage:</strong> Vehicle and personal items</li>
                        </ul>

                        <div class="tip-box">
                            <p><strong>Important:</strong> California law gives you 2 years from the date of injury to file a lawsuit. Don't wait‚Äîevidence can disappear and memories fade.</p>
                        </div>

                        <h2>Why Choose Us?</h2>
                        <ul>
                            <li>Millions recovered for clients</li>
                            <li>Free initial consultation</li>
                            <li>No fee unless we win your case</li>
                            <li>24/7 availability for urgent cases</li>
                        </ul>
                    </div>

                    <div class="article-cta">
                        <h3>Injured? Let's Talk.</h3>
                        <p>Get your free case evaluation today</p>
                        <button onclick="startQuizWithTopic('injury')">Start My Claim Review</button>
                    </div>
                </div>

                <!-- PRACTICE AREA: Premises Liability -->
                <div class="screen detail-screen" id="article-pa-premises-liability">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">‚ö° We Handle Directly</div>
                        <h1 class="detail-title">Premises Liability</h1>
                        <div class="detail-meta" onclick="showNoFeeDisclaimer()" style="cursor: help;">No Fee Unless We Win*</div>
                    </div>
                    <div class="article-content">
                        <p>Property owners have a legal duty to maintain safe conditions. When they fail and you're injured, we hold them accountable.</p>

                        <h2>Common Cases We Handle</h2>
                        <ul>
                            <li>Slip and fall accidents</li>
                            <li>Trip hazards and uneven surfaces</li>
                            <li>Inadequate lighting injuries</li>
                            <li>Swimming pool accidents</li>
                            <li>Negligent security incidents</li>
                            <li>Construction site injuries</li>
                        </ul>

                        <h2>Who Can Be Held Liable?</h2>
                        <ul>
                            <li><strong>Property owners:</strong> Residential or commercial</li>
                            <li><strong>Business operators:</strong> Stores, restaurants, hotels</li>
                            <li><strong>Property managers:</strong> Apartments, condos</li>
                            <li><strong>Government entities:</strong> Public buildings, sidewalks</li>
                        </ul>

                        <div class="warning-box">
                            <p><strong>Act Fast:</strong> Claims against government entities have shorter deadlines‚Äîoften just 6 months. Contact us immediately if injured on public property.</p>
                        </div>

                        <h2>What You Need to Prove</h2>
                        <ul>
                            <li>The property had a dangerous condition</li>
                            <li>The owner knew or should have known</li>
                            <li>They failed to fix it or warn visitors</li>
                            <li>The condition caused your injury</li>
                        </ul>
                    </div>

                    <div class="article-cta">
                        <h3>Injured on someone's property?</h3>
                        <p>Free consultation‚Äîwe'll review your case</p>
                        <button onclick="startQuizWithTopic('slip-fall')">Start My Claim Review</button>
                    </div>
                </div>

                <!-- PRACTICE AREA: Property Damage -->
                <div class="screen detail-screen" id="article-pa-property-damage">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">‚ö° We Handle Directly</div>
                        <h1 class="detail-title">Property Damage</h1>
                        <div class="detail-meta" onclick="showNoFeeDisclaimer()" style="cursor: help;">No Fee Unless We Win*</div>
                    </div>
                    <div class="article-content">
                        <p>When your vehicle or property is damaged in an accident, insurance companies often try to pay as little as possible. We fight to get you fair compensation.</p>

                        <h2>Types of Claims</h2>
                        <ul>
                            <li>Vehicle damage from accidents</li>
                            <li>Total loss claims</li>
                            <li>Diminished value claims</li>
                            <li>Personal property damage</li>
                            <li>Electronics and valuables</li>
                        </ul>

                        <h2>What You Can Recover</h2>
                        <ul>
                            <li><strong>Repair costs:</strong> Full cost to fix your vehicle</li>
                            <li><strong>Replacement value:</strong> If your vehicle is totaled</li>
                            <li><strong>Rental car:</strong> While yours is being repaired</li>
                            <li><strong>Diminished value:</strong> Decrease in resale value</li>
                            <li><strong>Personal items:</strong> Things damaged in the accident</li>
                        </ul>

                        <div class="tip-box">
                            <p><strong>Pro Tip:</strong> Don't accept the first offer from insurance. They typically lowball by 20-40%. Get your own estimate and let us negotiate.</p>
                        </div>

                        <h2>Insurance Tactics to Watch For</h2>
                        <ul>
                            <li>Undervaluing your vehicle</li>
                            <li>Using cheap aftermarket parts</li>
                            <li>Denying rental car coverage</li>
                            <li>Ignoring diminished value</li>
                        </ul>
                    </div>

                    <div class="article-cta">
                        <h3>Property damage dispute?</h3>
                        <p>We'll help you get fair compensation</p>
                        <button onclick="startQuizWithTopic('property')">Start My Claim Review</button>
                    </div>
                </div>

                <!-- PRACTICE AREA: Insurance Bad Faith -->
                <div class="screen detail-screen" id="article-pa-insurance-bad-faith">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">‚ö° We Handle Directly</div>
                        <h1 class="detail-title">Insurance Bad Faith</h1>
                        <div class="detail-meta" onclick="showNoFeeDisclaimer()" style="cursor: help;">No Fee Unless We Win*</div>
                    </div>
                    <div class="article-content">
                        <p>Insurance companies have a legal duty to act in good faith. When they don't, you can sue them for bad faith and potentially recover additional damages.</p>

                        <h2>Signs of Bad Faith</h2>
                        <ul>
                            <li>Unreasonable claim denial</li>
                            <li>Excessive delays in processing</li>
                            <li>Lowball settlement offers</li>
                            <li>Failure to investigate properly</li>
                            <li>Constantly changing their position</li>
                            <li>Misrepresenting policy terms</li>
                        </ul>

                        <h2>Your Rights Under California Law</h2>
                        <ul>
                            <li><strong>15 days:</strong> To acknowledge your claim</li>
                            <li><strong>40 days:</strong> To accept or deny after proof</li>
                            <li><strong>30 days:</strong> To pay after settlement</li>
                        </ul>

                        <div class="warning-box">
                            <p><strong>Document Everything:</strong> Keep records of all communications with your insurer‚Äîemails, letters, phone call notes with dates and names.</p>
                        </div>

                        <h2>What You Can Recover</h2>
                        <ul>
                            <li>Your original claim amount</li>
                            <li>Emotional distress damages</li>
                            <li>Attorney fees</li>
                            <li>Punitive damages (in severe cases)</li>
                        </ul>
                    </div>

                    <div class="article-cta">
                        <h3>Insurance treating you unfairly?</h3>
                        <p>We'll hold them accountable</p>
                        <button onclick="startQuizWithTopic('insurance')">Start My Claim Review</button>
                    </div>
                </div>

                <!-- PRACTICE AREA: Lemon Law -->
                <div class="screen detail-screen" id="article-pa-lemon-law">
                    <button class="back-btn" onclick="hideArticle()">‚Üê Back</button>
                    <div class="detail-header">
                        <div class="detail-category" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);">We Handle Directly</div>
                        <h1 class="detail-title">Lemon Law</h1>
                        <div class="detail-meta">Manufacturer Pays Our Fees</div>
                    </div>
                    <div class="article-content">
                        <p>California's Lemon Law is one of the strongest in the country. If you're stuck with a defective vehicle, we can help you get a refund or replacement.</p>

                        <h2>Does Your Vehicle Qualify?</h2>
                        <ul>
                            <li><strong>2+ repair attempts</strong> for a safety defect, OR</li>
                            <li><strong>4+ repair attempts</strong> for any substantial defect, OR</li>
                            <li>Vehicle in shop <strong>30+ days</strong> total</li>
                        </ul>

                        <h2>Covered Vehicles</h2>
                        <ul>
                            <li>New cars, trucks, SUVs</li>
                            <li>Used vehicles under warranty</li>
                            <li>Leased vehicles</li>
                            <li>Certified pre-owned</li>
                            <li>RVs and motorcycles</li>
                        </ul>

                        <div class="tip-box">
                            <p><strong>Great News:</strong> Under California law, the manufacturer pays your attorney fees if you win. There's NO cost to you!</p>
                        </div>

                        <h2>What You Can Get</h2>
                        <h3>Buyback (Refund)</h3>
                        <ul>
                            <li>Full purchase price</li>
                            <li>Down payment returned</li>
                            <li>Monthly payments made</li>
                            <li>Registration and taxes</li>
                            <li>Incidental costs (towing, rentals)</li>
                        </ul>

                        <h3>OR Replacement</h3>
                        <p>A new vehicle of equal value that's acceptable to you.</p>
                    </div>

                    <div class="article-cta">
                        <h3>Stuck with a lemon?</h3>
                        <p>Find out if you qualify for a buyback</p>
                        <button onclick="startQuizWithTopic('lemon')">Check My Vehicle</button>
                    </div>
                </div>
            </div>

            <!-- Tab Bar -->
            <nav class="tab-bar" id="tab-bar" role="navigation" aria-label="Main navigation">
                <button class="tab active" id="tab-home" data-action="switch-tab" data-tab="home" role="tab" aria-selected="true" aria-label="Home">
                    <div class="tab-icon" aria-hidden="true"><svg style="width: 26px; height: 26px;"><use href="#icon-home"/></svg></div>
                    <span>Home</span>
                </button>
                <button class="tab" id="tab-claim" data-action="switch-tab" data-tab="claim" role="tab" aria-selected="false" aria-label="Start a claim">
                    <div class="tab-icon" aria-hidden="true"><svg style="width: 26px; height: 26px;"><use href="#icon-lightning"/></svg></div>
                    <span>Claim</span>
                </button>
                <button class="tab" id="tab-learn" data-action="switch-tab" data-tab="learn" role="tab" aria-selected="false" aria-label="Learning resources">
                    <div class="tab-icon" aria-hidden="true"><svg style="width: 26px; height: 26px;"><use href="#icon-book"/></svg></div>
                    <span>Learn</span>
                </button>
                <button class="tab accident-tab" id="tab-accident" data-action="switch-tab" data-tab="accident" role="tab" aria-selected="false" aria-label="Accident Mode">
                    <div class="tab-icon accident-tab-icon" aria-hidden="true">
                        <svg style="width: 26px; height: 26px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                            <line x1="12" y1="9" x2="12" y2="13"/>
                            <line x1="12" y1="17" x2="12.01" y2="17"/>
                        </svg>
                        <span class="accident-tab-dot" id="accident-tab-dot"></span>
                    </div>
                    <span>Accident</span>
                </button>
                <button class="tab" id="tab-account" data-action="switch-tab" data-tab="account" role="tab" aria-selected="false" aria-label="Your account">
                    <div class="tab-icon" aria-hidden="true"><svg style="width: 26px; height: 26px;"><use href="#icon-user"/></svg></div>
                    <span>Account</span>
                </button>
            </nav>

            <!-- PRIVACY POLICY MODAL -->
            <div class="legal-modal" id="privacy-modal" onclick="hidePrivacyModal()">
                <div class="legal-modal-content" onclick="event.stopPropagation()">
                    <h2>Privacy Policy</h2>
                    <p><strong>Effective Date:</strong> February 2, 2025</p>
                    <p>Kitsinian Law Firm, APC ("we," "us," or "our") operates the ClaimIt mobile application. This Privacy Policy explains how we collect, use, disclose, and protect your information.</p>

                    <h3>Information We Collect</h3>
                    <ul>
                        <li><strong>Contact Information:</strong> Name, phone number, email address</li>
                        <li><strong>Case Information:</strong> Details about your legal matter</li>
                        <li><strong>Device Information:</strong> Device type, OS, app usage</li>
                    </ul>

                    <h3>How We Use Your Information</h3>
                    <ul>
                        <li>To evaluate your potential legal case</li>
                        <li>To contact you regarding your inquiry</li>
                        <li>To match you with legal representation</li>
                        <li>To improve our services</li>
                    </ul>

                    <h3>Information Sharing</h3>
                    <p>We do not sell your personal information. We may share with attorneys in our referral network (with consent), service providers, or as required by law.</p>

                    <h3>California Privacy Rights (CCPA)</h3>
                    <p>California residents may: know what data we collect, request deletion, opt-out of data sales (we don't sell), and exercise rights without discrimination.</p>
                    <p>Contact: privacy@claimit.com</p>

                    <button class="legal-modal-close" onclick="hidePrivacyModal()">Close</button>
                </div>
            </div>

            <!-- TERMS OF SERVICE MODAL -->
            <div class="legal-modal" id="terms-modal" onclick="hideTermsModal()">
                <div class="legal-modal-content" onclick="event.stopPropagation()">
                    <h2>Terms of Service</h2>
                    <p><strong>Effective Date:</strong> February 2, 2025</p>

                    <h3>No Attorney-Client Relationship</h3>
                    <p>Using this app does not create an attorney-client relationship. Such relationship only forms when you sign a written retainer agreement.</p>

                    <h3>No Legal Advice</h3>
                    <p>Information provided is for general purposes only and should not be construed as legal advice.</p>

                    <h3>No Guarantees</h3>
                    <p>Past results do not guarantee future outcomes. Statistics represent historical data only.</p>

                    <h3>Fee Arrangements</h3>
                    <p>"No Fee Unless We Win" means no attorney's fees unless we recover for you. You may still be responsible for case costs (filing fees, expert fees, etc.).</p>

                    <h3>Eligibility</h3>
                    <p>You must be 18+ to use this application.</p>

                    <p>Contact: legal@claimit.com</p>

                    <button class="legal-modal-close" onclick="hideTermsModal()">Close</button>
                </div>
            </div>

            <!-- DISCLAIMER MODAL -->
            <div class="legal-modal" id="disclaimer-modal" onclick="hideDisclaimerModal()">
                <div class="legal-modal-content" onclick="event.stopPropagation()">
                    <h2>Legal Disclaimers</h2>

                    <h3>Success Rate Disclaimer</h3>
                    <p>Statistics represent historical data. <strong>Past results do not guarantee future outcomes.</strong> Each case is evaluated on its own merits.</p>

                    <h3>"No Fee Unless We Win"</h3>
                    <ul>
                        <li>No attorney's fees unless we recover for you</li>
                        <li>You may be responsible for case costs (filing fees, expert fees, etc.)</li>
                        <li>Details in your retainer agreement</li>
                    </ul>

                    <h3>Attorney Advertising</h3>
                    <p>This is attorney advertising. Kitsinian Law Firm, APC. Principal office: Los Angeles, CA.</p>

                    <button class="legal-modal-close" onclick="hideDisclaimerModal()">Close</button>
                </div>
            </div>

            <!-- REFERRAL MODAL -->
            <div class="legal-modal" id="referral-modal" onclick="hideReferralModal()">
                <div class="legal-modal-content" onclick="event.stopPropagation()" style="text-align: center;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px;">
                        <svg style="width: 28px; height: 28px; color: white;"><use href="#icon-family"/></svg>
                    </div>
                    <h2 id="referral-area-name">Family Law</h2>
                    <p id="referral-area-desc" style="margin-bottom: 16px;">We partner with trusted California attorneys who specialize in family law.</p>
                    <p style="font-weight: 600; color: var(--text-primary);">Complete a quick questionnaire to get matched with qualified representation.</p>
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button class="legal-modal-close" onclick="hideReferralModal()" style="background: var(--border-color); color: var(--text-primary); flex: 1;">Cancel</button>
                        <button class="legal-modal-close" onclick="startReferralQuiz()" style="flex: 1;">Get Started</button>
                    </div>
                </div>
            </div>

            <!-- ACCIDENT MODE FULL SCREEN -->
            <div class="accident-mode-screen" id="accident-mode-screen" role="dialog" aria-modal="true" aria-label="Accident Mode - Emergency Evidence Collection">

                <!-- Accident Mode Header -->
                <div class="accident-header">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <button class="accident-exit-btn" onclick="exitAccidentMode()" aria-label="Exit Accident Mode">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                        <h1>üö® ACCIDENT MODE</h1>
                        <div style="width: 40px;"></div>
                    </div>
                    <p id="accident-step-indicator">Step 1 of 7</p>
                </div>

                <!-- Progress Bar -->
                <div class="accident-progress-bar">
                    <div class="accident-progress-fill" id="accident-progress-fill" style="width: 14%;"></div>
                </div>

                <!-- Accident Mode Content Container -->
                <div class="accident-content">

                    <!-- STEP 1: Safety Check -->
                    <div class="accident-step" id="accident-step-1">
                        <div class="safety-check-container">
                            <div class="safety-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                </svg>
                            </div>
                            <h2 class="safety-question">Are You Safe?</h2>
                            <p class="safety-subtext">Your safety comes first. If anyone is injured, call 911 immediately.</p>

                            <button class="btn-emergency btn-911" onclick="call911()">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                                </svg>
                                Call 911
                            </button>

                            <button class="btn-emergency btn-safe" onclick="accidentGoToStep(2)">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                                I'm Safe - Continue
                            </button>
                        </div>
                    </div>

                    <!-- STEP 2: Photo Checklist -->
                    <div class="accident-step" id="accident-step-2" style="display: none;">
                        <h2 class="section-title-accident">üì∏ Photo Checklist</h2>
                        <p class="section-subtitle-accident">Capture these 8 photos to protect your case</p>

                        <div class="photo-checklist" id="photo-checklist">
                            <div class="photo-item" onclick="capturePhoto(0, 'Scene Overview')" data-captured="false">
                                <div class="photo-item-number">1</div>
                                <div class="photo-item-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                        <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                        <polyline points="21 15 16 10 5 21"></polyline>
                                    </svg>
                                </div>
                                <div class="photo-item-info">
                                    <h4>Scene Overview</h4>
                                    <p>Wide shot showing full accident scene</p>
                                </div>
                                <div class="photo-item-status">
                                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>

                            <div class="photo-item" onclick="capturePhoto(1, 'Your Vehicle - Front')" data-captured="false">
                                <div class="photo-item-number">2</div>
                                <div class="photo-item-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                                        <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                                        <path d="M5 17h-2v-6l2-5h9l4 5h1a2 2 0 0 1 2 2v4h-2"></path>
                                        <line x1="9" y1="17" x2="15" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="photo-item-info">
                                    <h4>Your Vehicle - Front</h4>
                                    <p>Document all front damage</p>
                                </div>
                                <div class="photo-item-status">
                                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>

                            <div class="photo-item" onclick="capturePhoto(2, 'Your Vehicle - Side')" data-captured="false">
                                <div class="photo-item-number">3</div>
                                <div class="photo-item-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                                        <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                                        <path d="M5 17h-2v-6l2-5h9l4 5h1a2 2 0 0 1 2 2v4h-2"></path>
                                        <line x1="9" y1="17" x2="15" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="photo-item-info">
                                    <h4>Your Vehicle - Side</h4>
                                    <p>Document side damage</p>
                                </div>
                                <div class="photo-item-status">
                                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>

                            <div class="photo-item" onclick="capturePhoto(3, 'Your Vehicle - Rear')" data-captured="false">
                                <div class="photo-item-number">4</div>
                                <div class="photo-item-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                                        <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                                        <path d="M5 17h-2v-6l2-5h9l4 5h1a2 2 0 0 1 2 2v4h-2"></path>
                                        <line x1="9" y1="17" x2="15" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="photo-item-info">
                                    <h4>Your Vehicle - Rear</h4>
                                    <p>Document rear damage</p>
                                </div>
                                <div class="photo-item-status">
                                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>

                            <div class="photo-item" onclick="capturePhoto(4, 'Other Vehicle Damage')" data-captured="false">
                                <div class="photo-item-number">5</div>
                                <div class="photo-item-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                                        <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                                        <path d="M5 17h-2v-6l2-5h9l4 5h1a2 2 0 0 1 2 2v4h-2"></path>
                                        <line x1="9" y1="17" x2="15" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="photo-item-info">
                                    <h4>Other Vehicle Damage</h4>
                                    <p>Their vehicle's condition</p>
                                </div>
                                <div class="photo-item-status">
                                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>

                            <div class="photo-item" onclick="capturePhoto(5, 'License Plates')" data-captured="false">
                                <div class="photo-item-number">6</div>
                                <div class="photo-item-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="2" y="6" width="20" height="12" rx="2"></rect>
                                        <path d="M7 12h10"></path>
                                    </svg>
                                </div>
                                <div class="photo-item-info">
                                    <h4>License Plates</h4>
                                    <p>Both vehicles' plates</p>
                                </div>
                                <div class="photo-item-status">
                                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>

                            <div class="photo-item" onclick="capturePhoto(6, 'Insurance Cards')" data-captured="false">
                                <div class="photo-item-number">7</div>
                                <div class="photo-item-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="2" y="4" width="20" height="16" rx="2"></rect>
                                        <line x1="2" y1="10" x2="22" y2="10"></line>
                                    </svg>
                                </div>
                                <div class="photo-item-info">
                                    <h4>Insurance Cards</h4>
                                    <p>Both drivers' insurance</p>
                                </div>
                                <div class="photo-item-status">
                                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>

                            <div class="photo-item" onclick="capturePhoto(7, 'Road Conditions')" data-captured="false">
                                <div class="photo-item-number">8</div>
                                <div class="photo-item-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M4 19l4-14h8l4 14"></path>
                                        <path d="M9 19h6"></path>
                                        <path d="M8 5v3"></path>
                                        <path d="M16 5v3"></path>
                                    </svg>
                                </div>
                                <div class="photo-item-info">
                                    <h4>Road Conditions</h4>
                                    <p>Signs, weather, hazards</p>
                                </div>
                                <div class="photo-item-status">
                                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="photo-counter" id="photo-counter">0 of 8 photos captured</div>

                        <div class="accident-nav-buttons">
                            <button class="btn-accident-secondary" onclick="accidentGoToStep(1)">‚Üê Back</button>
                            <button class="btn-accident-primary" onclick="accidentGoToStep(3)">Continue ‚Üí</button>
                        </div>
                    </div>

                    <!-- STEP 3: Voice Recording -->
                    <div class="accident-step" id="accident-step-3" style="display: none;">
                        <h2 class="section-title-accident">üéôÔ∏è Record Your Statement</h2>
                        <p class="section-subtitle-accident">Describe what happened while it's fresh in your memory</p>

                        <div class="voice-recorder">
                            <div class="recorder-visual" id="recorder-visual">
                                <div class="recorder-circle" id="recorder-circle">
                                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                        <line x1="12" y1="19" x2="12" y2="23"></line>
                                        <line x1="8" y1="23" x2="16" y2="23"></line>
                                    </svg>
                                </div>
                                <div class="recorder-timer" id="recorder-timer">0:00</div>
                            </div>

                            <button class="record-button" id="record-button" onclick="toggleRecording()">
                                <span id="record-btn-text">Tap to Record</span>
                            </button>

                            <div class="recording-tip">
                                <strong>üí° Recording Tips:</strong>
                                <ul>
                                    <li>Describe what you saw and heard</li>
                                    <li>Mention weather and road conditions</li>
                                    <li>Note the time and location</li>
                                    <li>Don't admit fault or speculate</li>
                                </ul>
                            </div>
                        </div>

                        <div class="accident-nav-buttons">
                            <button class="btn-accident-secondary" onclick="accidentGoToStep(2)">‚Üê Back</button>
                            <button class="btn-accident-primary" onclick="accidentGoToStep(4)">Continue ‚Üí</button>
                        </div>
                    </div>

                    <!-- STEP 4: Witness Information -->
                    <div class="accident-step" id="accident-step-4" style="display: none;">
                        <h2 class="section-title-accident">üë• Witness Information</h2>
                        <p class="section-subtitle-accident">Collect contact info from anyone who saw the accident</p>

                        <div class="witness-form">
                            <div class="witness-input-group">
                                <label for="witness-name">Name</label>
                                <input type="text" id="witness-name" placeholder="Witness full name" class="accident-input">
                            </div>
                            <div class="witness-input-group">
                                <label for="witness-phone">Phone</label>
                                <input type="tel" id="witness-phone" placeholder="(555) 123-4567" class="accident-input" maxlength="14">
                            </div>
                            <div class="witness-input-group">
                                <label for="witness-email">Email (optional)</label>
                                <input type="email" id="witness-email" placeholder="email@example.com" class="accident-input">
                            </div>
                            <button class="btn-add-witness" onclick="addWitness()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                Add Witness
                            </button>
                        </div>

                        <div class="witness-list" id="witness-list">
                            <!-- Witnesses will be added here -->
                        </div>

                        <p class="witness-skip-note">No witnesses? You can skip this step.</p>

                        <div class="accident-nav-buttons">
                            <button class="btn-accident-secondary" onclick="accidentGoToStep(3)">‚Üê Back</button>
                            <button class="btn-accident-primary" onclick="accidentGoToStep(5)">Continue ‚Üí</button>
                        </div>
                    </div>

                    <!-- STEP 5: Critical Reminders -->
                    <div class="accident-step" id="accident-step-5" style="display: none;">
                        <h2 class="section-title-accident">‚ö†Ô∏è Critical Reminders</h2>
                        <p class="section-subtitle-accident">Protect your case - review these important tips</p>

                        <div class="reminder-section do-section">
                            <h3 class="reminder-header do-header">
                                <span class="reminder-icon">‚úÖ</span> DO These Things
                            </h3>
                            <div class="reminder-list">
                                <label class="reminder-item">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Check for injuries first</span>
                                </label>
                                <label class="reminder-item">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Call 911 if anyone is hurt</span>
                                </label>
                                <label class="reminder-item">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Take photos of EVERYTHING</span>
                                </label>
                                <label class="reminder-item">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Get witness contact info</span>
                                </label>
                                <label class="reminder-item">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Get police report number</span>
                                </label>
                                <label class="reminder-item">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Seek medical attention within 24 hours</span>
                                </label>
                            </div>
                        </div>

                        <div class="reminder-section dont-section">
                            <h3 class="reminder-header dont-header">
                                <span class="reminder-icon">‚ùå</span> DON'T Do These Things
                            </h3>
                            <div class="reminder-list">
                                <label class="reminder-item dont">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Admit fault or apologize</span>
                                </label>
                                <label class="reminder-item dont">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Sign anything at the scene</span>
                                </label>
                                <label class="reminder-item dont">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Give recorded statement to insurance</span>
                                </label>
                                <label class="reminder-item dont">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Accept first settlement offer</span>
                                </label>
                                <label class="reminder-item dont">
                                    <input type="checkbox" class="reminder-checkbox" onchange="updateReminderProgress()">
                                    <span>Post about accident on social media</span>
                                </label>
                            </div>
                        </div>

                        <div class="accident-nav-buttons">
                            <button class="btn-accident-secondary" onclick="accidentGoToStep(4)">‚Üê Back</button>
                            <button class="btn-accident-primary" onclick="accidentGoToStep(6)">Continue ‚Üí</button>
                        </div>
                    </div>

                    <!-- STEP 6: Evidence Review & Distribution -->
                    <div class="accident-step" id="accident-step-6" style="display: none;">
                        <h2 class="section-title-accident">üìã Your Evidence Package</h2>
                        <p class="section-subtitle-accident">Choose how you'd like to save and share</p>

                        <!-- Compact Evidence Summary -->
                        <div class="evidence-summary-compact">
                            <div class="evidence-summary-row">
                                <span>üì∏ Photos</span>
                                <span id="evidence-photos-count-compact">0 captured</span>
                            </div>
                            <div class="evidence-summary-row">
                                <span>üéôÔ∏è Recording</span>
                                <span id="evidence-recording-compact">None</span>
                            </div>
                            <div class="evidence-summary-row">
                                <span>üë• Witnesses</span>
                                <span id="evidence-witnesses-compact">0 added</span>
                            </div>
                            <div class="evidence-summary-row">
                                <span>üìç Location</span>
                                <span id="evidence-location-compact">Captured</span>
                            </div>
                            <div class="evidence-summary-row">
                                <span>üïê Timestamp</span>
                                <span id="evidence-timestamp-compact">-</span>
                            </div>
                        </div>

                        <!-- Distribution Options -->
                        <div class="distribution-options">
                            <h3 class="distribution-title">What would you like to do?</h3>

                            <div class="distribution-option" id="dist-option-self" onclick="selectDistribution('self')">
                                <div class="distribution-icon">üìß</div>
                                <div class="distribution-content">
                                    <h4>Email to Myself</h4>
                                    <p>Save evidence as a ZIP file for your records</p>
                                </div>
                                <div class="distribution-check">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>

                            <div class="distribution-option" id="dist-option-lawyer" onclick="selectDistribution('lawyer')">
                                <div class="distribution-icon">‚öñÔ∏è</div>
                                <div class="distribution-content">
                                    <h4>Send to Attorney</h4>
                                    <p>Get a free case review from our legal team</p>
                                </div>
                                <div class="distribution-check">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>

                            <div class="distribution-option selected" id="dist-option-both" onclick="selectDistribution('both')">
                                <div class="distribution-icon">‚ú®</div>
                                <div class="distribution-content">
                                    <h4>Both</h4>
                                    <p>Keep a copy and get legal help (Recommended)</p>
                                </div>
                                <div class="distribution-check">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Email Input (shown when self or both selected) -->
                        <div class="distribution-email-input" id="distribution-email-section">
                            <label for="evidence-email">Your email address</label>
                            <input type="email" id="evidence-email" placeholder="you@example.com" autocomplete="email">
                            <p class="email-note">We'll send your evidence package as a secure ZIP file</p>
                        </div>

                        <div class="submit-disclaimer">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                            <span id="submit-disclaimer-text">Your evidence will be securely encrypted.</span>
                        </div>

                        <div class="accident-nav-buttons">
                            <button class="btn-accident-secondary" onclick="accidentGoToStep(5)">‚Üê Back</button>
                            <button class="btn-accident-primary btn-submit-evidence" id="submit-evidence-btn" onclick="submitEvidence()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                                <span id="submit-btn-text">Send Evidence</span>
                            </button>
                        </div>
                    </div>

                    <!-- STEP 7: Success (Dynamic based on distribution choice) -->
                    <div class="accident-step" id="accident-step-7" style="display: none;">
                        <div class="success-container-accident">
                            <div class="success-icon-accident">
                                <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                            </div>
                            <h2 class="success-title-accident" id="success-title">Evidence Saved!</h2>
                            <p class="success-subtitle-accident" id="success-subtitle">Check your email for the evidence package.</p>

                            <!-- Content for "self" only -->
                            <div class="next-steps-accident" id="success-self-content" style="display: none;">
                                <h3>Your Evidence is Safe</h3>
                                <div class="next-step-item">
                                    <span class="next-step-number">1</span>
                                    <span>Check your email for the ZIP file</span>
                                </div>
                                <div class="next-step-item">
                                    <span class="next-step-number">2</span>
                                    <span>Download and save to a safe location</span>
                                </div>
                                <div class="next-step-item">
                                    <span class="next-step-number">3</span>
                                    <span>Keep for insurance or legal needs</span>
                                </div>

                                <div class="reminder-notice" id="reminder-notice">
                                    <div class="reminder-icon">üí°</div>
                                    <div class="reminder-content">
                                        <h4>Want a Free Case Review?</h4>
                                        <p>Our attorneys can review your evidence and let you know if you have a case - at no cost.</p>
                                        <button class="btn-reminder-cta" onclick="sendToLawyerLater()">
                                            Send to Attorney
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Content for "lawyer" only -->
                            <div class="next-steps-accident" id="success-lawyer-content" style="display: none;">
                                <h3>What Happens Next?</h3>
                                <div class="next-step-item">
                                    <span class="next-step-number">1</span>
                                    <span>Our team reviews your evidence</span>
                                </div>
                                <div class="next-step-item">
                                    <span class="next-step-number">2</span>
                                    <span>We'll call you within 2 hours</span>
                                </div>
                                <div class="next-step-item">
                                    <span class="next-step-number">3</span>
                                    <span>We handle everything from here</span>
                                </div>
                            </div>

                            <!-- Content for "both" -->
                            <div class="next-steps-accident" id="success-both-content" style="display: none;">
                                <h3>You're All Set!</h3>
                                <div class="next-step-item">
                                    <span class="next-step-number">üìß</span>
                                    <span>Evidence package sent to your email</span>
                                </div>
                                <div class="next-step-item">
                                    <span class="next-step-number">‚öñÔ∏è</span>
                                    <span>Legal team reviewing your case</span>
                                </div>
                                <div class="next-step-item">
                                    <span class="next-step-number">üìû</span>
                                    <span>We'll call you within 2 hours</span>
                                </div>
                            </div>

                            <div class="emergency-contact-card">
                                <p>Need immediate help?</p>
                                <a href="tel:+12135550123" class="emergency-phone">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                                    </svg>
                                    (213) 555-0123
                                </a>
                            </div>

                            <button class="btn-accident-primary" onclick="exitAccidentMode()" style="margin-top: 24px;">
                                Return to Home
                            </button>
                        </div>
                    </div>

                </div>
            </div>

            <!-- EVIDENCE REMINDER MODAL (24-48 hours after self-save) -->
            <div class="modal-overlay evidence-reminder-modal" id="evidence-reminder-modal" onclick="hideReminderModal()" role="dialog" aria-modal="true" aria-labelledby="reminder-modal-title" style="display: none;">
                <div class="modal-content reminder-modal-content" onclick="event.stopPropagation()">
                    <button class="modal-close" onclick="hideReminderModal()" aria-label="Close reminder">√ó</button>

                    <div class="reminder-header">
                        <div class="reminder-modal-icon">üí°</div>
                        <h2 id="reminder-modal-title">How Are You Feeling?</h2>
                        <p class="reminder-intro">We hope you're recovering well from your accident.</p>
                    </div>

                    <div class="reminder-body">
                        <p class="reminder-message">
                            You saved accident evidence but haven't connected with a legal professional yet.
                            Our attorneys can provide a <strong>free, no-obligation case review</strong>.
                        </p>

                        <div class="reminder-evidence-box">
                            <h4>Your Saved Evidence</h4>
                            <div id="reminder-evidence-summary">
                                <!-- Dynamically populated -->
                            </div>
                        </div>

                        <div class="reminder-benefits">
                            <div class="benefit-item">
                                <span class="benefit-icon">‚úì</span>
                                <span>Free case evaluation</span>
                            </div>
                            <div class="benefit-item">
                                <span class="benefit-icon">‚úì</span>
                                <span>No obligation to proceed</span>
                            </div>
                            <div class="benefit-item">
                                <span class="benefit-icon">‚úì</span>
                                <span>Response within 2 hours</span>
                            </div>
                        </div>
                    </div>

                    <div class="reminder-actions">
                        <button class="modal-btn primary" onclick="sendEvidenceFromReminder()">
                            Yes, Review My Case
                        </button>
                        <button class="modal-btn secondary" onclick="dismissReminder(false)">
                            Remind Me Later
                        </button>
                        <button class="reminder-dismiss-link" onclick="dismissReminder(true)">
                            No thanks, I don't need help
                        </button>
                    </div>

                    <p class="reminder-disclaimer">
                        <span style="font-size: 10px;">ADVERTISEMENT: Kitsinian Law Firm, APC, Los Angeles, CA. This does not create an attorney-client relationship.</span>
                    </p>
                </div>
            </div>

            <!-- SIGN-IN MODAL -->
            <div class="modal-overlay" id="signin-modal" onclick="hideSignInModal()" role="dialog" aria-modal="true" aria-labelledby="signin-modal-title">
                <div class="modal-content" onclick="event.stopPropagation()">
                    <button class="modal-close" onclick="hideSignInModal()" aria-label="Close sign in dialog">√ó</button>
                    <div class="modal-icon" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">
                        <svg style="width: 32px; height: 32px; color: white;"><use href="#icon-user"/></svg>
                    </div>
                    <h2 id="signin-modal-title">Sign In</h2>
                    <p>Access your submitted cases and track their status.</p>
                    <label for="signin-phone" class="visually-hidden">Phone Number</label>
                    <input type="tel" id="signin-phone" class="modal-input" placeholder="Phone Number" aria-label="Phone Number" maxlength="14" autocomplete="tel">
                    <label for="signin-email" class="visually-hidden">Email Address</label>
                    <input type="email" id="signin-email" class="modal-input" placeholder="Email (optional)" aria-label="Email Address" maxlength="254" autocomplete="email">
                    <button class="modal-btn primary" onclick="signIn()">Sign In</button>

                    <div class="signin-divider">
                        <span>or continue with</span>
                    </div>

                    <button class="apple-signin-btn" onclick="signInWithApple()">
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                            <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.53 4.09zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
                        </svg>
                        Sign in with Apple
                    </button>

                    <p class="modal-help">New here? Submit a claim to create an account automatically.</p>
                </div>
            </div>

            <!-- SAVE PROGRESS MODAL -->
            <div class="modal-overlay" id="save-progress-modal" onclick="hideSaveProgressModal()" role="dialog" aria-modal="true" aria-labelledby="save-progress-modal-title">
                <div class="modal-content" onclick="event.stopPropagation()">
                    <button class="modal-close" onclick="hideSaveProgressModal()" aria-label="Close save progress dialog">√ó</button>
                    <div class="modal-icon" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);">
                        <svg style="width: 32px; height: 32px; color: white;"><use href="#icon-document"/></svg>
                    </div>
                    <h2 id="save-progress-modal-title">Save Your Progress</h2>
                    <p>We'll send you a link to continue where you left off.</p>
                    <div class="save-method-tabs">
                        <button class="save-tab active" onclick="showSaveMethod('sms')">Text Me</button>
                        <button class="save-tab" onclick="showSaveMethod('email')">Email Me</button>
                    </div>
                    <div class="save-method" id="save-method-sms">
                        <label for="save-phone" class="visually-hidden">Phone Number</label>
                        <input type="tel" id="save-phone" class="modal-input" placeholder="Phone Number" aria-label="Phone Number" maxlength="14" autocomplete="tel">
                        <button class="modal-btn primary" onclick="saveProgress('sms')">Send Link</button>
                    </div>
                    <div class="save-method hidden" id="save-method-email">
                        <label for="save-email" class="visually-hidden">Email Address</label>
                        <input type="email" id="save-email" class="modal-input" placeholder="Email Address" aria-label="Email Address" maxlength="254" autocomplete="email">
                        <button class="modal-btn primary" onclick="saveProgress('email')">Send Link</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Security: HTML escape function to prevent XSS
        function escapeHtml(text) {
            if (typeof text !== 'string') return text;
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        let currentDevice = 'iphone';
        let currentScreen = 'home';
        let articleOpen = false;
        let currentQuizStep = 1;
        let quizAnswers = {};
        let currentOnboardingScreen = 1;
        let selectedOnboardingOption = null;
        let isDarkMode = false;

        // User auth state
        let isSignedIn = false;
        let currentUser = null;

        // Mock cases data (demo)
        let userCases = [];

        // Mock data for demo - cases from a returning user
        const mockCases = [
            {
                id: 1,
                type: 'Car Accident',
                submitted: '2025-01-28',
                status: 'retained',
                attorney: {
                    name: 'Sarah Mitchell',
                    phone: '(213) 555-0123',
                    email: 'smitchell@kitsinian.com'
                }
            },
            {
                id: 2,
                type: 'Insurance Bad Faith',
                submitted: '2025-02-01',
                status: 'under-review',
                attorney: null
            }
        ];

        const progressSteps = {
            1: 20,
            2: 40,
            3: 60,
            4: 80,
            5: 100
        };

        // ==================== EVENT DELEGATION SYSTEM ====================
        // Central event handler for data-action attributes
        // This replaces inline onclick handlers for better maintainability
        document.addEventListener('DOMContentLoaded', function() {
            const screenContainer = document.querySelector('.device-screen');
            if (!screenContainer) return;

            screenContainer.addEventListener('click', function(e) {
                // Find closest element with data-action
                const actionEl = e.target.closest('[data-action]');
                if (!actionEl) return;

                const action = actionEl.dataset.action;

                // Route to appropriate handler
                switch(action) {
                    case 'switch-tab':
                        e.preventDefault();
                        switchTab(actionEl.dataset.tab);
                        break;
                    case 'show-article':
                        e.preventDefault();
                        showArticle(actionEl.dataset.article);
                        break;
                    case 'hide-article':
                        e.preventDefault();
                        hideArticle();
                        break;
                    case 'toggle-faq':
                        e.preventDefault();
                        toggleFaq(actionEl);
                        break;
                    case 'toggle-check':
                        e.preventDefault();
                        toggleCheck(actionEl);
                        break;
                    case 'show-privacy':
                        e.preventDefault();
                        showPrivacyModal();
                        break;
                    case 'show-terms':
                        e.preventDefault();
                        showTermsModal();
                        break;
                    case 'show-signin':
                        e.preventDefault();
                        toggleSignIn();
                        break;
                    case 'start-quiz':
                        e.preventDefault();
                        const topic = actionEl.dataset.topic;
                        if (topic) {
                            startQuizWithTopic(topic);
                        } else {
                            switchTab('claim');
                        }
                        break;
                }
            });
        });

        // Dynamic questions for Step 2 based on case type
        const step2Questions = {
            'car-accident': {
                question: 'What was your role in the accident?',
                subtext: 'This helps us understand your situation',
                options: [
                    { value: 'driver', label: 'I was driving', icon: 'car' },
                    { value: 'passenger', label: 'I was a passenger', icon: 'injury' },
                    { value: 'pedestrian', label: 'Pedestrian or cyclist', icon: 'fall' },
                    { value: 'parked', label: 'My parked car was hit', icon: 'property' },
                    { value: 'rideshare', label: 'Uber/Lyft accident', icon: 'car' }
                ]
            },
            'injury': {
                question: 'How were you injured?',
                subtext: 'Select the cause of your injury',
                options: [
                    { value: 'work-accident', label: 'Accident at work', icon: 'work' },
                    { value: 'medical', label: 'Medical malpractice', icon: 'hospital' },
                    { value: 'product', label: 'Defective product', icon: 'denied' },
                    { value: 'dog-bite', label: 'Dog bite or animal attack', icon: 'injury' },
                    { value: 'assault', label: 'Assault or battery', icon: 'injury' },
                    { value: 'other-injury', label: 'Other injury', icon: 'question' }
                ]
            },
            'slip-fall': {
                question: 'Where did you fall?',
                subtext: 'The location affects who may be liable',
                options: [
                    { value: 'store', label: 'Store or business', icon: 'building' },
                    { value: 'apartment', label: 'Apartment or rental', icon: 'home' },
                    { value: 'sidewalk', label: 'Sidewalk or public area', icon: 'location' },
                    { value: 'workplace', label: 'At my workplace', icon: 'work' },
                    { value: 'private', label: 'Private residence', icon: 'home' },
                    { value: 'other-location', label: 'Other location', icon: 'question' }
                ]
            },
            'insurance': {
                question: "What's happening with your claim?",
                subtext: 'Tell us about the dispute',
                options: [
                    { value: 'denied', label: 'My claim was denied', icon: 'denied' },
                    { value: 'delayed', label: 'Unreasonable delays', icon: 'clock' },
                    { value: 'lowball', label: 'Lowball settlement offer', icon: 'lowball' },
                    { value: 'cancelled', label: 'Policy cancelled unfairly', icon: 'denied' },
                    { value: 'other-insurance', label: 'Other dispute', icon: 'question' }
                ]
            },
            'lemon': {
                question: "What's wrong with your vehicle?",
                subtext: 'Select the main issue',
                options: [
                    { value: 'engine', label: 'Engine or transmission', icon: 'car' },
                    { value: 'electrical', label: 'Electrical problems', icon: 'lightning' },
                    { value: 'safety', label: 'Safety defects (brakes, steering)', icon: 'shield' },
                    { value: 'recurring', label: 'Same problem keeps returning', icon: 'alarm' },
                    { value: 'multiple', label: 'Multiple different issues', icon: 'question' }
                ]
            },
            'property': {
                question: 'What type of property damage?',
                subtext: 'Select what was damaged',
                options: [
                    { value: 'vehicle-damage', label: 'Vehicle from accident', icon: 'car' },
                    { value: 'fire', label: 'Fire damage', icon: 'alarm' },
                    { value: 'water', label: 'Water or flood damage', icon: 'property' },
                    { value: 'theft', label: 'Theft or vandalism', icon: 'denied' },
                    { value: 'other-damage', label: 'Other property damage', icon: 'question' }
                ]
            },
            'other': {
                question: 'What type of legal help do you need?',
                subtext: 'We can connect you with the right attorney',
                options: [
                    { value: 'employment', label: 'Employment or workplace issue', icon: 'work' },
                    { value: 'family', label: 'Family law matter', icon: 'family' },
                    { value: 'criminal', label: 'Criminal defense', icon: 'gavel' },
                    { value: 'business', label: 'Business dispute', icon: 'document' },
                    { value: 'other-legal', label: 'Something else', icon: 'question' }
                ]
            },
            // Referral Network practice areas
            'family-law': {
                question: 'What family law matter do you need help with?',
                subtext: 'Select the option that best describes your situation',
                options: [
                    { value: 'divorce', label: 'Divorce or separation', icon: 'family' },
                    { value: 'custody', label: 'Child custody or visitation', icon: 'family' },
                    { value: 'support', label: 'Child or spousal support', icon: 'document' },
                    { value: 'adoption', label: 'Adoption or guardianship', icon: 'family' },
                    { value: 'domestic-violence', label: 'Domestic violence / restraining order', icon: 'shield' },
                    { value: 'other-family', label: 'Other family matter', icon: 'question' }
                ]
            },
            'criminal-defense': {
                question: 'What type of criminal matter?',
                subtext: 'All consultations are confidential',
                options: [
                    { value: 'dui', label: 'DUI / DWI', icon: 'car' },
                    { value: 'drug', label: 'Drug charges', icon: 'gavel' },
                    { value: 'theft', label: 'Theft or property crimes', icon: 'denied' },
                    { value: 'assault', label: 'Assault or violent crimes', icon: 'injury' },
                    { value: 'traffic', label: 'Traffic violations', icon: 'car' },
                    { value: 'other-criminal', label: 'Other criminal matter', icon: 'question' }
                ]
            },
            'employment-law': {
                question: 'What employment issue are you facing?',
                subtext: 'Tell us about your workplace situation',
                options: [
                    { value: 'wrongful-termination', label: 'Wrongful termination', icon: 'denied' },
                    { value: 'discrimination', label: 'Discrimination or harassment', icon: 'injury' },
                    { value: 'wage', label: 'Unpaid wages or overtime', icon: 'document' },
                    { value: 'retaliation', label: 'Retaliation for reporting', icon: 'shield' },
                    { value: 'contract', label: 'Employment contract dispute', icon: 'document' },
                    { value: 'other-employment', label: 'Other employment issue', icon: 'question' }
                ]
            },
            'real-estate': {
                question: 'What real estate issue do you have?',
                subtext: 'Select the option that applies',
                options: [
                    { value: 'landlord-tenant', label: 'Landlord-tenant dispute', icon: 'home' },
                    { value: 'purchase', label: 'Purchase or sale issue', icon: 'document' },
                    { value: 'boundary', label: 'Boundary or neighbor dispute', icon: 'building' },
                    { value: 'hoa', label: 'HOA dispute', icon: 'building' },
                    { value: 'foreclosure', label: 'Foreclosure', icon: 'denied' },
                    { value: 'other-realestate', label: 'Other real estate matter', icon: 'question' }
                ]
            }
        };

        function switchTab(tabName) {
            if (articleOpen) return;

            document.querySelectorAll('.tab').forEach(t => {
                t.classList.remove('active');
                t.setAttribute('aria-selected', 'false');
            });
            document.querySelectorAll('.screen:not(.detail-screen)').forEach(s => s.classList.remove('active'));

            const activeTab = document.getElementById('tab-' + tabName);
            activeTab.classList.add('active');
            activeTab.setAttribute('aria-selected', 'true');
            document.getElementById('screen-' + tabName).classList.add('active');

            const statusBar = document.getElementById('status-bar');
            statusBar.className = tabName === 'home' ? 'status-bar light' : 'status-bar dark';

            document.getElementById('screen-' + tabName).scrollTop = 0;
            currentScreen = tabName;

            // Update account UI when switching to account tab
            if (tabName === 'account') {
                updateAccountUI();
            }
        }

        function showArticle(articleId) {
            // First, hide any currently open article
            document.querySelectorAll('.detail-screen').forEach(s => s.classList.remove('active'));

            document.getElementById('screen-' + currentScreen).classList.add('slide-left');
            const article = document.getElementById('article-' + articleId);
            article.classList.add('active');
            article.scrollTop = 0;
            document.getElementById('tab-bar').classList.add('hidden');
            document.getElementById('status-bar').className = 'status-bar dark';
            articleOpen = true;
        }

        function hideArticle() {
            document.querySelectorAll('.detail-screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen-' + currentScreen).classList.remove('slide-left');
            document.getElementById('tab-bar').classList.remove('hidden');
            const statusBar = document.getElementById('status-bar');
            statusBar.className = currentScreen === 'home' ? 'status-bar light' : 'status-bar dark';
            articleOpen = false;
        }

        function goToStep(stepNum) {
            console.log('goToStep called with:', stepNum);
            document.querySelectorAll('.quiz-step').forEach(s => s.classList.remove('active'));
            const targetStep = document.getElementById('quiz-step-' + stepNum);
            if (targetStep) {
                targetStep.classList.add('active');
                console.log('Step ' + stepNum + ' activated');
            } else {
                console.error('Could not find quiz-step-' + stepNum);
            }
            document.getElementById('progress-fill').style.width = progressSteps[stepNum] + '%';
            currentQuizStep = stepNum;
            document.getElementById('screen-claim').scrollTop = 0;

            // Launch confetti on success step
            if (stepNum === 5) {
                setTimeout(() => {
                    if (confetti && confetti.burst) {
                        confetti.burst(window.innerWidth / 2, window.innerHeight / 3);
                    }
                }, 300);
            }
        }

        function selectAndAdvance(element, value, nextStep) {
            console.log('selectAndAdvance called:', value, 'next:', nextStep, 'currentStep:', currentQuizStep);
            // Highlight selected option briefly
            const parentStep = element.closest('.quiz-step');
            if (parentStep) {
                parentStep.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
            }
            element.classList.add('selected');

            // Store answer
            quizAnswers['step' + currentQuizStep] = value;
            console.log('Stored answer:', quizAnswers);

            // Advance after short delay
            setTimeout(() => {
                console.log('Advancing to step:', nextStep);
                goToStep(nextStep);
            }, 200);
        }

        function selectCaseType(element, caseType) {
            // Highlight selected option
            const parentStep = element.closest('.quiz-step');
            if (parentStep) {
                parentStep.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
            }
            element.classList.add('selected');

            // Store case type
            quizAnswers.step1 = caseType;
            quizAnswers.caseType = caseType;

            // Populate Step 2 with dynamic questions
            const config = step2Questions[caseType];
            if (config) {
                document.getElementById('step2-question').textContent = config.question;
                document.getElementById('step2-subtext').textContent = config.subtext;

                const optionsContainer = document.getElementById('step2-options');
                optionsContainer.innerHTML = config.options.map(opt => `
                    <div class="quiz-option" onclick="selectAndAdvance(this, '${opt.value}', 3)">
                        <div class="quiz-option-icon">
                            <svg style="width: 26px; height: 26px; color: white;"><use href="#icon-${opt.icon}"/></svg>
                        </div>
                        <span>${opt.label}</span>
                    </div>
                `).join('');
            }

            // Advance to step 2
            setTimeout(() => {
                goToStep(2);
            }, 200);
        }

        function submitLead() {
            const name = document.getElementById('lead-name').value;
            const phone = document.getElementById('lead-phone').value;
            const email = document.getElementById('lead-email').value;
            const description = document.getElementById('lead-description').value;
            const submitBtn = document.getElementById('submit-btn');

            // Simple validation
            if (!name || !phone) {
                showToast('Please enter your name and phone number', 'error');
                return;
            }

            // Show loading state
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;

            // Store lead info
            quizAnswers.name = name;
            quizAnswers.phone = phone;
            quizAnswers.email = email;
            quizAnswers.description = description;

            // Note: In production, submit to secure backend API here
            // Simulate API call with timeout (remove in production)
            setTimeout(() => {
                // Remove loading state before transitioning
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;

                // Get case type from step 1 answer
            const caseTypeMap = {
                'car-accident': 'Car Accident',
                'injury': 'Personal Injury',
                'slip-fall': 'Slip & Fall',
                'insurance': 'Insurance Dispute',
                'lemon': 'Lemon Law',
                'property': 'Property Damage',
                'family-law': 'Family Law',
                'criminal-defense': 'Criminal Defense',
                'employment-law': 'Employment Law',
                'real-estate': 'Real Estate',
                'other': 'Other',
                'referral': quizAnswers.referralArea || 'Referral'
            };
            const caseType = caseTypeMap[quizAnswers.step1] || 'General Inquiry';

            // Create new case
            const newCase = {
                id: Date.now(),
                type: caseType,
                submitted: new Date().toISOString().split('T')[0],
                status: 'submitted',
                attorney: null
            };

            // Add to user cases
            userCases.unshift(newCase);

            // Auto sign in the user if not already signed in
            if (!isSignedIn) {
                currentUser = {
                    name: name,
                    phone: phone,
                    email: email
                };
                isSignedIn = true;
                updateSignInButton();
            }

            console.log('Case created:', newCase);

            // Go to success step
            goToStep(5);
            }, 1500); // End setTimeout - simulates API call delay
        }

        function resetQuiz() {
            quizAnswers = {};
            currentQuizStep = 1;

            // Clear form fields
            document.getElementById('lead-name').value = '';
            document.getElementById('lead-phone').value = '';
            document.getElementById('lead-email').value = '';
            document.getElementById('lead-description').value = '';

            // Reset submit button state
            const submitBtn = document.getElementById('submit-btn');
            if (submitBtn) {
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
            }

            // Clear selections
            document.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));

            // Clear dynamic Step 2 options
            document.getElementById('step2-options').innerHTML = '';

            // Go back to step 1
            goToStep(1);
        }

        function toggleCheck(element) {
            element.querySelector('.check').classList.toggle('checked');
        }

        document.querySelectorAll('.category-chip').forEach(chip => {
            chip.addEventListener('click', function() {
                document.querySelectorAll('.category-chip').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Event delegation for quiz options (backup for inline onclick)
        document.addEventListener('click', function(e) {
            const quizOption = e.target.closest('.quiz-option');
            if (quizOption && quizOption.hasAttribute('onclick')) {
                console.log('Quiz option clicked via delegation:', quizOption);
            }
        });

        // ==================== ONBOARDING ====================
        function nextOnboarding() {
            document.getElementById('onboarding-1').classList.remove('active');
            document.getElementById('onboarding-1').classList.add('exit-left');
            document.getElementById('onboarding-2').classList.add('active');
            currentOnboardingScreen = 2;
        }

        function selectOnboardingOption(element, value) {
            document.querySelectorAll('.onboarding-option').forEach(o => o.classList.remove('selected'));
            element.classList.add('selected');
            selectedOnboardingOption = value;

            // Enable the continue button
            const btn = document.getElementById('onboarding-continue-btn');
            btn.style.opacity = '1';
            btn.style.pointerEvents = 'all';
        }

        // Accident Mode consent state
        let accidentModeConsent = true; // Default ON

        // Check if user has scrolled to bottom of legal agreement
        function checkLegalScroll() {
            const container = document.getElementById('legal-scroll-container');
            const btn = document.getElementById('btn-agree-continue');
            const indicator = document.getElementById('scroll-indicator');

            if (!container || !btn) return;

            // Check if scrolled near bottom (within 50px)
            const isAtBottom = container.scrollHeight - container.scrollTop - container.clientHeight < 50;

            if (isAtBottom) {
                btn.disabled = false;
                if (indicator) indicator.classList.add('hidden');
            }
        }

        // Proceed from legal agreement (screen 1) to welcome screen (screen 2)
        function proceedFromConsent() {
            // User agreed to terms - Accident Mode enabled by default
            // User can toggle it off in Settings if they choose
            localStorage.setItem('accidentModeEnabled', 'true');
            localStorage.setItem('userAgreedToTerms', 'true');

            // Update banner visibility
            updateAccidentBannerVisibility();

            // Go from consent (onboarding-3) to welcome (onboarding-1)
            // Use class-based transitions like nextOnboarding()
            document.getElementById('onboarding-3').classList.remove('active');
            document.getElementById('onboarding-3').classList.add('exit-left');
            document.getElementById('onboarding-1').classList.add('active');
        }

        function toggleAccidentConsent(element) {
            element.classList.toggle('active');
            accidentModeConsent = element.classList.contains('active');
        }

        // Complete onboarding after incident selection (final step)
        function completeOnboardingWithConsent() {
            if (!selectedOnboardingOption) return;

            // Store the answer for later
            quizAnswers['step1'] = selectedOnboardingOption;
            quizAnswers.caseType = selectedOnboardingOption;

            // Complete the quiz setup
            const config = step2Questions[selectedOnboardingOption];
            if (config) {
                document.getElementById('step2-question').textContent = config.question;
                document.getElementById('step2-subtext').textContent = config.subtext;

                const optionsContainer = document.getElementById('step2-options');
                optionsContainer.innerHTML = config.options.map(opt => `
                    <div class="quiz-option" onclick="selectAndAdvance(this, '${opt.value}', 3)">
                        <div class="quiz-option-icon">
                            <svg style="width: 26px; height: 26px; color: white;"><use href="#icon-${opt.icon}"/></svg>
                        </div>
                        <span>${opt.label}</span>
                    </div>
                `).join('');
            }

            // Hide onboarding
            document.getElementById('onboarding').classList.add('hidden');

            // Switch to claim tab and go to step 2
            switchTab('claim');

            // Small delay to let tab switch, then go to step 2
            setTimeout(() => {
                goToStep(2);
            }, 100);
        }

        function updateAccidentBannerVisibility() {
            const isEnabled = localStorage.getItem('accidentModeEnabled') === 'true';

            // Update Accident tab screen UI
            const statusBadge = document.getElementById('accident-status-badge');
            const statusText = document.getElementById('accident-status-text');
            const accidentToggle = document.getElementById('accident-mode-toggle');
            const accidentBtn = document.getElementById('manual-accident-btn');
            const tabDot = document.getElementById('accident-tab-dot');

            if (statusBadge) {
                if (isEnabled) {
                    statusBadge.classList.remove('disabled');
                    statusBadge.classList.add('enabled');
                } else {
                    statusBadge.classList.remove('enabled');
                    statusBadge.classList.add('disabled');
                }
            }

            if (statusText) {
                statusText.textContent = isEnabled ? 'Enabled & Ready' : 'Disabled';
            }

            if (accidentToggle) {
                if (isEnabled) {
                    accidentToggle.classList.add('active');
                } else {
                    accidentToggle.classList.remove('active');
                }
            }

            if (accidentBtn) {
                accidentBtn.disabled = !isEnabled;
            }

            if (tabDot) {
                tabDot.style.display = isEnabled ? 'block' : 'none';
            }

            // Also sync the settings toggle in Account screen
            const settingsToggle = document.getElementById('accident-settings-toggle');
            if (settingsToggle) {
                if (isEnabled) {
                    settingsToggle.classList.add('active');
                } else {
                    settingsToggle.classList.remove('active');
                }
            }
        }

        function toggleAccidentMode(element) {
            element.classList.toggle('active');
            const isEnabled = element.classList.contains('active');
            localStorage.setItem('accidentModeEnabled', isEnabled ? 'true' : 'false');
            updateAccidentBannerVisibility();
            showToast(isEnabled ? 'Accident Mode enabled' : 'Accident Mode disabled', 'success');
        }

        function toggleAccidentModeFromSettings(element) {
            element.classList.toggle('active');
            const isEnabled = element.classList.contains('active');
            localStorage.setItem('accidentModeEnabled', isEnabled ? 'true' : 'false');
            updateAccidentBannerVisibility();
            showToast(isEnabled ? 'Accident Mode enabled' : 'Accident Mode disabled', 'success');
        }

        function skipOnboarding() {
            // Save default accident mode preference (enabled)
            localStorage.setItem('accidentModeEnabled', 'true');
            updateAccidentBannerVisibility();
            document.getElementById('onboarding').classList.add('hidden');
        }

        // Start quiz with a specific topic pre-selected (for article CTAs)
        function startQuizWithTopic(topic) {
            // Hide any open article
            hideArticle();

            // Hide onboarding if visible
            document.getElementById('onboarding').classList.add('hidden');

            // Store the topic as step 1 answer
            quizAnswers.step1 = topic;
            quizAnswers.caseType = topic;

            // Populate Step 2 with dynamic questions
            const config = step2Questions[topic];
            if (config) {
                document.getElementById('step2-question').textContent = config.question;
                document.getElementById('step2-subtext').textContent = config.subtext;

                const optionsContainer = document.getElementById('step2-options');
                optionsContainer.innerHTML = config.options.map(opt => `
                    <div class="quiz-option" onclick="selectAndAdvance(this, '${opt.value}', 3)">
                        <div class="quiz-option-icon">
                            <svg style="width: 26px; height: 26px; color: white;"><use href="#icon-${opt.icon}"/></svg>
                        </div>
                        <span>${opt.label}</span>
                    </div>
                `).join('');
            }

            // Switch to claim tab
            switchTab('claim');

            // Go directly to step 2
            setTimeout(() => {
                goToStep(2);
            }, 100);
        }

        // ==================== AUTH & ACCOUNT FUNCTIONS ====================

        function toggleSignIn() {
            if (isSignedIn) {
                // Show account tab when signed in
                switchTab('account');
            } else {
                showSignInModal();
            }
        }

        function showSignInModal() {
            document.getElementById('signin-modal').classList.add('active');
        }

        function hideSignInModal() {
            document.getElementById('signin-modal').classList.remove('active');
            document.getElementById('signin-phone').value = '';
            document.getElementById('signin-email').value = '';
        }

        function signIn() {
            const phone = document.getElementById('signin-phone').value;
            const email = document.getElementById('signin-email').value;

            if (!phone) {
                showToast('Please enter your phone number', 'error');
                return;
            }

            // Demo: create mock user
            currentUser = {
                name: 'Demo User',
                phone: phone,
                email: email || 'demo@example.com'
            };

            // Load mock cases for demo
            userCases = [...mockCases];

            isSignedIn = true;
            hideSignInModal();
            updateSignInButton();
            updateAccountUI();
        }

        function signOut() {
            isSignedIn = false;
            currentUser = null;
            userCases = [];
            updateSignInButton();
            updateAccountUI();
        }

        function signInWithApple() {
            // Demo: simulate Apple sign-in
            showToast('Apple Sign-in coming in native app!', 'info');

            // For demo purposes, sign in with mock data
            setTimeout(() => {
                isSignedIn = true;
                currentUser = {
                    name: 'Apple User',
                    email: 'user@icloud.com',
                    phone: ''
                };

                // Load mock cases for demo
                userCases = [...mockCases];

                hideSignInModal();
                updateSignInButton();
                updateAccountUI();
                showToast('Signed in successfully!', 'success');
            }, 500);
        }

        function updateSignInButton() {
            const btn = document.getElementById('signin-btn');
            if (isSignedIn && currentUser) {
                btn.classList.add('signed-in');
                const initial = currentUser.name.charAt(0).toUpperCase();
                btn.innerHTML = '<span class="user-initial">' + initial + '</span>';
            } else {
                btn.classList.remove('signed-in');
                btn.innerHTML = '<svg><use href="#icon-user"/></svg>';
            }
        }

        function updateAccountUI() {
            const signinPrompt = document.getElementById('signin-prompt');
            const casesList = document.getElementById('cases-list');
            const casesContainer = document.getElementById('cases-container');

            if (isSignedIn && currentUser) {
                signinPrompt.style.display = 'none';
                casesList.classList.remove('hidden');

                // Update user profile
                document.getElementById('user-avatar').textContent = currentUser.name.charAt(0).toUpperCase();
                document.getElementById('user-name').textContent = currentUser.name;
                document.getElementById('user-phone').textContent = currentUser.phone;

                // Render cases
                renderCases(casesContainer);
            } else {
                signinPrompt.style.display = 'block';
                casesList.classList.add('hidden');
            }
        }

        function renderCases(container) {
            if (userCases.length === 0) {
                container.innerHTML = `
                    <div class="no-cases-message">
                        <svg><use href="#icon-briefcase"/></svg>
                        <h3>No Cases Yet</h3>
                        <p>Submit your first claim to start tracking your case here.</p>
                        <button class="btn-start-claim" onclick="switchTab('claim')">
                            <svg style="width: 16px; height: 16px;"><use href="#icon-lightning"/></svg>
                            Start a Claim
                        </button>
                    </div>
                `;
                return;
            }

            const statusConfig = {
                'submitted': {
                    label: 'Submitted',
                    text: 'We received your information and will review it shortly.',
                    progress: 1
                },
                'under-review': {
                    label: 'Under Review',
                    text: 'Our team is reviewing your case details.',
                    progress: 2
                },
                'qualified': {
                    label: 'Qualified',
                    text: 'Good news! Your case qualifies for representation.',
                    progress: 3
                },
                'matched': {
                    label: 'Matched',
                    text: 'You have been matched with an attorney.',
                    progress: 4
                },
                'retained': {
                    label: 'Retained',
                    text: 'Your attorney has been assigned and will contact you.',
                    progress: 5
                }
            };

            let html = '';
            userCases.forEach(caseItem => {
                const config = statusConfig[caseItem.status] || statusConfig['submitted'];

                // Format date
                const date = new Date(caseItem.submitted);
                const formattedDate = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });

                // Progress steps
                let progressHtml = '';
                for (let i = 1; i <= 5; i++) {
                    let stepClass = '';
                    if (i < config.progress) stepClass = 'complete';
                    else if (i === config.progress) stepClass = 'current';
                    progressHtml += '<div class="case-progress-step ' + stepClass + '"></div>';
                }

                // Attorney card if matched/retained
                let attorneyHtml = '';
                if (caseItem.attorney && (caseItem.status === 'matched' || caseItem.status === 'retained')) {
                    const attInitial = caseItem.attorney.name.split(' ').map(n => n[0]).join('');
                    attorneyHtml = `
                        <div class="attorney-card">
                            <div class="attorney-avatar">${escapeHtml(attInitial)}</div>
                            <div class="attorney-info">
                                <h4>${escapeHtml(caseItem.attorney.name)}</h4>
                                <p>Your Attorney</p>
                            </div>
                            <div class="attorney-contact">
                                <button class="attorney-contact-btn" onclick="showToast('Calling ${escapeHtml(caseItem.attorney.phone)}...', 'success')" aria-label="Call attorney">
                                    <svg style="width: 16px; height: 16px;" aria-hidden="true"><use href="#icon-phone"/></svg>
                                </button>
                            </div>
                        </div>
                    `;
                }

                html += `
                    <div class="case-card">
                        <div class="case-card-header">
                            <div>
                                <div class="case-type">${escapeHtml(caseItem.type)}</div>
                                <div class="case-date">Submitted ${escapeHtml(formattedDate)}</div>
                            </div>
                            <span class="case-status-badge ${caseItem.status}">${config.label}</span>
                        </div>
                        <div class="case-progress">${progressHtml}</div>
                        <div class="case-status-text">${config.text}</div>
                        ${attorneyHtml}
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        let currentReferralArea = '';

        function showReferralInfo(areaName) {
            currentReferralArea = areaName;
            document.getElementById('referral-area-name').textContent = areaName;
            document.getElementById('referral-area-desc').textContent = 'We partner with trusted California attorneys who specialize in ' + areaName.toLowerCase() + '.';
            document.getElementById('referral-modal').classList.add('active');
        }

        function hideReferralModal() {
            document.getElementById('referral-modal').classList.remove('active');
        }

        function startReferralQuiz() {
            hideReferralModal();

            // Map referral area names to case type keys
            const referralMap = {
                'Family Law': 'family-law',
                'Criminal Defense': 'criminal-defense',
                'Employment Law': 'employment-law',
                'Real Estate Law': 'real-estate'
            };

            const caseType = referralMap[currentReferralArea] || 'other';

            // Set quiz answers
            quizAnswers = {
                step1: caseType,
                caseType: caseType,
                referralArea: currentReferralArea
            };

            // Populate Step 2 with relevant questions
            const config = step2Questions[caseType];
            if (config) {
                document.getElementById('step2-question').textContent = config.question;
                document.getElementById('step2-subtext').textContent = config.subtext;

                const optionsContainer = document.getElementById('step2-options');
                optionsContainer.innerHTML = config.options.map(opt => `
                    <div class="quiz-option" onclick="selectAndAdvance(this, '${opt.value}', 3)">
                        <div class="quiz-option-icon">
                            <svg style="width: 26px; height: 26px; color: white;"><use href="#icon-${opt.icon}"/></svg>
                        </div>
                        <span>${opt.label}</span>
                    </div>
                `).join('');
            }

            // Switch to claim tab and go to Step 2
            switchTab('claim');
            setTimeout(() => {
                goToStep(2);
            }, 100);
        }

        // Legal Modal Functions
        function showPrivacyModal() {
            document.getElementById('privacy-modal').classList.add('active');
        }

        function hidePrivacyModal() {
            document.getElementById('privacy-modal').classList.remove('active');
        }

        function showTermsModal() {
            document.getElementById('terms-modal').classList.add('active');
        }

        function hideTermsModal() {
            document.getElementById('terms-modal').classList.remove('active');
        }

        function showLegalDisclaimer() {
            document.getElementById('disclaimer-modal').classList.add('active');
        }

        function showNoFeeDisclaimer() {
            document.getElementById('disclaimer-modal').classList.add('active');
        }

        function hideDisclaimerModal() {
            document.getElementById('disclaimer-modal').classList.remove('active');
        }

        // ==================== NEW OPTIMIZATION FUNCTIONS ====================

        // FAQ Accordion
        function toggleFaq(element) {
            // Close all other FAQ items
            document.querySelectorAll('.faq-item').forEach(item => {
                if (item !== element) {
                    item.classList.remove('open');
                }
            });
            // Toggle current item
            element.classList.toggle('open');
        }

        // Phone Number Auto-Formatting
        function formatPhoneNumber(input) {
            let value = input.value.replace(/\D/g, '');
            let formatted = '';

            if (value.length > 0) {
                formatted = '(' + value.substring(0, 3);
            }
            if (value.length > 3) {
                formatted += ') ' + value.substring(3, 6);
            }
            if (value.length > 6) {
                formatted += '-' + value.substring(6, 10);
            }

            input.value = formatted;
            validateInput(input, 'phone');
        }

        // Form Validation
        function validateInput(input, type) {
            const value = input.value.trim();
            let isValid = false;

            switch (type) {
                case 'name':
                    isValid = value.length >= 2;
                    break;
                case 'phone':
                    // Check for formatted phone number (xxx) xxx-xxxx
                    const phoneDigits = value.replace(/\D/g, '');
                    isValid = phoneDigits.length === 10;
                    break;
                case 'email':
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    isValid = emailRegex.test(value);
                    break;
            }

            input.classList.remove('valid', 'invalid');
            if (value.length > 0) {
                input.classList.add(isValid ? 'valid' : 'invalid');
            }

            return isValid;
        }

        // Document Upload Handler (Quiz Form)
        let uploadedFiles = [];
        function handleFileUpload(input) {
            const files = Array.from(input.files);
            const uploadArea = document.getElementById('doc-upload-area');

            if (files.length > 0) {
                uploadedFiles = uploadedFiles.concat(files);
                uploadArea.classList.add('has-files');

                // Update upload area display
                let filesHtml = '<div class="uploaded-files">';
                uploadedFiles.forEach((file, index) => {
                    const isImage = file.type.startsWith('image/');
                    filesHtml += `
                        <div class="uploaded-file">
                            <svg><use href="#icon-${isImage ? 'image' : 'document'}"/></svg>
                            <span>${file.name}</span>
                            <span class="remove-file" onclick="removeFile(${index}, event)">√ó</span>
                        </div>
                    `;
                });
                filesHtml += '</div>';

                uploadArea.innerHTML = `
                    <svg><use href="#icon-check-circle"/></svg>
                    <h4>${uploadedFiles.length} file${uploadedFiles.length > 1 ? 's' : ''} selected</h4>
                    <p>Tap to add more</p>
                    ${filesHtml}
                    <input type="file" id="file-input" multiple accept="image/*,.pdf" style="display:none" onchange="handleFileUpload(this)">
                `;
            }
        }

        function removeFile(index, event) {
            event.stopPropagation();
            uploadedFiles.splice(index, 1);

            const uploadArea = document.getElementById('doc-upload-area');
            if (uploadedFiles.length === 0) {
                uploadArea.classList.remove('has-files');
                uploadArea.innerHTML = `
                    <input type="file" id="file-input" multiple accept="image/*,.pdf" style="display:none" onchange="handleFileUpload(this)">
                    <svg><use href="#icon-upload"/></svg>
                    <h4>Have photos or documents?</h4>
                    <p>Tap to upload for faster review</p>
                    <div class="upload-hint">Photos, PDFs, or screenshots</div>
                `;
            } else {
                // Re-render file list
                handleFileUpload({files: []});
            }
        }

        // Document Upload Handler (Account Section)
        let accountUploadedFiles = [];
        function handleAccountFileUpload(input) {
            const files = Array.from(input.files);
            const uploadArea = document.getElementById('account-upload-area');

            if (files.length > 0) {
                accountUploadedFiles = accountUploadedFiles.concat(files);
                uploadArea.classList.add('has-files');

                let filesHtml = '<div class="uploaded-files">';
                accountUploadedFiles.forEach((file, index) => {
                    const isImage = file.type.startsWith('image/');
                    filesHtml += `
                        <div class="uploaded-file">
                            <svg><use href="#icon-${isImage ? 'image' : 'document'}"/></svg>
                            <span>${file.name}</span>
                            <span class="remove-file" onclick="removeAccountFile(${index}, event)">√ó</span>
                        </div>
                    `;
                });
                filesHtml += '</div>';

                uploadArea.innerHTML = `
                    <svg><use href="#icon-check-circle"/></svg>
                    <h4>${accountUploadedFiles.length} file${accountUploadedFiles.length > 1 ? 's' : ''} uploaded</h4>
                    <p>Tap to add more</p>
                    ${filesHtml}
                    <input type="file" id="account-file-input" multiple accept="image/*,.pdf" style="display:none" onchange="handleAccountFileUpload(this)">
                `;
            }
        }

        function removeAccountFile(index, event) {
            event.stopPropagation();
            accountUploadedFiles.splice(index, 1);

            const uploadArea = document.getElementById('account-upload-area');
            if (accountUploadedFiles.length === 0) {
                uploadArea.classList.remove('has-files');
                uploadArea.innerHTML = `
                    <input type="file" id="account-file-input" multiple accept="image/*,.pdf" style="display:none" onchange="handleAccountFileUpload(this)">
                    <svg><use href="#icon-upload"/></svg>
                    <h4>Upload supporting documents</h4>
                    <p>Photos, medical records, receipts</p>
                `;
            }
        }

        // Post-Submit Notification Selection
        function toggleNotificationOption(element) {
            element.classList.toggle('selected');
            const type = element.getAttribute('data-type');
            console.log('Notification preference:', type, element.classList.contains('selected'));
        }

        // Account Notification Toggle Switches
        function toggleSwitch(element) {
            element.classList.toggle('active');
            const pref = element.getAttribute('data-pref');
            const isActive = element.classList.contains('active');
            console.log('Setting preference:', pref, isActive);
            // In production, this would save to user preferences
        }

        // Save Progress Modal
        function showSaveProgressModal() {
            document.getElementById('save-progress-modal').classList.add('active');
        }

        function hideSaveProgressModal() {
            document.getElementById('save-progress-modal').classList.remove('active');
        }

        function showSaveMethod(method) {
            // Toggle tab buttons
            document.querySelectorAll('.save-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // Toggle method forms
            document.getElementById('save-method-sms').classList.toggle('hidden', method !== 'sms');
            document.getElementById('save-method-email').classList.toggle('hidden', method !== 'email');
        }

        function saveProgress(method) {
            const contact = method === 'email'
                ? document.getElementById('save-email').value
                : document.getElementById('save-phone').value;

            if (!contact) {
                showToast('Please enter your ' + method, 'error');
                return;
            }

            console.log('Saving progress via', method, contact);
            showToast('We\'ll send you a link to continue!', 'success');
            hideSaveProgressModal();
        }

        // Article Helpful Feedback
        function helpfulFeedback(button, response) {
            const container = button.parentElement;
            const buttons = container.querySelectorAll('.helpful-btn');

            buttons.forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');

            // In production, this would send analytics
            console.log('Article feedback:', response);

            // Show thank you message
            setTimeout(() => {
                container.innerHTML = '<span style="color: var(--success); font-weight: 600;">Thanks for your feedback!</span>';
            }, 300);
        }

        // Share Article Functions
        function shareArticle(method) {
            const title = document.querySelector('.detail-screen:not([style*="display: none"]) .detail-title')?.textContent || 'ClaimIt Legal Guide';
            const url = window.location.href;

            switch (method) {
                case 'sms':
                    window.open(`sms:?body=Check out this helpful legal guide: ${title} - ${url}`);
                    break;
                case 'email':
                    window.open(`mailto:?subject=${encodeURIComponent(title)}&body=${encodeURIComponent('I thought you might find this helpful: ' + url)}`);
                    break;
                case 'copy':
                    navigator.clipboard.writeText(url).then(() => {
                        showToast('Link copied to clipboard!', 'success');
                    }).catch(() => {
                        showToast('Could not copy link', 'error');
                    });
                    break;
            }
        }

        // Progress text labels for quiz steps
        const stepLabels = ['', 'What happened', 'Details', 'Timing', 'Your Info', 'Done!'];

        // Update goToStep to include progress text
        const originalGoToStep = goToStep;
        goToStep = function(step) {
            originalGoToStep(step);

            // Update progress text
            const progressText = document.getElementById('progress-text');
            if (progressText && step <= 4) {
                progressText.textContent = `Step ${step} of 4: ${stepLabels[step]}`;
            }
        };

        // ==================== WOW FACTOR: TOAST NOTIFICATIONS ====================

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');

            toastMessage.textContent = message;
            toast.className = 'toast ' + type;
            toast.classList.add('show');

            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // ==================== WOW FACTOR: CONFETTI ====================

        class Confetti {
            constructor() {
                this.canvas = document.getElementById('confetti-canvas');
                if (!this.canvas) return;
                this.ctx = this.canvas.getContext('2d');
                this.particles = [];
                this.colors = ['#0066FF', '#FF6B35', '#00C48C', '#FFD700', '#FF69B4'];
                this.resize();
                window.addEventListener('resize', () => this.resize());
            }

            resize() {
                if (!this.canvas) return;
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
            }

            createParticle(x, y) {
                return {
                    x, y,
                    vx: (Math.random() - 0.5) * 20,
                    vy: Math.random() * -15 - 5,
                    color: this.colors[Math.floor(Math.random() * this.colors.length)],
                    size: Math.random() * 8 + 4,
                    rotation: Math.random() * 360,
                    rotationSpeed: (Math.random() - 0.5) * 10,
                    gravity: 0.3,
                    opacity: 1
                };
            }

            burst(x, y, count = 80) {
                for (let i = 0; i < count; i++) {
                    this.particles.push(this.createParticle(x, y));
                }
                this.animate();
            }

            animate() {
                if (!this.ctx) return;
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

                this.particles = this.particles.filter(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    p.vy += p.gravity;
                    p.rotation += p.rotationSpeed;
                    p.opacity -= 0.012;

                    if (p.opacity <= 0) return false;

                    this.ctx.save();
                    this.ctx.translate(p.x, p.y);
                    this.ctx.rotate(p.rotation * Math.PI / 180);
                    this.ctx.fillStyle = p.color;
                    this.ctx.globalAlpha = p.opacity;
                    this.ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size * 0.6);
                    this.ctx.restore();

                    return true;
                });

                if (this.particles.length > 0) {
                    requestAnimationFrame(() => this.animate());
                }
            }
        }

        const confetti = new Confetti();

        // ==================== WOW FACTOR: ACHIEVEMENTS ====================

        const achievements = {
            claimStarted: { title: 'Claim Started!', desc: 'You\'ve taken the first step toward justice.' },
            quizComplete: { title: 'Almost There!', desc: 'Just a few more details needed.' },
            formSubmitted: { title: 'Claim Submitted!', desc: 'Our team will review your case within 24 hours.' },
            documentUploaded: { title: 'Evidence Added!', desc: 'Documents strengthen your case significantly.' }
        };

        function showAchievement(type) {
            const achievement = achievements[type];
            if (!achievement) return;

            document.getElementById('achievementTitle').textContent = achievement.title;
            document.getElementById('achievementDesc').textContent = achievement.desc;

            const popup = document.getElementById('achievementPopup');
            popup.classList.add('show');

            // Trigger confetti
            if (confetti && confetti.burst) {
                confetti.burst(window.innerWidth / 2, window.innerHeight / 2);
            }
        }

        function hideAchievement() {
            document.getElementById('achievementPopup').classList.remove('show');
        }

        // ==================== WOW FACTOR: SOCIAL PROOF FEED ====================

        const proofData = [
            { initials: 'MR', location: 'Los Angeles', type: 'Car Accident', action: 'matched with an attorney', time: '2 min ago' },
            { initials: 'JK', location: 'San Diego', type: 'Slip & Fall', action: 'submitted a claim', time: '5 min ago' },
            { initials: 'AT', location: 'Irvine', type: 'Insurance Dispute', action: 'received case update', time: '8 min ago' },
            { initials: 'SL', location: 'Pasadena', type: 'Personal Injury', action: 'claim qualified', time: '12 min ago' },
            { initials: 'DW', location: 'Long Beach', type: 'Property Damage', action: 'started a claim', time: '15 min ago' }
        ];

        function initializeSocialProof() {
            const feed = document.getElementById('proofFeed');
            if (!feed) return;

            let currentIndex = 0;

            function addProofItem() {
                const data = proofData[currentIndex % proofData.length];

                const item = document.createElement('div');
                item.className = 'proof-item';
                item.innerHTML = `
                    <div class="proof-avatar">${data.initials}</div>
                    <div class="proof-content">
                        <strong>Someone in ${data.location}</strong>
                        <p>${data.action} for ${data.type}</p>
                    </div>
                    <span class="proof-time">${data.time}</span>
                `;

                // Remove old items if more than 3
                while (feed.children.length >= 3) {
                    feed.removeChild(feed.lastChild);
                }

                feed.insertBefore(item, feed.firstChild);

                // Trigger animation
                setTimeout(() => item.classList.add('visible'), 50);

                currentIndex++;
            }

            // Initial items
            addProofItem();
            setTimeout(addProofItem, 200);
            setTimeout(addProofItem, 400);

            // Add new item every 10-18 seconds
            setInterval(() => {
                addProofItem();
            }, 10000 + Math.random() * 8000);
        }

        // Initialize social proof on load
        document.addEventListener('DOMContentLoaded', initializeSocialProof);
        // Also try immediately in case DOM is already loaded
        if (document.readyState !== 'loading') {
            initializeSocialProof();
        }

        // Initialize accident mode banner visibility on load
        document.addEventListener('DOMContentLoaded', function() {
            updateAccidentBannerVisibility();
        });

        // ==================== ENHANCED SUBMIT WITH ACHIEVEMENTS ====================

        // Override submitLead to show achievement
        const originalSubmitLead = submitLead;
        submitLead = function() {
            originalSubmitLead();

            // Show achievement after a brief delay
            setTimeout(() => {
                showAchievement('formSubmitted');
            }, 500);
        };

        // ==================== DEVICE SWITCHING ====================

        function switchDevice(device) {
            if (device === currentDevice) return;

            currentDevice = device;

            // Update toggle buttons
            document.querySelectorAll('.device-toggle-btn').forEach(btn => {
                if (btn.id.startsWith('toggle-i')) { // Only update device buttons, not theme buttons
                    btn.classList.remove('active');
                }
            });
            document.getElementById('toggle-' + device).classList.add('active');

            // Toggle tablet class on the single device frame
            const deviceFrame = document.getElementById('device-frame');
            if (device === 'ipad') {
                deviceFrame.classList.add('tablet');
            } else {
                deviceFrame.classList.remove('tablet');
            }
        }

        function toggleTheme(theme) {
            const screen = document.querySelector('.device-screen');
            isDarkMode = theme === 'dark';

            if (isDarkMode) {
                screen.classList.add('dark-mode');
                document.getElementById('toggle-dark').classList.add('active');
                document.getElementById('toggle-light').classList.remove('active');
            } else {
                screen.classList.remove('dark-mode');
                document.getElementById('toggle-light').classList.add('active');
                document.getElementById('toggle-dark').classList.remove('active');
            }
        }

        // Auto-detect system dark mode preference
        function initThemeFromSystem() {
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (prefersDark) {
                toggleTheme('dark');
            }
        }

        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            toggleTheme(e.matches ? 'dark' : 'light');
        });

        // Initialize theme on page load
        document.addEventListener('DOMContentLoaded', initThemeFromSystem);

        // ===== ACCESSIBILITY ENHANCEMENTS =====

        // Keyboard navigation for tab bar (arrow keys)
        document.addEventListener('DOMContentLoaded', function() {
            const tabBar = document.getElementById('tab-bar');
            const tabs = ['home', 'claim', 'learn', 'accident', 'account'];

            tabBar.addEventListener('keydown', function(e) {
                const currentTab = document.activeElement;
                if (!currentTab.classList.contains('tab')) return;

                const currentIndex = tabs.findIndex(t => currentTab.id === 'tab-' + t);
                let newIndex = currentIndex;

                if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                    e.preventDefault();
                    newIndex = (currentIndex + 1) % tabs.length;
                } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                    e.preventDefault();
                    newIndex = (currentIndex - 1 + tabs.length) % tabs.length;
                } else if (e.key === 'Home') {
                    e.preventDefault();
                    newIndex = 0;
                } else if (e.key === 'End') {
                    e.preventDefault();
                    newIndex = tabs.length - 1;
                }

                if (newIndex !== currentIndex) {
                    const newTab = document.getElementById('tab-' + tabs[newIndex]);
                    newTab.focus();
                    switchTab(tabs[newIndex]);
                }
            });
        });

        // Focus trap helper for modals
        function trapFocus(modal) {
            const focusableElements = modal.querySelectorAll(
                'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            const firstFocusable = focusableElements[0];
            const lastFocusable = focusableElements[focusableElements.length - 1];

            modal.addEventListener('keydown', function(e) {
                if (e.key !== 'Tab') return;

                if (e.shiftKey) {
                    if (document.activeElement === firstFocusable) {
                        lastFocusable.focus();
                        e.preventDefault();
                    }
                } else {
                    if (document.activeElement === lastFocusable) {
                        firstFocusable.focus();
                        e.preventDefault();
                    }
                }
            });
        }

        // Initialize focus trapping for modals
        document.addEventListener('DOMContentLoaded', function() {
            const modals = document.querySelectorAll('.modal-overlay, .legal-modal');
            modals.forEach(trapFocus);

            // Close modals with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    const activeModal = document.querySelector('.modal-overlay.active, .legal-modal.active');
                    if (activeModal) {
                        if (activeModal.id === 'signin-modal') hideSignInModal();
                        else if (activeModal.id === 'privacy-modal') hidePrivacyModal();
                        else if (activeModal.id === 'terms-modal') hideTermsModal();
                        else if (activeModal.id === 'disclaimer-modal') hideDisclaimerModal();
                        else if (activeModal.id === 'referral-modal') hideReferralModal();
                        else if (activeModal.id === 'save-progress-modal') hideSaveProgressModal();
                    }
                }
            });
        });

        // ========================================
        // ACCIDENT MODE FUNCTIONS
        // ========================================

        let accidentModeActive = false;
        let currentAccidentStep = 1;
        let accidentPhotos = [false, false, false, false, false, false, false, false];
        let accidentWitnesses = [];
        let isRecording = false;
        let recordingTime = 0;
        let recordingInterval = null;
        let hasRecording = false;

        // Enter Accident Mode
        function enterAccidentMode() {
            accidentModeActive = true;
            currentAccidentStep = 1;
            const screen = document.getElementById('accident-mode-screen');
            screen.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Reset all state
            accidentPhotos = [false, false, false, false, false, false, false, false];
            accidentWitnesses = [];
            hasRecording = false;
            isRecording = false;
            recordingTime = 0;

            // Reset UI
            resetPhotoChecklist();
            document.getElementById('witness-list').innerHTML = '';
            document.querySelectorAll('.reminder-checkbox').forEach(cb => cb.checked = false);

            // Update timestamp
            updateEvidenceTimestamp();

            // Show step 1
            accidentGoToStep(1);

            showToast('Accident Mode activated - Stay calm', 'info');
        }

        // Exit Accident Mode
        function exitAccidentMode() {
            if (accidentModeActive && currentAccidentStep < 7) {
                if (!confirm('Are you sure you want to exit? Your evidence will not be saved.')) {
                    return;
                }
            }

            accidentModeActive = false;
            const screen = document.getElementById('accident-mode-screen');
            screen.classList.remove('active');
            document.body.style.overflow = '';

            // Stop recording if active
            if (isRecording) {
                toggleRecording();
            }
        }

        // Navigate between accident steps
        function accidentGoToStep(step) {
            // Hide all steps
            for (let i = 1; i <= 7; i++) {
                const stepEl = document.getElementById('accident-step-' + i);
                if (stepEl) {
                    stepEl.style.display = 'none';
                }
            }

            // Show target step
            const targetStep = document.getElementById('accident-step-' + step);
            if (targetStep) {
                targetStep.style.display = 'block';
            }

            currentAccidentStep = step;

            // Update progress
            const progress = Math.round((step / 7) * 100);
            document.getElementById('accident-progress-fill').style.width = progress + '%';
            document.getElementById('accident-step-indicator').textContent = 'Step ' + step + ' of 7';

            // Update evidence review if on step 6
            if (step === 6) {
                updateEvidenceReview();
                updateEvidenceSummaryCompact();
                selectDistribution('both'); // Default to "both" option
            }
        }

        // Call 911
        function call911() {
            if (confirm('This will open your phone dialer to call 911. Continue?')) {
                window.location.href = 'tel:911';
            }
        }

        // Capture photo (simulated for prototype)
        function capturePhoto(index, photoType) {
            const photoItems = document.querySelectorAll('.photo-item');
            const item = photoItems[index];

            if (!item) return;

            // Toggle captured state
            const wasCaptured = accidentPhotos[index];
            accidentPhotos[index] = !wasCaptured;

            if (accidentPhotos[index]) {
                item.classList.add('captured');
                item.setAttribute('data-captured', 'true');
                showToast(photoType + ' captured!', 'success');
            } else {
                item.classList.remove('captured');
                item.setAttribute('data-captured', 'false');
            }

            updatePhotoCounter();
        }

        // Reset photo checklist
        function resetPhotoChecklist() {
            const photoItems = document.querySelectorAll('.photo-item');
            photoItems.forEach((item, index) => {
                item.classList.remove('captured');
                item.setAttribute('data-captured', 'false');
                accidentPhotos[index] = false;
            });
            updatePhotoCounter();
        }

        // Update photo counter
        function updatePhotoCounter() {
            const count = accidentPhotos.filter(p => p).length;
            document.getElementById('photo-counter').textContent = count + ' of 8 photos captured';
        }

        // Toggle voice recording
        function toggleRecording() {
            const button = document.getElementById('record-button');
            const btnText = document.getElementById('record-btn-text');
            const circle = document.getElementById('recorder-circle');
            const timer = document.getElementById('recorder-timer');

            if (!isRecording) {
                // Start recording
                isRecording = true;
                hasRecording = true;
                recordingTime = 0;
                button.classList.add('recording');
                circle.classList.add('recording');
                btnText.textContent = 'Tap to Stop';

                recordingInterval = setInterval(() => {
                    recordingTime++;
                    const minutes = Math.floor(recordingTime / 60);
                    const seconds = recordingTime % 60;
                    timer.textContent = minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
                }, 1000);

                showToast('Recording started...', 'info');
            } else {
                // Stop recording
                isRecording = false;
                button.classList.remove('recording');
                circle.classList.remove('recording');
                btnText.textContent = 'Tap to Record Again';

                clearInterval(recordingInterval);
                showToast('Recording saved!', 'success');
            }
        }

        // Format phone number for witness input
        function formatWitnessPhone(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length > 10) value = value.substring(0, 10);

            if (value.length > 6) {
                input.value = '(' + value.substring(0, 3) + ') ' + value.substring(3, 6) + '-' + value.substring(6);
            } else if (value.length > 3) {
                input.value = '(' + value.substring(0, 3) + ') ' + value.substring(3);
            } else if (value.length > 0) {
                input.value = '(' + value;
            }
        }

        // Add witness
        function addWitness() {
            const nameInput = document.getElementById('witness-name');
            const phoneInput = document.getElementById('witness-phone');
            const emailInput = document.getElementById('witness-email');

            const name = nameInput.value.trim();
            const phone = phoneInput.value.trim();
            const email = emailInput.value.trim();

            if (!name) {
                showToast('Please enter witness name', 'error');
                nameInput.focus();
                return;
            }

            if (!phone || phone.replace(/\D/g, '').length < 10) {
                showToast('Please enter valid phone number', 'error');
                phoneInput.focus();
                return;
            }

            const witness = { name, phone, email, id: Date.now() };
            accidentWitnesses.push(witness);

            renderWitnessList();

            // Clear inputs
            nameInput.value = '';
            phoneInput.value = '';
            emailInput.value = '';

            showToast('Witness added!', 'success');
        }

        // Render witness list
        function renderWitnessList() {
            const container = document.getElementById('witness-list');
            container.innerHTML = accidentWitnesses.map((w, index) => `
                <div class="witness-card">
                    <div class="witness-card-info">
                        <strong>${escapeHtml(w.name)}</strong>
                        <span>${escapeHtml(w.phone)}</span>
                        ${w.email ? '<span>' + escapeHtml(w.email) + '</span>' : ''}
                    </div>
                    <button class="witness-remove-btn" onclick="removeWitness(${index})" aria-label="Remove witness">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
            `).join('');
        }

        // Remove witness
        function removeWitness(index) {
            accidentWitnesses.splice(index, 1);
            renderWitnessList();
            showToast('Witness removed', 'info');
        }

        // Update reminder progress
        function updateReminderProgress() {
            // Visual feedback only for prototype
            const checkboxes = document.querySelectorAll('.reminder-checkbox:checked');
            if (checkboxes.length > 0) {
                // Could add progress indicator here
            }
        }

        // Update evidence review
        function updateEvidenceReview() {
            const photoCount = accidentPhotos.filter(p => p).length;
            document.getElementById('evidence-photos-count').textContent = photoCount + ' photos captured';

            const recordingStatus = hasRecording ?
                'Recording saved (' + document.getElementById('recorder-timer').textContent + ')' :
                'No recording';
            document.getElementById('evidence-recording-status').textContent = recordingStatus;

            document.getElementById('evidence-witnesses-count').textContent =
                accidentWitnesses.length + ' witness' + (accidentWitnesses.length !== 1 ? 'es' : '') + ' added';

            updateEvidenceTimestamp();
        }

        // Update evidence timestamp
        function updateEvidenceTimestamp() {
            const now = new Date();
            const formatted = now.toLocaleDateString('en-US', {
                month: 'short',
                day: 'numeric',
                year: 'numeric',
                hour: 'numeric',
                minute: '2-digit',
                hour12: true
            });
            const timestampEl = document.getElementById('evidence-timestamp');
            if (timestampEl) {
                timestampEl.textContent = formatted;
            }
        }

        // Distribution selection state
        let selectedDistribution = 'both'; // Default to "both"

        // Select distribution option
        function selectDistribution(option) {
            selectedDistribution = option;

            // Update visual selection
            ['self', 'lawyer', 'both'].forEach(opt => {
                const el = document.getElementById('dist-option-' + opt);
                if (el) {
                    el.classList.toggle('selected', opt === option);
                }
            });

            // Show/hide email input based on selection
            const emailSection = document.getElementById('distribution-email-section');
            if (emailSection) {
                emailSection.style.display = (option === 'self' || option === 'both') ? 'block' : 'none';
            }

            // Update disclaimer text and button text
            const disclaimerText = document.getElementById('submit-disclaimer-text');
            const submitBtnText = document.getElementById('submit-btn-text');

            if (option === 'self') {
                disclaimerText.textContent = 'Your evidence will be securely packaged and emailed to you.';
                submitBtnText.textContent = 'Email My Evidence';
            } else if (option === 'lawyer') {
                disclaimerText.textContent = 'Your evidence will be securely encrypted and sent to our legal team.';
                submitBtnText.textContent = 'Send to Attorney';
            } else {
                disclaimerText.textContent = 'Your evidence will be sent to you and our legal team.';
                submitBtnText.textContent = 'Send Evidence';
            }
        }

        // Update compact evidence summary
        function updateEvidenceSummaryCompact() {
            const photoCount = accidentPhotos.filter(p => p).length;

            const photosEl = document.getElementById('evidence-photos-count-compact');
            if (photosEl) photosEl.textContent = photoCount + ' captured';

            const recordingEl = document.getElementById('evidence-recording-compact');
            if (recordingEl) recordingEl.textContent = hasRecording ? 'Recorded' : 'None';

            const witnessesEl = document.getElementById('evidence-witnesses-compact');
            if (witnessesEl) witnessesEl.textContent = accidentWitnesses.length + ' added';

            const timestampEl = document.getElementById('evidence-timestamp-compact');
            if (timestampEl) {
                const now = new Date();
                timestampEl.textContent = now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
            }
        }

        // Submit evidence (handles distribution options)
        function submitEvidence() {
            const photoCount = accidentPhotos.filter(p => p).length;

            if (photoCount === 0 && !hasRecording && accidentWitnesses.length === 0) {
                if (!confirm('You haven\'t collected any evidence. Submit anyway?')) {
                    return;
                }
            }

            // Check email if required
            if (selectedDistribution === 'self' || selectedDistribution === 'both') {
                const emailInput = document.getElementById('evidence-email');
                const email = emailInput?.value?.trim();
                if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    showToast('Please enter a valid email address', 'error');
                    emailInput?.focus();
                    return;
                }
            }

            // Show loading state
            const submitBtn = document.getElementById('submit-evidence-btn');
            const submitBtnText = document.getElementById('submit-btn-text');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="spinner"></span> Processing...';

            // Simulate submission delay
            setTimeout(() => {
                submitBtn.disabled = false;
                submitBtn.innerHTML = `
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                    <span id="submit-btn-text">Send Evidence</span>
                `;

                // Update success screen based on distribution choice
                updateSuccessScreen();

                // Store reminder if only saved to self (for 24-48 hour follow-up)
                if (selectedDistribution === 'self') {
                    scheduleEvidenceReminder();
                }

                // Go to success screen
                accidentGoToStep(7);

                // Show appropriate toast
                if (selectedDistribution === 'self') {
                    showToast('Evidence package sent to your email!', 'success');
                } else if (selectedDistribution === 'lawyer') {
                    showToast('Evidence sent to our legal team!', 'success');
                } else {
                    showToast('Evidence saved and sent to legal team!', 'success');
                }
            }, 2000);
        }

        // Update success screen based on distribution choice
        function updateSuccessScreen() {
            const title = document.getElementById('success-title');
            const subtitle = document.getElementById('success-subtitle');
            const selfContent = document.getElementById('success-self-content');
            const lawyerContent = document.getElementById('success-lawyer-content');
            const bothContent = document.getElementById('success-both-content');

            // Hide all content sections
            if (selfContent) selfContent.style.display = 'none';
            if (lawyerContent) lawyerContent.style.display = 'none';
            if (bothContent) bothContent.style.display = 'none';

            if (selectedDistribution === 'self') {
                title.textContent = 'Evidence Saved!';
                subtitle.textContent = 'Check your email for the secure evidence package.';
                if (selfContent) selfContent.style.display = 'block';
            } else if (selectedDistribution === 'lawyer') {
                title.textContent = 'Evidence Submitted!';
                subtitle.textContent = 'Our legal team will review your case within 2 hours.';
                if (lawyerContent) lawyerContent.style.display = 'block';
            } else {
                title.textContent = "You're Protected!";
                subtitle.textContent = 'Evidence saved to your email and sent to our legal team.';
                if (bothContent) bothContent.style.display = 'block';
            }
        }

        // Schedule gentle reminder (24-48 hours after self-save)
        function scheduleEvidenceReminder() {
            // Store timestamp for reminder system
            const reminderData = {
                timestamp: Date.now(),
                email: document.getElementById('evidence-email')?.value,
                photoCount: accidentPhotos.filter(p => p).length,
                hasRecording: hasRecording,
                witnessCount: accidentWitnesses.length
            };
            localStorage.setItem('evidenceReminder', JSON.stringify(reminderData));

            // In production, this would trigger a push notification or email
            // For prototype, just log it
            console.log('Reminder scheduled for evidence follow-up:', reminderData);
        }

        // Send to lawyer after initially saving only to self
        function sendToLawyerLater() {
            const reminderNotice = document.getElementById('reminder-notice');
            if (reminderNotice) {
                reminderNotice.innerHTML = `
                    <div class="reminder-icon">‚úÖ</div>
                    <div class="reminder-content">
                        <h4>Sent to Legal Team!</h4>
                        <p>Our attorneys will review your evidence and contact you within 2 hours.</p>
                    </div>
                `;
            }

            // Clear the reminder since they've now sent to lawyer
            localStorage.removeItem('evidenceReminder');

            showToast('Evidence sent to our legal team!', 'success');
        }

        // Check for pending evidence reminder on app load
        function checkEvidenceReminder() {
            const reminderJSON = localStorage.getItem('evidenceReminder');
            if (!reminderJSON) return;

            const reminder = JSON.parse(reminderJSON);
            const hoursSinceAccident = (Date.now() - reminder.timestamp) / (1000 * 60 * 60);

            // Show reminder if 24-48 hours have passed
            // For prototype demo, we'll also show if it's been more than 10 seconds
            const shouldShowReminder = hoursSinceAccident >= 24 ||
                (window.location.search.includes('demo=reminder')); // Demo mode for testing

            if (shouldShowReminder) {
                showEvidenceReminderModal(reminder);
            }
        }

        // Show gentle reminder modal
        function showEvidenceReminderModal(reminder) {
            const modal = document.getElementById('evidence-reminder-modal');
            if (modal) {
                // Update modal content with evidence summary
                const evidenceSummary = document.getElementById('reminder-evidence-summary');
                if (evidenceSummary) {
                    evidenceSummary.innerHTML = `
                        <div class="reminder-summary-item">
                            <span>üì∏</span>
                            <span>${reminder.photoCount} photos</span>
                        </div>
                        <div class="reminder-summary-item">
                            <span>üéôÔ∏è</span>
                            <span>${reminder.hasRecording ? 'Voice recording' : 'No recording'}</span>
                        </div>
                        <div class="reminder-summary-item">
                            <span>üë•</span>
                            <span>${reminder.witnessCount} witnesses</span>
                        </div>
                    `;
                }
                modal.style.display = 'flex';
            }
        }

        // Hide reminder modal
        function hideReminderModal() {
            const modal = document.getElementById('evidence-reminder-modal');
            if (modal) {
                modal.style.display = 'none';
            }
        }

        // Send evidence from reminder modal
        function sendEvidenceFromReminder() {
            hideReminderModal();
            localStorage.removeItem('evidenceReminder');
            showToast('Evidence sent to our legal team for review!', 'success');
        }

        // Dismiss reminder (ask again later or dismiss permanently)
        function dismissReminder(permanent = false) {
            hideReminderModal();
            if (permanent) {
                localStorage.removeItem('evidenceReminder');
            } else {
                // Update timestamp to delay next reminder by 24 hours
                const reminderJSON = localStorage.getItem('evidenceReminder');
                if (reminderJSON) {
                    const reminder = JSON.parse(reminderJSON);
                    reminder.timestamp = Date.now();
                    localStorage.setItem('evidenceReminder', JSON.stringify(reminder));
                }
            }
        }

        // Add event listener for witness phone formatting
        document.addEventListener('DOMContentLoaded', function() {
            const witnessPhoneInput = document.getElementById('witness-phone');
            if (witnessPhoneInput) {
                witnessPhoneInput.addEventListener('input', function() {
                    formatWitnessPhone(this);
                });
            }

            // Check for pending evidence reminder (24-48 hours after self-save)
            // Small delay to let app fully load first
            setTimeout(checkEvidenceReminder, 1000);
        });

        // Handle Escape key for accident mode
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && accidentModeActive) {
                exitAccidentMode();
            }
        });

        // ========================================
        // END ACCIDENT MODE FUNCTIONS
        // ========================================

        // Skip to main content link
        document.addEventListener('DOMContentLoaded', function() {
            const skipLink = document.createElement('a');
            skipLink.href = '#main-content';
            skipLink.className = 'skip-link';
            skipLink.textContent = 'Skip to main content';
            skipLink.style.cssText = 'position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;z-index:9999;';
            skipLink.addEventListener('focus', function() {
                this.style.cssText = 'position:fixed;left:50%;transform:translateX(-50%);top:10px;padding:12px 24px;background:#0066FF;color:white;border-radius:8px;z-index:9999;font-weight:600;';
            });
            skipLink.addEventListener('blur', function() {
                this.style.cssText = 'position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;z-index:9999;';
            });
            document.querySelector('.device-screen').prepend(skipLink);
        });
    </script>

</body>
</html>
